<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Prof.&nbsp;Calvin">

<title>Shell – Scientific Computing</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./A0_gitbash.html" rel="next">
<link href="./02_neovim.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-a4a11d514c7d463668e07712114998e6.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-70c9a4798e5f6abb0636bcdc3eed0e90.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./03_shell.html">Shell</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Scientific Computing</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_neovim.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Neovim</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_shell.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Shell</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A0_gitbash.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Appendix - Git Bash</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A1_keybinds.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Appendix - Commands</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#why-shell" id="toc-why-shell" class="nav-link active" data-scroll-target="#why-shell">Why Shell?</a>
  <ul class="collapse">
  <li><a href="#what-is-the-shell" id="toc-what-is-the-shell" class="nav-link" data-scroll-target="#what-is-the-shell">What is the “shell”?</a></li>
  <li><a href="#conceptualizing" id="toc-conceptualizing" class="nav-link" data-scroll-target="#conceptualizing">Conceptualizing</a></li>
  <li><a href="#on-the-shell" id="toc-on-the-shell" class="nav-link" data-scroll-target="#on-the-shell">On the Shell</a></li>
  <li><a href="#more-on-the-shell" id="toc-more-on-the-shell" class="nav-link" data-scroll-target="#more-on-the-shell">More on the Shell</a></li>
  <li><a href="#automation" id="toc-automation" class="nav-link" data-scroll-target="#automation">Automation</a></li>
  <li><a href="#why-not-the-shell" id="toc-why-not-the-shell" class="nav-link" data-scroll-target="#why-not-the-shell">Why not the shell?</a></li>
  </ul></li>
  <li><a href="#git-bash" id="toc-git-bash" class="nav-link" data-scroll-target="#git-bash">Git Bash</a>
  <ul class="collapse">
  <li><a href="#setup" id="toc-setup" class="nav-link" data-scroll-target="#setup">Setup</a></li>
  <li><a href="#bash" id="toc-bash" class="nav-link" data-scroll-target="#bash">Bash</a></li>
  <li><a href="#windows" id="toc-windows" class="nav-link" data-scroll-target="#windows">Windows</a></li>
  <li><a href="#macos" id="toc-macos" class="nav-link" data-scroll-target="#macos">MacOS</a></li>
  <li><a href="#why-standardize" id="toc-why-standardize" class="nav-link" data-scroll-target="#why-standardize">Why standardize?</a></li>
  <li><a href="#diving-in" id="toc-diving-in" class="nav-link" data-scroll-target="#diving-in">Diving In</a></li>
  <li><a href="#starting-point" id="toc-starting-point" class="nav-link" data-scroll-target="#starting-point">Starting Point</a></li>
  <li><a href="#wildcard" id="toc-wildcard" class="nav-link" data-scroll-target="#wildcard">Wildcard</a></li>
  </ul></li>
  <li><a href="#the-file-system" id="toc-the-file-system" class="nav-link" data-scroll-target="#the-file-system">The File System</a>
  <ul class="collapse">
  <li><a href="#file-management" id="toc-file-management" class="nav-link" data-scroll-target="#file-management">File Management</a></li>
  <li><a href="#rm" id="toc-rm" class="nav-link" data-scroll-target="#rm"><code>rm</code></a></li>
  <li><a href="#removerecycle" id="toc-removerecycle" class="nav-link" data-scroll-target="#removerecycle">Remove/Recycle</a></li>
  <li><a href="#alternative" id="toc-alternative" class="nav-link" data-scroll-target="#alternative">Alternative</a></li>
  </ul></li>
  <li><a href="#movement" id="toc-movement" class="nav-link" data-scroll-target="#movement">Movement</a>
  <ul class="collapse">
  <li><a href="#moving-files" id="toc-moving-files" class="nav-link" data-scroll-target="#moving-files">Moving Files</a></li>
  <li><a href="#moving-in-terminal" id="toc-moving-in-terminal" class="nav-link" data-scroll-target="#moving-in-terminal">Moving in Terminal</a></li>
  <li><a href="#locating-ourselves" id="toc-locating-ourselves" class="nav-link" data-scroll-target="#locating-ourselves">Locating ourselves</a></li>
  <li><a href="#moving-ourselves" id="toc-moving-ourselves" class="nav-link" data-scroll-target="#moving-ourselves">Moving ourselves</a></li>
  <li><a href="#movement-1" id="toc-movement-1" class="nav-link" data-scroll-target="#movement-1">Movement</a></li>
  <li><a href="#exiting-a-folder" id="toc-exiting-a-folder" class="nav-link" data-scroll-target="#exiting-a-folder">Exiting a Folder</a></li>
  <li><a href="#graphically" id="toc-graphically" class="nav-link" data-scroll-target="#graphically">Graphically</a></li>
  <li><a href="#removing-directories" id="toc-removing-directories" class="nav-link" data-scroll-target="#removing-directories">Removing Directories</a></li>
  </ul></li>
  <li><a href="#files" id="toc-files" class="nav-link" data-scroll-target="#files">Files</a>
  <ul class="collapse">
  <li><a href="#reading" id="toc-reading" class="nav-link" data-scroll-target="#reading">Reading</a></li>
  <li><a href="#writing" id="toc-writing" class="nav-link" data-scroll-target="#writing">Writing</a></li>
  <li><a href="#echoing" id="toc-echoing" class="nav-link" data-scroll-target="#echoing">Echoing</a></li>
  <li><a href="#redirecting" id="toc-redirecting" class="nav-link" data-scroll-target="#redirecting">Redirecting</a></li>
  <li><a href="#example" id="toc-example" class="nav-link" data-scroll-target="#example">Example</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  </ul></li>
  <li><a href="#comments" id="toc-comments" class="nav-link" data-scroll-target="#comments">Comments</a>
  <ul class="collapse">
  <li><a href="#taking-notes" id="toc-taking-notes" class="nav-link" data-scroll-target="#taking-notes">Taking notes</a></li>
  <li><a href="#documentation" id="toc-documentation" class="nav-link" data-scroll-target="#documentation">Documentation</a></li>
  <li><a href="#update-pw.py" id="toc-update-pw.py" class="nav-link" data-scroll-target="#update-pw.py">Update <code>pw.py</code></a></li>
  <li><a href="#updating-tax.py" id="toc-updating-tax.py" class="nav-link" data-scroll-target="#updating-tax.py">Updating <code>tax.py</code></a></li>
  </ul></li>
  <li><a href="#vim-motions" id="toc-vim-motions" class="nav-link" data-scroll-target="#vim-motions">Vim Motions</a>
  <ul class="collapse">
  <li><a href="#command-mode" id="toc-command-mode" class="nav-link" data-scroll-target="#command-mode">Command Mode</a></li>
  <li><a href="#solution" id="toc-solution" class="nav-link" data-scroll-target="#solution">Solution</a></li>
  <li><a href="#insert-is-easy" id="toc-insert-is-easy" class="nav-link" data-scroll-target="#insert-is-easy">Insert is easy</a></li>
  <li><a href="#is-end-of-line" id="toc-is-end-of-line" class="nav-link" data-scroll-target="#is-end-of-line"><code>$</code> is end-of-line</a></li>
  <li><a href="#is-start-of-line" id="toc-is-start-of-line" class="nav-link" data-scroll-target="#is-start-of-line"><code>0</code> is start-of-line</a></li>
  <li><a href="#aside-mouse" id="toc-aside-mouse" class="nav-link" data-scroll-target="#aside-mouse">Aside: Mouse</a></li>
  <li><a href="#yank-paste" id="toc-yank-paste" class="nav-link" data-scroll-target="#yank-paste">Yank &amp; Paste</a></li>
  <li><a href="#update-it" id="toc-update-it" class="nav-link" data-scroll-target="#update-it">Update it</a></li>
  <li><a href="#add-the-range" id="toc-add-the-range" class="nav-link" data-scroll-target="#add-the-range">Add the range</a></li>
  </ul></li>
  <li><a href="#scientific-writing" id="toc-scientific-writing" class="nav-link" data-scroll-target="#scientific-writing">Scientific Writing</a>
  <ul class="collapse">
  <li><a href="#writing-as-thinking" id="toc-writing-as-thinking" class="nav-link" data-scroll-target="#writing-as-thinking">Writing as Thinking</a></li>
  <li><a href="#naive-notes" id="toc-naive-notes" class="nav-link" data-scroll-target="#naive-notes">Naive notes</a></li>
  <li><a href="#compute-intercept" id="toc-compute-intercept" class="nav-link" data-scroll-target="#compute-intercept">Compute Intercept</a></li>
  <li><a href="#a-linear-equation" id="toc-a-linear-equation" class="nav-link" data-scroll-target="#a-linear-equation">A Linear Equation</a></li>
  <li><a href="#aside-slope-intercept" id="toc-aside-slope-intercept" class="nav-link" data-scroll-target="#aside-slope-intercept">Aside: Slope-Intercept</a></li>
  <li><a href="#aside-scientific-application" id="toc-aside-scientific-application" class="nav-link" data-scroll-target="#aside-scientific-application">Aside: Scientific Application</a></li>
  </ul></li>
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise">Exercise</a>
  <ul class="collapse">
  <li><a href="#intercept-computation" id="toc-intercept-computation" class="nav-link" data-scroll-target="#intercept-computation">Intercept Computation</a></li>
  <li><a href="#first" id="toc-first" class="nav-link" data-scroll-target="#first">First</a></li>
  <li><a href="#aside-loop-version" id="toc-aside-loop-version" class="nav-link" data-scroll-target="#aside-loop-version">Aside: Loop Version</a></li>
  <li><a href="#second" id="toc-second" class="nav-link" data-scroll-target="#second">Second</a></li>
  <li><a href="#aside-visual-block" id="toc-aside-visual-block" class="nav-link" data-scroll-target="#aside-visual-block">Aside: Visual Block</a></li>
  <li><a href="#example-1" id="toc-example-1" class="nav-link" data-scroll-target="#example-1">Example</a></li>
  <li><a href="#aside-printing-python" id="toc-aside-printing-python" class="nav-link" data-scroll-target="#aside-printing-python">Aside: Printing Python</a></li>
  <li><a href="#third" id="toc-third" class="nav-link" data-scroll-target="#third">Third</a></li>
  <li><a href="#fourth" id="toc-fourth" class="nav-link" data-scroll-target="#fourth">Fourth</a></li>
  <li><a href="#exercise-1" id="toc-exercise-1" class="nav-link" data-scroll-target="#exercise-1">Exercise</a></li>
  <li><a href="#solution-pt.-1" id="toc-solution-pt.-1" class="nav-link" data-scroll-target="#solution-pt.-1">Solution pt.&nbsp;1</a></li>
  <li><a href="#solution-pt.-2" id="toc-solution-pt.-2" class="nav-link" data-scroll-target="#solution-pt.-2">Solution pt.&nbsp;2</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="03_shell.rjs.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Shell</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i></button></div></div>
<p class="subtitle lead">Scientific Computing</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Prof.&nbsp;Calvin </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="why-shell" class="level1">
<h1>Why Shell?</h1>
<section id="what-is-the-shell" class="level2">
<h2 class="anchored" data-anchor-id="what-is-the-shell">What is the “shell”?</h2>
<ul>
<li>For lack of a better word, the command line shell.</li>
<li>We’ve called it the terminal.</li>
<li>Thus far, we’ve used the shell to run <code>python</code> and <code>nvim</code></li>
<li>We’ve also briefly used a single shell command - <code>ls</code>
<ul>
<li>Recall we used it to see we’d written a file with <code>nvim</code></li>
</ul></li>
</ul>
</section>
<section id="conceptualizing" class="level2">
<h2 class="anchored" data-anchor-id="conceptualizing">Conceptualizing</h2>
<ul>
<li>So far we’ve used the shell as follows:</li>
</ul>
<div class="cell" data-fig-width="400px" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<svg width="400" height="480" viewbox="0.00 0.00 200.71 237.96" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 233.96)">
<title>shell</title>
<!-- Terminal -->
<g id="node1" class="node">
<title>Terminal</title>
<ellipse fill="none" stroke="#ffffff" cx="97.56" cy="-183.53" rx="46.36" ry="46.36"></ellipse>
<text text-anchor="middle" x="97.56" y="-179.33" font-family="Times,serif" font-size="14.00" fill="#ffffff">Terminal</text>
</g>
<!-- Terminal&#45;&gt;Terminal -->
<g id="edge5" class="edge">
<title>Terminal-&gt;Terminal</title>
<path fill="none" stroke="#ffffff" d="M142.13,-196.86C153.48,-195.99 161.99,-191.54 161.99,-183.53 161.99,-178.14 158.15,-174.37 152.18,-172.2"></path>
<polygon fill="#ffffff" stroke="#ffffff" points="152.62,-168.72 142.13,-170.19 151.25,-175.59 152.62,-168.72"></polygon>
<text text-anchor="middle" x="166.66" y="-179.33" font-family="Times,serif" font-size="14.00" fill="#ffffff">ls</text>
</g>
<!-- Python -->
<g id="node2" class="node">
<title>Python</title>
<ellipse fill="none" stroke="#ffffff" cx="40.56" cy="-42.15" rx="38.31" ry="38.31"></ellipse>
<text text-anchor="middle" x="40.56" y="-37.95" font-family="Times,serif" font-size="14.00" fill="#ffffff">Python</text>
</g>
<!-- Terminal&#45;&gt;Python -->
<g id="edge1" class="edge">
<title>Terminal-&gt;Python</title>
<path fill="none" stroke="#ffffff" d="M54.62,-164.97C35.36,-154.67 14.56,-139.6 3.67,-119.1 -3.2,-106.16 0.92,-91.75 8.49,-78.99"></path>
<polygon fill="#ffffff" stroke="#ffffff" points="11.54,-80.71 14.19,-70.45 5.72,-76.82 11.54,-80.71"></polygon>
<text text-anchor="middle" x="27.51" y="-106.5" font-family="Times,serif" font-size="14.00" fill="#ffffff">python3</text>
</g>
<!-- Neovim -->
<g id="node3" class="node">
<title>Neovim</title>
<ellipse fill="none" stroke="#ffffff" cx="150.56" cy="-42.15" rx="42.3" ry="42.3"></ellipse>
<text text-anchor="middle" x="150.56" y="-37.95" font-family="Times,serif" font-size="14.00" fill="#ffffff">Neovim</text>
</g>
<!-- Terminal&#45;&gt;Neovim -->
<g id="edge3" class="edge">
<title>Terminal-&gt;Neovim</title>
<path fill="none" stroke="#ffffff" d="M112.33,-139.05C116.54,-127.09 121.22,-114.15 125.78,-102.3 127.27,-98.44 128.85,-94.46 130.45,-90.47"></path>
<polygon fill="#ffffff" stroke="#ffffff" points="133.7,-91.78 134.24,-81.2 127.22,-89.13 133.7,-91.78"></polygon>
<text text-anchor="middle" x="140.95" y="-106.5" font-family="Times,serif" font-size="14.00" fill="#ffffff">nvim</text>
</g>
<!-- Python&#45;&gt;Terminal -->
<g id="edge2" class="edge">
<title>Python-&gt;Terminal</title>
<path fill="none" stroke="#ffffff" d="M54.89,-78.17C61.4,-94.09 69.23,-113.25 76.4,-130.79"></path>
<polygon fill="#ffffff" stroke="#ffffff" points="73.28,-132.4 80.31,-140.33 79.76,-129.75 73.28,-132.4"></polygon>
<text text-anchor="middle" x="86.72" y="-106.5" font-family="Times,serif" font-size="14.00" fill="#ffffff">exit()</text>
</g>
<!-- Neovim&#45;&gt;Terminal -->
<g id="edge4" class="edge">
<title>Neovim-&gt;Terminal</title>
<path fill="none" stroke="#ffffff" d="M158.79,-83.54C159.59,-95.32 158.82,-108 154.56,-119.1 151.1,-128.13 145.69,-136.69 139.55,-144.42"></path>
<polygon fill="#ffffff" stroke="#ffffff" points="136.51,-142.6 132.67,-152.47 141.83,-147.15 136.51,-142.6"></polygon>
<text text-anchor="middle" x="163.01" y="-106.5" font-family="Times,serif" font-size="14.00" fill="#ffffff">:x</text>
</g>
</g>
</svg>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</section>
<section id="on-the-shell" class="level2">
<h2 class="anchored" data-anchor-id="on-the-shell">On the Shell</h2>
<ul>
<li>Shell scripting is used to control compute <em>clusters</em>
<ul>
<li>These clusters do complex computations like climate modelling, protein folding.</li>
<li>Sometimes called “HPC” - high performance computing.</li>
</ul></li>
<li>We can practice using the same techniques on our own computers!</li>
</ul>
</section>
<section id="more-on-the-shell" class="level2">
<h2 class="anchored" data-anchor-id="more-on-the-shell">More on the Shell</h2>
<ul>
<li>Shell scripting is <em>durable</em>
<ul>
<li>Unlike Google Drive or Dropbox, shell scripts from the 70s and 80s (more or less) work today</li>
<li>Similar arguments for Neovim vs.&nbsp;Microsoft Office Word or Google Docs</li>
</ul></li>
<li>Shell scripting is <em>portable</em>
<ul>
<li>People all around the world use the exact same commands.</li>
</ul></li>
</ul>
</section>
<section id="automation" class="level2">
<h2 class="anchored" data-anchor-id="automation">Automation</h2>
<ul>
<li>Shell scripting can be automated
<ul>
<li>Sometimes we just want a computer to do something without us thinking about it.</li>
<li>Say you want to collate data every Sunday at 2 PM PT.
<ul>
<li>Write a <code>.py</code> script that collates</li>
<li>Schedule it to run automatically with the shell <code>cron</code> command</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="why-not-the-shell" class="level2">
<h2 class="anchored" data-anchor-id="why-not-the-shell">Why not the shell?</h2>
<ul>
<li><strong>Non-graphical</strong> - When first learning, students are used to see pictures and clicking them</li>
<li><strong>OS-based</strong> - Windows and MacOS have different shell scripts</li>
<li><strong>Steep-learning curve</strong> - Like Neovim, students generally find it difficult to get started, though it is widely preferred by experienced users</li>
</ul>
</section>
</section>
<section id="git-bash" class="level1">
<h1>Git Bash</h1>
<section id="setup" class="level2">
<h2 class="anchored" data-anchor-id="setup">Setup</h2>
<ul>
<li>We need to do a bit more setup to:
<ul>
<li>Make the course run smoothly</li>
<li>Learn the general, transferrable skills we want.</li>
</ul></li>
</ul>
</section>
<section id="bash" class="level2">
<h2 class="anchored" data-anchor-id="bash">Bash</h2>
<ul>
<li>The standard for shell scripting is “bash”</li>
</ul>
<blockquote class="blockquote">
<p><a href="https://en.wikipedia.org/wiki/Bash_(Unix_shell)">In computing, Bash (short for “Bourne Again SHell,”) is an interactive command interpreter and command programming language developed for UNIX-like operating systems.</a></p>
</blockquote>
<ul>
<li>(It’s free)</li>
</ul>
</section>
<section id="windows" class="level2">
<h2 class="anchored" data-anchor-id="windows">Windows</h2>
<ul>
<li>By default, Windows has two shells:
<ul>
<li><code>cmd.bat</code> - From the 90s</li>
<li>PowerShell - Newer standard</li>
</ul></li>
<li>Neither used in scientific computing.</li>
<li>Instead use:
<ul>
<li><a href="https://git-scm.com/downloads/win">Git Bash</a>
<ul>
<li>Like Python, there is a very important box to check!</li>
<li>I provide an <a href="./A0_gitbash.html">Appendix</a></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="macos" class="level2">
<h2 class="anchored" data-anchor-id="macos">MacOS</h2>
<ul>
<li>MacOS uses <code>zsh</code></li>
<li>It is close enough to bash to use in this course.</li>
<li>You will still need to install <code>git</code>, however, a critical shell command.
<ul>
<li>Install <a href="https://git-scm.com/downloads/mac">Git for macOS</a></li>
<li>It installs through command line!</li>
</ul></li>
</ul>
</section>
<section id="why-standardize" class="level2">
<h2 class="anchored" data-anchor-id="why-standardize">Why standardize?</h2>
<ul>
<li>It is bad enough to have to say “type <code>python</code> or <code>python3</code>”</li>
<li>But even just using <code>ls</code> we see perhaps frustrating differences.
<ul>
<li><code>ls</code> on bash lists only file names</li>
<li><code>ls</code> on PowerShell lists file names, dates, and more</li>
<li><code>ls</code> on <code>cmd.bat</code> is an error.</li>
</ul></li>
</ul>
</section>
<section id="diving-in" class="level2">
<h2 class="anchored" data-anchor-id="diving-in">Diving In</h2>
<ul>
<li>Today we will use shell scripting in the terminal to…
<ul>
<li>Delete old files</li>
<li>Organize files within folders</li>
<li>Save the output of scripts as files</li>
</ul></li>
</ul>
</section>
<section id="starting-point" class="level2">
<h2 class="anchored" data-anchor-id="starting-point">Starting Point</h2>
<ul>
<li>Let’s see what <code>.py</code> files you have.</li>
<li>We’ll issue an <code>ls</code> command.</li>
<li>We’ll provide an <em>argument</em> to the command.</li>
<li>We’ll use the <code>.py</code> <em>file extension</em> in the command</li>
<li>And importantly, we’ll use the “wildcard” <code>*</code></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">ls</span> <span class="pp">*</span>.py</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="wildcard" class="level2">
<h2 class="anchored" data-anchor-id="wildcard">Wildcard</h2>
<ul>
<li>The <code>*</code> will “match” any name.</li>
<li>So <code>.py</code> will “match” and Python file!</li>
<li>I don’t know what you’ve saved, I see this!</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls <span class="pp">*</span>.py</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">args.py</span>  hi.py  pw.py  reply.py  tax.py</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>What about <code>ls *</code>? <code>ls *w.py</code>?</li>
</ul>
</section>
</section>
<section id="the-file-system" class="level1">
<h1>The File System</h1>
<section id="file-management" class="level2">
<h2 class="anchored" data-anchor-id="file-management">File Management</h2>
<ul>
<li>I tend to like to:
<ul>
<li>Delete old files</li>
<li>Organize files within folders</li>
<li>Save the output of scripts as files</li>
</ul></li>
<li>Let’s do that.</li>
</ul>
</section>
<section id="rm" class="level2">
<h2 class="anchored" data-anchor-id="rm"><code>rm</code></h2>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>This command is <em>dangerous</em>.</p>
</div>
</div>
<ul>
<li>The <code>rm</code> command removes files by name.</li>
<li>For example, I don’t use <code>reply.py</code> anymore.</li>
<li>I can remove it like so:</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls <span class="pp">*</span>.py</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">args.py</span>  hi.py  pw.py  reply.py  tax.py</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> rm reply.py</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls <span class="pp">*</span>.py</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="ex">args.py</span>  hi.py  pw.py  tax.py</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="removerecycle" class="level2">
<h2 class="anchored" data-anchor-id="removerecycle">Remove/Recycle</h2>
<ul>
<li>You may be used to being able to restore deleted files from a recycling bin on your device.</li>
<li>Restoring from <code>rm</code> is sometimes possible, but never easy.</li>
<li>Be conscientious!
<ul>
<li>Learning to think about file deletion is an important part of the scientific computing process!</li>
</ul></li>
</ul>
</section>
<section id="alternative" class="level2">
<h2 class="anchored" data-anchor-id="alternative">Alternative</h2>
<ul>
<li>Sometimes I don’t want to look at a file, but I don’t want to delete it either.</li>
<li>I often keep a folder around called “old”</li>
<li>It’s stuff that’s old!</li>
<li>I can make a folder with <code>mkdir</code> and the folder name, so</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">args.py</span>  hi.py  pw.py  tax.py</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mkdir old</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="ex">args.py</span>  hi.py  old  pw.py  tax.py</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="movement" class="level1">
<h1>Movement</h1>
<section id="moving-files" class="level2">
<h2 class="anchored" data-anchor-id="moving-files">Moving Files</h2>
<ul>
<li>You may be used to “drag and drop” movement of files between folders.</li>
<li>In bash, we can do this using the <code>mv</code> command.</li>
<li>It takes <em>two</em> arguments.
<ul>
<li>The file to move, and</li>
<li>A folder to move it to.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">args.py</span>  hi.py  old  pw.py  tax.py</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mv hi.py old</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="ex">args.py</span>  old  pw.py  tax.py</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>Where is <code>hi.py</code>?</li>
</ul>
</section>
<section id="moving-in-terminal" class="level2">
<h2 class="anchored" data-anchor-id="moving-in-terminal">Moving in Terminal</h2>
<ul>
<li>When we are using the terminal, we have a notion of some <em>location</em></li>
<li>It is the same kind of location a file can have, that is, within some folder.</li>
<li>These locations are called “paths” and are defined by how we get to them.</li>
</ul>
</section>
<section id="locating-ourselves" class="level2">
<h2 class="anchored" data-anchor-id="locating-ourselves">Locating ourselves</h2>
<ul>
<li>You can see where you are at in the terminal at any time with <code>pwd</code></li>
<li>Stands for “print working directory”</li>
<li>If you just opened Terminal on Windows you would see:</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pwd</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="ex">/c/Users/cd-desk</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>On MacOS, I believe</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pwd</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">/home/user</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="moving-ourselves" class="level2">
<h2 class="anchored" data-anchor-id="moving-ourselves">Moving ourselves</h2>
<ul>
<li>To change which folder (or directory) the terminal is currently working within
<ul>
<li>The “working directory”</li>
</ul></li>
<li>We use the “change directory” command <code>cd</code></li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="ex">args.py</span>  old  pw.py  tax.py  </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pwd</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="ex">/home/user</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd old</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="ex">hi.py</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> pwd</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="ex">/home/user/old</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="movement-1" class="level2">
<h2 class="anchored" data-anchor-id="movement-1">Movement</h2>
<ul>
<li>We can move a file, like <code>hi.py</code>, to a folder, like <code>old</code></li>
</ul>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> mv hi.py old</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>We can move the terminal’s current location to folder, like <code>old</code></li>
</ul>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd old</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="exiting-a-folder" class="level2">
<h2 class="anchored" data-anchor-id="exiting-a-folder">Exiting a Folder</h2>
<ul>
<li>To leave a folder after <code>cd</code>ing into it, we use a special destination</li>
</ul>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cd ..</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="ex">user@DESKTOP-THMS2PJ:~$</span> pwd</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="ex">/home/user</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li><code>..</code> is the name of the folder that <em>contains</em> the folder you are currently in.</li>
<li>So you can use <code>cd</code> to change to the containing folder, often called the “parent”</li>
</ul>
</section>
<section id="graphically" class="level2">
<h2 class="anchored" data-anchor-id="graphically">Graphically</h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-fig-width="200px" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<svg width="200" height="480" viewbox="0.00 0.00 75.09 172.54" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 168.54)">
<title>shell</title>
<!-- home -->
<g id="node1" class="node">
<title>home</title>
<ellipse fill="none" stroke="#ffffff" cx="32.49" cy="-132.04" rx="32.48" ry="32.48"></ellipse>
<text text-anchor="middle" x="32.49" y="-127.84" font-family="Times,serif" font-size="14.00" fill="#ffffff">home</text>
</g>
<!-- old -->
<g id="node2" class="node">
<title>old</title>
<ellipse fill="none" stroke="#ffffff" cx="32.49" cy="-23.38" rx="23.25" ry="23.25"></ellipse>
<text text-anchor="middle" x="32.49" y="-19.18" font-family="Times,serif" font-size="14.00" fill="#ffffff">old</text>
</g>
<!-- home&#45;&gt;old -->
<g id="edge1" class="edge">
<title>home-&gt;old</title>
<path fill="none" stroke="#ffffff" d="M32.49,-99.33C32.49,-86.05 32.49,-70.62 32.49,-57.23"></path>
<polygon fill="#ffffff" stroke="#ffffff" points="35.99,-57 32.49,-47 28.99,-57 35.99,-57"></polygon>
<text text-anchor="middle" x="49.79" y="-68.95" font-family="Times,serif" font-size="14.00" fill="#ffffff">cd old</text>
</g>
</g>
</svg>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-fig-width="200px" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<svg width="200" height="480" viewbox="0.00 0.00 72.98 172.54" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 168.54)">
<title>shell</title>
<!-- home -->
<g id="node1" class="node">
<title>home</title>
<ellipse fill="none" stroke="#ffffff" cx="32.49" cy="-132.04" rx="32.48" ry="32.48"></ellipse>
<text text-anchor="middle" x="32.49" y="-127.84" font-family="Times,serif" font-size="14.00" fill="#ffffff">home</text>
</g>
<!-- old -->
<g id="node2" class="node">
<title>old</title>
<ellipse fill="none" stroke="#ffffff" cx="32.49" cy="-23.38" rx="23.25" ry="23.25"></ellipse>
<text text-anchor="middle" x="32.49" y="-19.18" font-family="Times,serif" font-size="14.00" fill="#ffffff">old</text>
</g>
<!-- home&#45;&gt;old -->
<g id="edge1" class="edge">
<title>home-&gt;old</title>
<path fill="none" stroke="transparent" d="M30.83,-99.35C30.44,-88.39 30.21,-76.03 30.49,-64.75 30.55,-62.24 30.64,-59.63 30.74,-57.01"></path>
<polygon fill="transparent" stroke="transparent" points="34.23,-57.15 31.17,-47.01 27.24,-56.84 34.23,-57.15"></polygon>
</g>
<!-- old&#45;&gt;home -->
<g id="edge2" class="edge">
<title>old-&gt;home</title>
<path fill="none" stroke="#ffffff" d="M32.49,-47C32.49,-59.25 32.49,-74.77 32.49,-89.14"></path>
<polygon fill="#ffffff" stroke="#ffffff" points="28.99,-89.33 32.49,-99.33 35.99,-89.33 28.99,-89.33"></polygon>
<text text-anchor="middle" x="44.35" y="-68.95" font-family="Times,serif" font-size="14.00" fill="#ffffff">cd ..</text>
</g>
</g>
</svg>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="removing-directories" class="level2">
<h2 class="anchored" data-anchor-id="removing-directories">Removing Directories</h2>
<ul>
<li>Like files, which we can remove with <code>rm</code>, we can also remove folders (or directories).</li>
<li>We do so with <code>rmdir</code></li>
<li>Let’s try on <code>old</code></li>
</ul>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> rmdir old</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="ex">rmdir:</span> failed to remove <span class="st">'old'</span>: Directory not empty</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>You can only remove folders this way if they are empty.</li>
<li>This helps you not delete things by accident!</li>
</ul>
</section>
</section>
<section id="files" class="level1">
<h1>Files</h1>
<section id="reading" class="level2">
<h2 class="anchored" data-anchor-id="reading">Reading</h2>
<ul>
<li>The names of files are helpful, but not always all we want to know.</li>
<li>When files only contain text - like <code>.py</code> files, we can use <code>cat</code> to see what text they contain.</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cat args.py</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="ex">import</span> sys</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="ex">print</span><span class="er">(</span><span class="ex">sys.argv[0]</span><span class="kw">)</span><span class="ex">i</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="writing" class="level2">
<h2 class="anchored" data-anchor-id="writing">Writing</h2>
<ul>
<li>Really, the best way to write a file from the command line is with Neovim.</li>
<li>But there are other ways, and sometimes you just want to make a file to test something.</li>
<li>You can make an empty file (with noting in it) via <code>touch</code></li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> touch somefile.txt</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> ls <span class="pp">*</span>.txt</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="ex">somefile.txt</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="echoing" class="level2">
<h2 class="anchored" data-anchor-id="echoing">Echoing</h2>
<ul>
<li>To put anything in a file, we often use an <code>echo</code> command.</li>
<li><code>echo</code> is also used for shell “Hello, world!”</li>
</ul>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> echo <span class="st">"Hello, shell!"</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="ex">Hello,</span> shell!</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="redirecting" class="level2">
<h2 class="anchored" data-anchor-id="redirecting">Redirecting</h2>
<ul>
<li>For any shell command - including <code>echo</code> - we can “redirect” what is printed to some file.</li>
<li>We do so using the special shell <code>&gt;</code> operator
<ul>
<li>It’s just a special thing, like <code>*</code></li>
</ul></li>
</ul>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> echo <span class="st">"Hello, redirect!"</span> <span class="op">&gt;</span> hi.txt</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> cat hi.txt</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="ex">Hello,</span> redirect!</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>This is <em>very</em> helpful to save the results of Python computations.</li>
</ul>
</section>
<section id="example" class="level2">
<h2 class="anchored" data-anchor-id="example">Example</h2>
<ul>
<li>Here’s an example how it should work!</li>
</ul>
<div class="sourceCode" id="cb17"><pre class="sourceCode email code-with-copy"><code class="sourceCode email"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>$ python3 tax.py 40000 &gt; tax_burden.txt</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>$ cat tax_burden.txt</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>115529.25</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="references" class="level2">
<h2 class="anchored" data-anchor-id="references">References</h2>
<ul>
<li>You can see the commands used here in a table reference in an <a href="./A1_keybinds.html">Appendix</a></li>
<li>I’ll include them here as well!</li>
</ul>
</section>
<section id="section" class="level2 smaller">
<h2 class="smaller anchored" data-anchor-id="section"></h2>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Command</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ls</code></td>
<td>list files in folder</td>
</tr>
<tr class="even">
<td><code>rm f.txt</code></td>
<td>delete file “f.txt”</td>
</tr>
<tr class="odd">
<td><code>mkdir dir</code></td>
<td>create a new folder named “dir”</td>
</tr>
<tr class="even">
<td><code>mv f.txt dir</code></td>
<td>move file “f.txt” to folder “dir”</td>
</tr>
<tr class="odd">
<td><code>pwd</code></td>
<td>print current folder</td>
</tr>
<tr class="even">
<td><code>cd dir</code></td>
<td>change current folder to “dir”</td>
</tr>
<tr class="odd">
<td><code>cd ..</code></td>
<td>go to “parent” folder</td>
</tr>
<tr class="even">
<td><code>echo hi</code></td>
<td>print the text “hi”</td>
</tr>
<tr class="odd">
<td><code>echo hi &gt;f.txt</code></td>
<td>write “hi” to file “f.txt”</td>
</tr>
<tr class="even">
<td><code>cat f.txt</code></td>
<td>see the text in f.txt</td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="comments" class="level1">
<h1>Comments</h1>
<section id="taking-notes" class="level2">
<h2 class="anchored" data-anchor-id="taking-notes">Taking notes</h2>
<ul>
<li>I claim it is <em>hard</em> to tell what this code is for.</li>
</ul>
<div id="437a85e3" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1"></a><span class="kw">def</span> piecewise(x):</span>
<span id="cb18-2"><a href="#cb18-2"></a>    <span class="cf">if</span> (x <span class="op">&lt;</span> <span class="dv">4</span>):</span>
<span id="cb18-3"><a href="#cb18-3"></a>        <span class="cf">return</span> <span class="dv">9</span> <span class="op">*</span> x <span class="op">**</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">5</span></span>
<span id="cb18-4"><a href="#cb18-4"></a>    <span class="cf">elif</span> (<span class="dv">4</span> <span class="op">&lt;=</span> x <span class="op">&lt;=</span> <span class="dv">8</span>):</span>
<span id="cb18-5"><a href="#cb18-5"></a>        <span class="cf">return</span> <span class="dv">9</span></span>
<span id="cb18-6"><a href="#cb18-6"></a>    <span class="cf">elif</span> (x <span class="op">&gt;</span> <span class="dv">8</span>):</span>
<span id="cb18-7"><a href="#cb18-7"></a>        <span class="cf">return</span> <span class="dv">2</span> <span class="op">-</span> x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>We may know, from taking this class, but in a few weeks, if I find and <code>cat</code> it, I am unlikely to know</li>
</ul>
</section>
<section id="documentation" class="level2">
<h2 class="anchored" data-anchor-id="documentation">Documentation</h2>
<ul>
<li>Good code tends to come with good <em>documentation</em> - written descriptions of what the code does.</li>
<li>In Python, we can include “comments” - text that is not evaluated as code - by starting lines with <code>#</code></li>
</ul>
<div id="a267e17a" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1"></a><span class="co"># This is a comment.</span></span>
<span id="cb19-2"><a href="#cb19-2"></a><span class="bu">print</span>(<span class="st">"This is code."</span>)</span>
<span id="cb19-3"><a href="#cb19-3"></a><span class="co"># This is another comment.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>This is code.</code></pre>
</div>
</div>
</section>
<section id="update-pw.py" class="level2">
<h2 class="anchored" data-anchor-id="update-pw.py">Update <code>pw.py</code></h2>
<ul>
<li>Here is how I documented <code>pw.py</code>:</li>
</ul>
<div id="84c99d35" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># Example of a piecewise function, from a student.</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="co"># f(x) = 9x^2 + 5 | x &lt; 4</span></span>
<span id="cb21-3"><a href="#cb21-3"></a><span class="co">#        9        | 4 &lt;= x &lt;= 8</span></span>
<span id="cb21-4"><a href="#cb21-4"></a><span class="co">#        2 - x    | x &gt; 8</span></span>
<span id="cb21-5"><a href="#cb21-5"></a><span class="kw">def</span> piecewise(x):</span>
<span id="cb21-6"><a href="#cb21-6"></a>    <span class="cf">if</span> (x <span class="op">&lt;</span> <span class="dv">4</span>):</span>
<span id="cb21-7"><a href="#cb21-7"></a>        <span class="cf">return</span> <span class="dv">9</span> <span class="op">*</span> x <span class="op">**</span> <span class="dv">2</span> <span class="op">+</span> <span class="dv">5</span></span>
<span id="cb21-8"><a href="#cb21-8"></a>    <span class="cf">elif</span> (<span class="dv">4</span> <span class="op">&lt;=</span> x <span class="op">&lt;=</span> <span class="dv">8</span>):</span>
<span id="cb21-9"><a href="#cb21-9"></a>        <span class="cf">return</span> <span class="dv">9</span></span>
<span id="cb21-10"><a href="#cb21-10"></a>    <span class="cf">elif</span> (x <span class="op">&gt;</span> <span class="dv">8</span>):</span>
<span id="cb21-11"><a href="#cb21-11"></a>        <span class="cf">return</span> <span class="dv">2</span> <span class="op">-</span> x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>This is functionally indentical, but easier on me!</li>
</ul>
</section>
<section id="updating-tax.py" class="level2">
<h2 class="anchored" data-anchor-id="updating-tax.py">Updating <code>tax.py</code></h2>
<ul>
<li>With the benefit of comments, I’d like to look at income tax again.</li>
<li>Comments can make it much nicer to work with.</li>
<li>How?</li>
</ul>
<div id="dca01b34" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1"></a>tax_policy <span class="op">=</span> [</span>
<span id="cb22-2"><a href="#cb22-2"></a>    [<span class="dv">415050</span>, <span class="fl">.396</span>], </span>
<span id="cb22-3"><a href="#cb22-3"></a>    [<span class="dv">413350</span>, <span class="fl">.35</span>],</span>
<span id="cb22-4"><a href="#cb22-4"></a>    [<span class="dv">190150</span>, <span class="fl">.33</span>],</span>
<span id="cb22-5"><a href="#cb22-5"></a>    [<span class="dv">91150</span>, <span class="fl">.28</span>],</span>
<span id="cb22-6"><a href="#cb22-6"></a>    [<span class="dv">37650</span>, <span class="fl">.25</span>],</span>
<span id="cb22-7"><a href="#cb22-7"></a>    [<span class="dv">9275</span>, <span class="fl">.15</span>]    </span>
<span id="cb22-8"><a href="#cb22-8"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Uh… what does that mean?</li>
</ul>
</section>
</section>
<section id="vim-motions" class="level1">
<h1>Vim Motions</h1>
<section id="command-mode" class="level2">
<h2 class="anchored" data-anchor-id="command-mode">Command Mode</h2>
<ul>
<li>The beauty of Neovim is how powerful command mode, vim motions, and vim operators can be.</li>
<li>We’ll just introduce a few.</li>
<li>The goal is to give a sense of what is possible, and give you things to start practicing.</li>
<li>If you ever want to do something in Neovim, chances are you can!</li>
</ul>
</section>
<section id="solution" class="level2">
<h2 class="anchored" data-anchor-id="solution">Solution</h2>
<details>
<summary>
Code
</summary>
<div id="60810ecb" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1"></a>tax_policy <span class="op">=</span> [</span>
<span id="cb23-2"><a href="#cb23-2"></a>    [<span class="dv">415050</span>, <span class="fl">.396</span>], </span>
<span id="cb23-3"><a href="#cb23-3"></a>    [<span class="dv">413350</span>, <span class="fl">.35</span>],</span>
<span id="cb23-4"><a href="#cb23-4"></a>    [<span class="dv">190150</span>, <span class="fl">.33</span>],</span>
<span id="cb23-5"><a href="#cb23-5"></a>    [<span class="dv">91150</span>, <span class="fl">.28</span>],</span>
<span id="cb23-6"><a href="#cb23-6"></a>    [<span class="dv">37650</span>, <span class="fl">.25</span>],</span>
<span id="cb23-7"><a href="#cb23-7"></a>    [<span class="dv">9275</span>, <span class="fl">.15</span>]    </span>
<span id="cb23-8"><a href="#cb23-8"></a>]</span>
<span id="cb23-9"><a href="#cb23-9"></a><span class="kw">def</span> single_tax(pay):</span>
<span id="cb23-10"><a href="#cb23-10"></a>    tax <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb23-11"><a href="#cb23-11"></a>    <span class="cf">for</span> bracket <span class="kw">in</span> tax_policy:</span>
<span id="cb23-12"><a href="#cb23-12"></a>        <span class="cf">if</span> pay <span class="op">&gt;</span> bracket[<span class="dv">0</span>]:</span>
<span id="cb23-13"><a href="#cb23-13"></a>            tax <span class="op">+=</span> (pay <span class="op">-</span> bracket[<span class="dv">0</span>]) <span class="op">*</span> bracket[<span class="dv">1</span>]</span>
<span id="cb23-14"><a href="#cb23-14"></a>            pay <span class="op">=</span> bracket[<span class="dv">0</span>]</span>
<span id="cb23-15"><a href="#cb23-15"></a>    <span class="cf">return</span> tax <span class="op">+</span> pay <span class="op">*</span> <span class="fl">.1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</details>
</section>
<section id="insert-is-easy" class="level2">
<h2 class="anchored" data-anchor-id="insert-is-easy">Insert is easy</h2>
<ul>
<li>After opening the file, just press <code>i</code> and start typing…</li>
</ul>
<div id="759b984b" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1"></a><span class="co"># Gives the tax rate *above* a certain income level</span></span>
<span id="cb24-2"><a href="#cb24-2"></a>tax_policy <span class="op">=</span> [</span>
<span id="cb24-3"><a href="#cb24-3"></a>    [<span class="dv">415050</span>, <span class="fl">.396</span>], </span>
<span id="cb24-4"><a href="#cb24-4"></a>    [<span class="dv">413350</span>, <span class="fl">.35</span>],</span>
<span id="cb24-5"><a href="#cb24-5"></a>    [<span class="dv">190150</span>, <span class="fl">.33</span>],</span>
<span id="cb24-6"><a href="#cb24-6"></a>    [<span class="dv">91150</span>, <span class="fl">.28</span>],</span>
<span id="cb24-7"><a href="#cb24-7"></a>    [<span class="dv">37650</span>, <span class="fl">.25</span>],</span>
<span id="cb24-8"><a href="#cb24-8"></a>    [<span class="dv">9275</span>, <span class="fl">.15</span>]    </span>
<span id="cb24-9"><a href="#cb24-9"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="is-end-of-line" class="level2">
<h2 class="anchored" data-anchor-id="is-end-of-line"><code>$</code> is end-of-line</h2>
<ul>
<li>ESC to exit <code>i</code> mode</li>
<li>“hjkl” are left-up-down-right
<ul>
<li>So <code>j</code> down to the 415050 line</li>
</ul></li>
<li><code>$</code> jumps to the end of the line</li>
</ul>
<div id="f24f0869" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1"></a><span class="co"># Gives the tax rate *above* a certain income level</span></span>
<span id="cb25-2"><a href="#cb25-2"></a>tax_policy <span class="op">=</span> [</span>
<span id="cb25-3"><a href="#cb25-3"></a>    [<span class="dv">415050</span>, <span class="fl">.396</span>], <span class="co"># e.g. .396 of every 1 dollar over 415050 is taxed</span></span>
<span id="cb25-4"><a href="#cb25-4"></a>    [<span class="dv">413350</span>, <span class="fl">.35</span>],</span>
<span id="cb25-5"><a href="#cb25-5"></a>    [<span class="dv">190150</span>, <span class="fl">.33</span>],</span>
<span id="cb25-6"><a href="#cb25-6"></a>    [<span class="dv">91150</span>, <span class="fl">.28</span>],</span>
<span id="cb25-7"><a href="#cb25-7"></a>    [<span class="dv">37650</span>, <span class="fl">.25</span>],</span>
<span id="cb25-8"><a href="#cb25-8"></a>    [<span class="dv">9275</span>, <span class="fl">.15</span>]    </span>
<span id="cb25-9"><a href="#cb25-9"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="is-start-of-line" class="level2">
<h2 class="anchored" data-anchor-id="is-start-of-line"><code>0</code> is start-of-line</h2>
<ul>
<li>We’ll now copy that comment rather than re-typing the whole thing</li>
<li>ESC into command mode</li>
<li><code>0</code> brings to beginning of line.</li>
<li><code>/</code> let’s us search, so <code>/#</code> searches for the start of the comment
<ul>
<li>Windows I had to “ENTER” after.</li>
</ul></li>
</ul>
<p>Practice this a few times!</p>
</section>
<section id="aside-mouse" class="level2">
<h2 class="anchored" data-anchor-id="aside-mouse">Aside: Mouse</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>I know you can do this with the mouse.</p>
</div>
</div>
<ul>
<li>I type a lot.</li>
<li>I promise this is faster once you practice.
<ul>
<li>Took me around 2 weeks.</li>
<li>Like 15% of a semester.</li>
</ul></li>
<li>It is <em>way</em> faster than laptop trackpads.</li>
</ul>
</section>
<section id="yank-paste" class="level2">
<h2 class="anchored" data-anchor-id="yank-paste">Yank &amp; Paste</h2>
<ul>
<li>Vim predates copy paste!</li>
<li>Type <code>y</code> to yank and then <code>$</code> to yank until the end of the line.
<ul>
<li>We can combine <em>motions</em> (<code>$</code>) and operators (<code>y</code>)</li>
</ul></li>
<li>Use <code>j</code> to go down to the next line.</li>
<li>Use <code>p</code> to paste the comment.</li>
</ul>
<div id="ed547fa2" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1"></a><span class="co"># Gives the tax rate *above* a certain income level</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>tax_policy <span class="op">=</span> [</span>
<span id="cb26-3"><a href="#cb26-3"></a>    [<span class="dv">415050</span>, <span class="fl">.396</span>], <span class="co"># e.g. .396 of every 1 dollar over 415050 is taxed</span></span>
<span id="cb26-4"><a href="#cb26-4"></a>    [<span class="dv">413350</span>, <span class="fl">.35</span>],<span class="co"># e.g. .396 of every 1 dollar over 415050 is taxed</span></span>
<span id="cb26-5"><a href="#cb26-5"></a>    [<span class="dv">190150</span>, <span class="fl">.33</span>],</span>
<span id="cb26-6"><a href="#cb26-6"></a>    [<span class="dv">91150</span>, <span class="fl">.28</span>],</span>
<span id="cb26-7"><a href="#cb26-7"></a>    [<span class="dv">37650</span>, <span class="fl">.25</span>],</span>
<span id="cb26-8"><a href="#cb26-8"></a>    [<span class="dv">9275</span>, <span class="fl">.15</span>]    </span>
<span id="cb26-9"><a href="#cb26-9"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="update-it" class="level2">
<h2 class="anchored" data-anchor-id="update-it">Update it</h2>
<ul>
<li>I used
<ul>
<li><code>/9</code> - first character to change</li>
<li><code>r</code> - replace mode</li>
<li>Type “5”.</li>
<li><code>l</code> to move right (onto “6”) then <code>dl</code> to delete the next character.</li>
</ul></li>
</ul>
<div id="a96c9c0e" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1"></a><span class="co"># Gives the tax rate *above* a certain income level</span></span>
<span id="cb27-2"><a href="#cb27-2"></a>tax_policy <span class="op">=</span> [</span>
<span id="cb27-3"><a href="#cb27-3"></a>    [<span class="dv">415050</span>, <span class="fl">.396</span>], <span class="co"># e.g. .396 of every 1 dollar over 415050 is taxed</span></span>
<span id="cb27-4"><a href="#cb27-4"></a>    [<span class="dv">413350</span>, <span class="fl">.35</span>],<span class="co"># e.g. .35 of every 1 dollar over 415050 is taxed</span></span>
<span id="cb27-5"><a href="#cb27-5"></a>    [<span class="dv">190150</span>, <span class="fl">.33</span>],</span>
<span id="cb27-6"><a href="#cb27-6"></a>    [<span class="dv">91150</span>, <span class="fl">.28</span>],</span>
<span id="cb27-7"><a href="#cb27-7"></a>    [<span class="dv">37650</span>, <span class="fl">.25</span>],</span>
<span id="cb27-8"><a href="#cb27-8"></a>    [<span class="dv">9275</span>, <span class="fl">.15</span>]    </span>
<span id="cb27-9"><a href="#cb27-9"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="add-the-range" class="level2">
<h2 class="anchored" data-anchor-id="add-the-range">Add the range</h2>
<ul>
<li>I used
<ul>
<li><code>/over</code> - first character to change</li>
<li><code>de</code> - We introduce the new <code>e</code> motion for “end of word” and combine with delete.</li>
<li>Type “between 413350 and”</li>
<li>I escaped (ESC) and saved (<code>:w</code>)</li>
</ul></li>
</ul>
<div id="0cef3569" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1"></a><span class="co"># Gives the tax rate *above* a certain income level</span></span>
<span id="cb28-2"><a href="#cb28-2"></a>tax_policy <span class="op">=</span> [</span>
<span id="cb28-3"><a href="#cb28-3"></a>    [<span class="dv">415050</span>, <span class="fl">.396</span>], <span class="co"># e.g. .396 of every 1 dollar over 415050 is taxed</span></span>
<span id="cb28-4"><a href="#cb28-4"></a>    [<span class="dv">413350</span>, <span class="fl">.35</span>],<span class="co"># e.g. .35 of every 1 dollar between 413350 and 415050 is taxed</span></span>
<span id="cb28-5"><a href="#cb28-5"></a>    [<span class="dv">190150</span>, <span class="fl">.33</span>],</span>
<span id="cb28-6"><a href="#cb28-6"></a>    [<span class="dv">91150</span>, <span class="fl">.28</span>],</span>
<span id="cb28-7"><a href="#cb28-7"></a>    [<span class="dv">37650</span>, <span class="fl">.25</span>],</span>
<span id="cb28-8"><a href="#cb28-8"></a>    [<span class="dv">9275</span>, <span class="fl">.15</span>]    </span>
<span id="cb28-9"><a href="#cb28-9"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="scientific-writing" class="level1">
<h1>Scientific Writing</h1>
<section id="writing-as-thinking" class="level2">
<h2 class="anchored" data-anchor-id="writing-as-thinking">Writing as Thinking</h2>
<ul>
<li>I consider writing <em>part of the scientific process</em>.</li>
<li>You may realize while working through this that…</li>
<li>Each tax braket is a simple linear relation!
<ul>
<li>The rate is the slope</li>
<li>The intercept is how much they don’t have to pay due to marginal rates.</li>
</ul></li>
<li><em>By writing and explain our computations, we can uncover insights</em></li>
</ul>
</section>
<section id="naive-notes" class="level2">
<h2 class="anchored" data-anchor-id="naive-notes">Naive notes</h2>
<ul>
<li>Here’s some naive notes I took.</li>
<li>They can be made better!</li>
</ul>
<div id="d780c389" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1"></a><span class="co"># Tax on first bracket, up to 9725 at .1</span></span>
<span id="cb29-2"><a href="#cb29-2"></a>first <span class="op">=</span> <span class="dv">9725</span> <span class="op">*</span> <span class="fl">.1</span></span>
<span id="cb29-3"><a href="#cb29-3"></a><span class="co"># Second - to 37650 at .25</span></span>
<span id="cb29-4"><a href="#cb29-4"></a>second <span class="op">=</span> first <span class="op">+</span> (<span class="dv">37650</span> <span class="op">-</span> <span class="dv">9725</span>) <span class="op">*</span> <span class="fl">.15</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="compute-intercept" class="level2">
<h2 class="anchored" data-anchor-id="compute-intercept">Compute Intercept</h2>
<ul>
<li>We know e.g.&nbsp;the tax cost at 500000</li>
</ul>
<div id="db4e0b71" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1"></a>x <span class="op">=</span> single_tax(<span class="dv">500000</span>)</span>
<span id="cb30-2"><a href="#cb30-2"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="428">
<pre><code>154169.95</code></pre>
</div>
</div>
<ul>
<li>Compare to a non-marginal 39.6%</li>
</ul>
<div id="ee046ddf" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1"></a>y <span class="op">=</span> <span class="dv">500000</span> <span class="op">*</span> <span class="fl">.396</span></span>
<span id="cb32-2"><a href="#cb32-2"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="429">
<pre><code>198000.0</code></pre>
</div>
</div>
<ul>
<li>We can find the difference.</li>
</ul>
<div id="484558de" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1"></a>b <span class="op">=</span> x <span class="op">-</span> y </span>
<span id="cb34-2"><a href="#cb34-2"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="430">
<pre><code>-43830.04999999999</code></pre>
</div>
</div>
</section>
<section id="a-linear-equation" class="level2">
<h2 class="anchored" data-anchor-id="a-linear-equation">A Linear Equation</h2>
<ul>
<li>Try 450000</li>
</ul>
<div id="c03eafc7" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1"></a>income <span class="op">=</span> <span class="dv">450000</span></span>
<span id="cb36-2"><a href="#cb36-2"></a>[single_tax(income), income <span class="op">*</span> <span class="fl">.396</span> <span class="op">+</span> b]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="431">
<pre><code>[134369.95, 134369.95]</code></pre>
</div>
</div>
<ul>
<li>Try 650000</li>
</ul>
<div id="5cb107ca" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1"></a>income <span class="op">=</span> <span class="dv">650000</span></span>
<span id="cb38-2"><a href="#cb38-2"></a>[single_tax(income), income <span class="op">*</span> <span class="fl">.396</span> <span class="op">+</span> b]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="432">
<pre><code>[213569.95, 213569.95]</code></pre>
</div>
</div>
<ul>
<li><em>We can precompute these and make <strong>much simpler</strong> functions</em></li>
</ul>
</section>
<section id="aside-slope-intercept" class="level2">
<h2 class="anchored" data-anchor-id="aside-slope-intercept">Aside: Slope-Intercept</h2>
<ul>
<li>I think of this as <span class="math display">\[
y = mx + b
\]</span></li>
<li>The slope-intercept form of a line, or linear equation.</li>
<li>We calculated it from the point-slope form of a line.</li>
</ul>
</section>
<section id="aside-scientific-application" class="level2">
<h2 class="anchored" data-anchor-id="aside-scientific-application">Aside: Scientific Application</h2>
<ul>
<li>Thinking in slopes and intercepts is a powerful scientific skill!</li>
</ul>
<div id="6f48e9f1" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1"></a><span class="kw">def</span> in_degrees_f(degrees_c):</span>
<span id="cb40-2"><a href="#cb40-2"></a>    <span class="cf">return</span> (<span class="dv">9</span><span class="op">/</span><span class="dv">5</span>) <span class="op">*</span> degrees_c <span class="op">+</span> <span class="dv">32</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Recognize this?</li>
</ul>
<div id="36e85ff0" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1"></a>[in_degrees_f(<span class="dv">0</span>), in_degrees_f(<span class="dv">100</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="434">
<pre><code>[32.0, 212.0]</code></pre>
</div>
</div>
</section>
</section>
<section id="exercise" class="level1">
<h1>Exercise</h1>
<section id="intercept-computation" class="level2">
<h2 class="anchored" data-anchor-id="intercept-computation">Intercept Computation</h2>
<ul>
<li>One of my favorite ways to use Python, Neovim, and the shell is to:
<ul>
<li>Compute some numerical values - Intercept values for linear equations of tax.</li>
<li>Run the script and output the results to the shell.</li>
<li>Use <code>&gt;</code> to direct the output to file.</li>
<li>Use <code>nvim</code> to edit that file into a <em>new</em> Python script that uses the numerical values I found.</li>
</ul></li>
</ul>
</section>
<section id="first" class="level2">
<h2 class="anchored" data-anchor-id="first">First</h2>
<ul>
<li>Write a python script, <code>points.py</code>, that computes the tax cost at the end of each bracket.</li>
<li>Here it is for “Married Filing Jointly”</li>
<li>You can do this with a loop using the <code>tax_policy</code> list-of-lists!</li>
</ul>
<div id="d00504ed" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1"></a>b <span class="op">=</span> <span class="dv">18550</span> <span class="op">*</span> <span class="fl">.1</span></span>
<span id="cb43-2"><a href="#cb43-2"></a><span class="bu">print</span>(b)</span>
<span id="cb43-3"><a href="#cb43-3"></a>b <span class="op">+=</span> (<span class="dv">75300</span> <span class="op">-</span> <span class="dv">18550</span>) <span class="op">*</span> <span class="fl">.15</span></span>
<span id="cb43-4"><a href="#cb43-4"></a><span class="bu">print</span>(b)</span>
<span id="cb43-5"><a href="#cb43-5"></a>b <span class="op">+=</span> (<span class="dv">151900</span> <span class="op">-</span> <span class="dv">75300</span>) <span class="op">*</span> <span class="fl">.25</span></span>
<span id="cb43-6"><a href="#cb43-6"></a><span class="bu">print</span>(b)</span>
<span id="cb43-7"><a href="#cb43-7"></a>b <span class="op">+=</span> (<span class="dv">231450</span> <span class="op">-</span> <span class="dv">151900</span>) <span class="op">*</span> <span class="fl">.28</span></span>
<span id="cb43-8"><a href="#cb43-8"></a><span class="bu">print</span>(b)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1855.0
10367.5
29517.5
51791.5</code></pre>
</div>
</div>
</section>
<section id="aside-loop-version" class="level2">
<h2 class="anchored" data-anchor-id="aside-loop-version">Aside: Loop Version</h2>
<details>
<summary>
Code
</summary>
<div id="9f0673ca" class="cell" data-output-location="column" data-execution_count="21">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1"></a>taxes <span class="op">=</span> [</span>
<span id="cb45-2"><a href="#cb45-2"></a>    [<span class="dv">18550</span>, <span class="fl">.10</span>],</span>
<span id="cb45-3"><a href="#cb45-3"></a>    [<span class="dv">75300</span>, <span class="fl">.15</span>],</span>
<span id="cb45-4"><a href="#cb45-4"></a>    [<span class="dv">151900</span>, <span class="fl">.25</span>],</span>
<span id="cb45-5"><a href="#cb45-5"></a>    [<span class="dv">231450</span>, <span class="fl">.28</span>],</span>
<span id="cb45-6"><a href="#cb45-6"></a>    [<span class="dv">413350</span>, <span class="fl">.33</span>],</span>
<span id="cb45-7"><a href="#cb45-7"></a>    [<span class="dv">466951</span>, <span class="fl">.35</span>]</span>
<span id="cb45-8"><a href="#cb45-8"></a>]</span>
<span id="cb45-9"><a href="#cb45-9"></a></span>
<span id="cb45-10"><a href="#cb45-10"></a>cost <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb45-11"><a href="#cb45-11"></a>start <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb45-12"><a href="#cb45-12"></a><span class="cf">for</span> tax <span class="kw">in</span> taxes:</span>
<span id="cb45-13"><a href="#cb45-13"></a>    cost <span class="op">+=</span> (tax[<span class="dv">0</span>] <span class="op">-</span> start) <span class="op">*</span> tax[<span class="dv">1</span>]</span>
<span id="cb45-14"><a href="#cb45-14"></a>    <span class="bu">print</span>(cost)</span>
<span id="cb45-15"><a href="#cb45-15"></a>    start <span class="op">=</span> tax[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1855.0
10367.5
29517.5
51791.5
111818.5
130578.85</code></pre>
</div>
</div>
</details>
</section>
<section id="second" class="level2">
<h2 class="anchored" data-anchor-id="second">Second</h2>
<ul>
<li>Run the Python script and direct the output to some file, like <code>tax.py</code></li>
</ul>
<div class="sourceCode" id="cb47"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> python points.py <span class="op">&gt;</span> tax.py</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="ex">$</span> nvim tax.py</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>From here, you can convert to a Python list of your choosing with a variety of means.</li>
</ul>
</section>
<section id="aside-visual-block" class="level2">
<h2 class="anchored" data-anchor-id="aside-visual-block">Aside: Visual Block</h2>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>This is an advanced topic.</p>
</div>
</div>
<ul>
<li>We introduce <em>visual block mode</em></li>
<li>A way to modifying multiple lines all at once.
<ul>
<li>There is also a regular “visual mode” <code>v</code> which I use less often.</li>
</ul></li>
</ul>
</section>
<section id="example-1" class="level2">
<h2 class="anchored" data-anchor-id="example-1">Example</h2>
<div class="columns">
<div class="column" style="width:70%;">
<ul>
<li><code>nvim tax.py</code></li>
<li>ctrl+q or ctrl+v to enter “visual block”</li>
<li><code>5j</code> to move down 5 lines</li>
<li><code>I</code> (shift + “i”) to enter “insert block”</li>
<li>Type “[” to begin a list</li>
<li>ESC to exit “insert block”</li>
<li>“[” will appear at the start of every line.</li>
</ul>
</div><div class="column" style="width:30%;">
<ul>
<li>Before:</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>tax.py</strong></pre>
</div>
<div class="sourceCode" id="cb48" data-filename="tax.py"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1"></a><span class="fl">855.0</span></span>
<span id="cb48-2"><a href="#cb48-2"></a><span class="fl">10367.5</span></span>
<span id="cb48-3"><a href="#cb48-3"></a><span class="fl">29517.5</span></span>
<span id="cb48-4"><a href="#cb48-4"></a><span class="fl">51791.5</span></span>
<span id="cb48-5"><a href="#cb48-5"></a><span class="fl">111818.5</span></span>
<span id="cb48-6"><a href="#cb48-6"></a><span class="fl">130578.85</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>After:</li>
</ul>
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>tax.py</strong></pre>
</div>
<div class="sourceCode" id="cb49" data-filename="tax.py"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1"></a>[<span class="fl">855.0</span></span>
<span id="cb49-2"><a href="#cb49-2"></a>[<span class="fl">10367.5</span></span>
<span id="cb49-3"><a href="#cb49-3"></a>[<span class="fl">29517.5</span></span>
<span id="cb49-4"><a href="#cb49-4"></a>[<span class="fl">51791.5</span></span>
<span id="cb49-5"><a href="#cb49-5"></a>[<span class="fl">111818.5</span></span>
<span id="cb49-6"><a href="#cb49-6"></a>[<span class="fl">130578.85</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Press <code>u</code> to undo to practice.</li>
</ul>
</div>
</div>
</section>
<section id="aside-printing-python" class="level2">
<h2 class="anchored" data-anchor-id="aside-printing-python">Aside: Printing Python</h2>
<ul>
<li>Alternatively, you can use <code>print()</code> to directly print things usable as Python.</li>
</ul>
<details>
<summary>
Code
</summary>
<div id="cd2c54d5" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1"></a>cost <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb50-2"><a href="#cb50-2"></a>start <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb50-3"><a href="#cb50-3"></a><span class="cf">for</span> tax <span class="kw">in</span> taxes:</span>
<span id="cb50-4"><a href="#cb50-4"></a>    cost <span class="op">+=</span> (tax[<span class="dv">0</span>] <span class="op">-</span> start) <span class="op">*</span> tax[<span class="dv">1</span>]</span>
<span id="cb50-5"><a href="#cb50-5"></a>    <span class="bu">print</span>([cost, start, tax[<span class="dv">1</span>]])</span>
<span id="cb50-6"><a href="#cb50-6"></a>    start <span class="op">=</span> tax[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1855.0, 0, 0.1]
[10367.5, 18550, 0.15]
[29517.5, 75300, 0.25]
[51791.5, 151900, 0.28]
[111818.5, 231450, 0.33]
[130578.85, 413350, 0.35]</code></pre>
</div>
</div>
</details>
</section>
<section id="third" class="level2">
<h2 class="anchored" data-anchor-id="third">Third</h2>
<ul>
<li>Use points to determine intercepts</li>
<li>Consider:</li>
</ul>
<div id="3c1dc60c" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1"></a><span class="co"># For taxpayers making more than 151900</span></span>
<span id="cb52-2"><a href="#cb52-2"></a><span class="co"># They pay 51791.50, plus</span></span>
<span id="cb52-3"><a href="#cb52-3"></a><span class="co"># .28 for every dollar over 151900</span></span>
<span id="cb52-4"><a href="#cb52-4"></a>bracket <span class="op">=</span> [<span class="fl">51791.5</span>, <span class="dv">151900</span>, <span class="fl">0.28</span>]</span>
<span id="cb52-5"><a href="#cb52-5"></a><span class="co"># What is the linear equation?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>We can calculate it as follows:</li>
</ul>
<div id="801f1a6c" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1"></a>b <span class="op">=</span> <span class="fl">51791.5</span> <span class="op">-</span> (<span class="dv">151900</span> <span class="op">*</span> <span class="fl">.28</span>)</span>
<span id="cb53-2"><a href="#cb53-2"></a>b</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="439">
<pre><code>9259.499999999993</code></pre>
</div>
</div>
</section>
<section id="fourth" class="level2">
<h2 class="anchored" data-anchor-id="fourth">Fourth</h2>
<ul>
<li>Given the calculated slopes and intercepts, construct a piecewise function capturing income tax.</li>
<li>Something like this:</li>
</ul>
<div id="ffc71bef" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1"></a><span class="kw">def</span> married_tax(income):</span>
<span id="cb55-2"><a href="#cb55-2"></a>    <span class="cf">if</span> (<span class="dv">151900</span> <span class="op">&lt;=</span> income <span class="op">&lt;</span> <span class="dv">231450</span>):</span>
<span id="cb55-3"><a href="#cb55-3"></a>        <span class="cf">return</span> income <span class="op">*</span> <span class="fl">.28</span> <span class="op">-</span> <span class="fl">9259.5</span></span>
<span id="cb55-4"><a href="#cb55-4"></a>    <span class="co"># There will be more brackets of course!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exercise-1" class="level2">
<h2 class="anchored" data-anchor-id="exercise-1">Exercise</h2>
<ul>
<li>Create two Python files:
<ul>
<li>One which calculates intercepts - Perhaps <code>intercepts.py</code></li>
<li>One which uses intercepts to compute tax cost linearly. - Perhaps <code>tax_line.py</code></li>
</ul></li>
</ul>
</section>
<section id="solution-pt.-1" class="level2">
<h2 class="anchored" data-anchor-id="solution-pt.-1">Solution pt.&nbsp;1</h2>
<div id="1263d19f" class="cell" data-execution_count="26">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb56"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1"></a>taxes <span class="op">=</span> [</span>
<span id="cb56-2"><a href="#cb56-2"></a>    [<span class="dv">9275</span>, <span class="fl">.10</span>],</span>
<span id="cb56-3"><a href="#cb56-3"></a>    [<span class="dv">37650</span>, <span class="fl">.15</span>],</span>
<span id="cb56-4"><a href="#cb56-4"></a>    [<span class="dv">91150</span>, <span class="fl">.25</span>],</span>
<span id="cb56-5"><a href="#cb56-5"></a>    [<span class="dv">190150</span>, <span class="fl">.28</span>],</span>
<span id="cb56-6"><a href="#cb56-6"></a>    [<span class="dv">413350</span>, <span class="fl">.33</span>],</span>
<span id="cb56-7"><a href="#cb56-7"></a>    [<span class="dv">415051</span>, <span class="fl">.35</span>]</span>
<span id="cb56-8"><a href="#cb56-8"></a>]</span>
<span id="cb56-9"><a href="#cb56-9"></a></span>
<span id="cb56-10"><a href="#cb56-10"></a>cost <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb56-11"><a href="#cb56-11"></a>start <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb56-12"><a href="#cb56-12"></a><span class="cf">for</span> tax <span class="kw">in</span> taxes:</span>
<span id="cb56-13"><a href="#cb56-13"></a>    cost <span class="op">+=</span> (tax[<span class="dv">0</span>] <span class="op">-</span> start) <span class="op">*</span> tax[<span class="dv">1</span>]</span>
<span id="cb56-14"><a href="#cb56-14"></a>    tax <span class="op">+=</span> [cost <span class="op">-</span> tax[<span class="dv">0</span>] <span class="op">*</span> tax[<span class="dv">1</span>]]</span>
<span id="cb56-15"><a href="#cb56-15"></a>    start <span class="op">=</span> tax[<span class="dv">0</span>]</span>
<span id="cb56-16"><a href="#cb56-16"></a>    <span class="bu">print</span>(tax)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="solution-pt.-2" class="level2">
<h2 class="anchored" data-anchor-id="solution-pt.-2">Solution pt.&nbsp;2</h2>
<div id="a6334a5a" class="cell" data-execution_count="27">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1"></a><span class="co"># Generate with `intercepts` then modify with visual block mode</span></span>
<span id="cb57-2"><a href="#cb57-2"></a>taxes <span class="op">=</span> [</span>
<span id="cb57-3"><a href="#cb57-3"></a>    [<span class="dv">9275</span>, <span class="fl">0.1</span>, <span class="fl">0.0</span>],</span>
<span id="cb57-4"><a href="#cb57-4"></a>    [<span class="dv">37650</span>, <span class="fl">0.15</span>, <span class="op">-</span><span class="fl">463.75</span>],</span>
<span id="cb57-5"><a href="#cb57-5"></a>    [<span class="dv">91150</span>, <span class="fl">0.25</span>, <span class="op">-</span><span class="fl">4228.75</span>],</span>
<span id="cb57-6"><a href="#cb57-6"></a>    [<span class="dv">190150</span>, <span class="fl">0.28</span>, <span class="op">-</span><span class="fl">6963.25</span>],</span>
<span id="cb57-7"><a href="#cb57-7"></a>    [<span class="dv">413350</span>, <span class="fl">0.33</span>, <span class="op">-</span><span class="fl">16470.75</span>],</span>
<span id="cb57-8"><a href="#cb57-8"></a>    [<span class="dv">415051</span>, <span class="fl">0.35</span>, <span class="op">-</span><span class="fl">24737.75</span>],</span>
<span id="cb57-9"><a href="#cb57-9"></a>]</span>
<span id="cb57-10"><a href="#cb57-10"></a></span>
<span id="cb57-11"><a href="#cb57-11"></a><span class="kw">def</span> single_tax(income):</span>
<span id="cb57-12"><a href="#cb57-12"></a>    <span class="co"># Check all brackets</span></span>
<span id="cb57-13"><a href="#cb57-13"></a>    <span class="cf">for</span> tax <span class="kw">in</span> taxes:</span>
<span id="cb57-14"><a href="#cb57-14"></a>        <span class="cf">if</span> income <span class="op">&lt;</span> tax[<span class="dv">0</span>]:</span>
<span id="cb57-15"><a href="#cb57-15"></a>            <span class="cf">return</span> income <span class="op">*</span> tax[<span class="dv">1</span>] <span class="op">+</span> tax[<span class="dv">2</span>]</span>
<span id="cb57-16"><a href="#cb57-16"></a>    <span class="co"># We calculated the top bracket earlier</span></span>
<span id="cb57-17"><a href="#cb57-17"></a>    <span class="cf">return</span> income <span class="op">*</span> <span class="fl">.396</span> <span class="op">+</span> <span class="op">-</span><span class="fl">43830.05</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./02_neovim.html" class="pagination-link" aria-label="Neovim">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Neovim</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./A0_gitbash.html" class="pagination-link" aria-label="Appendix - Git Bash">
        <span class="nav-page-text">Appendix - Git Bash</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb58" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb58-1"><a href="#cb58-1"></a><span class="co">---</span></span>
<span id="cb58-2"><a href="#cb58-2"></a><span class="an">title:</span><span class="co"> Shell </span></span>
<span id="cb58-3"><a href="#cb58-3"></a><span class="co">---</span></span>
<span id="cb58-4"><a href="#cb58-4"></a></span>
<span id="cb58-5"><a href="#cb58-5"></a><span class="fu"># Why Shell?</span></span>
<span id="cb58-6"><a href="#cb58-6"></a></span>
<span id="cb58-7"><a href="#cb58-7"></a><span class="fu">## What is the "shell"?</span></span>
<span id="cb58-8"><a href="#cb58-8"></a></span>
<span id="cb58-9"><a href="#cb58-9"></a><span class="ss">- </span>For lack of a better word, the command line shell.</span>
<span id="cb58-10"><a href="#cb58-10"></a><span class="ss">- </span>We've called it the terminal.</span>
<span id="cb58-11"><a href="#cb58-11"></a><span class="ss">- </span>Thus far, we've used the shell to run <span class="in">`python`</span> and <span class="in">`nvim`</span></span>
<span id="cb58-12"><a href="#cb58-12"></a><span class="ss">- </span>We've also briefly used a single shell command - <span class="in">`ls`</span></span>
<span id="cb58-13"><a href="#cb58-13"></a><span class="ss">  - </span>Recall we used it to see we'd written a file with <span class="in">`nvim`</span></span>
<span id="cb58-14"><a href="#cb58-14"></a></span>
<span id="cb58-15"><a href="#cb58-15"></a><span class="fu">## Conceptualizing</span></span>
<span id="cb58-16"><a href="#cb58-16"></a></span>
<span id="cb58-17"><a href="#cb58-17"></a><span class="ss">- </span>So far we've used the shell as follows:</span>
<span id="cb58-18"><a href="#cb58-18"></a></span>
<span id="cb58-21"><a href="#cb58-21"></a><span class="in">```{dot}</span></span>
<span id="cb58-22"><a href="#cb58-22"></a><span class="in">//| echo: false</span></span>
<span id="cb58-23"><a href="#cb58-23"></a><span class="in">//| fig-width: 400px</span></span>
<span id="cb58-24"><a href="#cb58-24"></a><span class="in">digraph shell {</span></span>
<span id="cb58-25"><a href="#cb58-25"></a><span class="in">  rankdir=TB; bgcolor="transparent";</span></span>
<span id="cb58-26"><a href="#cb58-26"></a><span class="in">  node [shape=circle, fontcolor = "#ffffff", color = "#ffffff"]</span></span>
<span id="cb58-27"><a href="#cb58-27"></a><span class="in">  edge [color = "#ffffff",fontcolor = "#ffffff"]</span></span>
<span id="cb58-28"><a href="#cb58-28"></a></span>
<span id="cb58-29"><a href="#cb58-29"></a><span class="in">  Terminal -&gt; Python [label="python3"]</span></span>
<span id="cb58-30"><a href="#cb58-30"></a><span class="in">  Python -&gt; Terminal [label="exit()"]</span></span>
<span id="cb58-31"><a href="#cb58-31"></a><span class="in">  Terminal -&gt; Neovim [label="nvim"]</span></span>
<span id="cb58-32"><a href="#cb58-32"></a><span class="in">  Neovim -&gt; Terminal [label=":x"]</span></span>
<span id="cb58-33"><a href="#cb58-33"></a><span class="in">  Terminal -&gt; Terminal [label="ls"]</span></span>
<span id="cb58-34"><a href="#cb58-34"></a><span class="in">}</span></span>
<span id="cb58-35"><a href="#cb58-35"></a><span class="in">```</span></span>
<span id="cb58-36"><a href="#cb58-36"></a></span>
<span id="cb58-37"><a href="#cb58-37"></a><span class="fu">## On the Shell </span></span>
<span id="cb58-38"><a href="#cb58-38"></a></span>
<span id="cb58-39"><a href="#cb58-39"></a><span class="ss">* </span>Shell scripting is used to control compute *clusters*</span>
<span id="cb58-40"><a href="#cb58-40"></a><span class="ss">  - </span>These clusters do complex computations like climate modelling, protein folding.</span>
<span id="cb58-41"><a href="#cb58-41"></a><span class="ss">  - </span>Sometimes called "HPC" - high performance computing.</span>
<span id="cb58-42"><a href="#cb58-42"></a><span class="ss">* </span>We can practice using the same techniques on our own computers!</span>
<span id="cb58-43"><a href="#cb58-43"></a></span>
<span id="cb58-44"><a href="#cb58-44"></a><span class="fu">## More on the Shell</span></span>
<span id="cb58-45"><a href="#cb58-45"></a></span>
<span id="cb58-46"><a href="#cb58-46"></a><span class="ss">* </span>Shell scripting is *durable*</span>
<span id="cb58-47"><a href="#cb58-47"></a><span class="ss">  - </span>Unlike Google Drive or Dropbox, shell scripts from the 70s and 80s (more or less) work today</span>
<span id="cb58-48"><a href="#cb58-48"></a><span class="ss">  - </span>Similar arguments for Neovim vs. Microsoft Office Word or Google Docs</span>
<span id="cb58-49"><a href="#cb58-49"></a><span class="ss">* </span>Shell scripting is *portable*</span>
<span id="cb58-50"><a href="#cb58-50"></a><span class="ss">  - </span>People all around the world use the exact same commands.</span>
<span id="cb58-51"><a href="#cb58-51"></a></span>
<span id="cb58-52"><a href="#cb58-52"></a><span class="fu">## Automation</span></span>
<span id="cb58-53"><a href="#cb58-53"></a></span>
<span id="cb58-54"><a href="#cb58-54"></a><span class="ss">* </span>Shell scripting can be automated</span>
<span id="cb58-55"><a href="#cb58-55"></a><span class="ss">  - </span>Sometimes we just want a computer to do something without us thinking about it.</span>
<span id="cb58-56"><a href="#cb58-56"></a><span class="ss">  - </span>Say you want to collate data every Sunday at 2 PM PT.</span>
<span id="cb58-57"><a href="#cb58-57"></a><span class="ss">    - </span>Write a <span class="in">`.py`</span> script that collates</span>
<span id="cb58-58"><a href="#cb58-58"></a><span class="ss">    - </span>Schedule it to run automatically with the shell <span class="in">`cron`</span> command</span>
<span id="cb58-59"><a href="#cb58-59"></a></span>
<span id="cb58-60"><a href="#cb58-60"></a></span>
<span id="cb58-61"><a href="#cb58-61"></a><span class="fu">## Why not the shell?</span></span>
<span id="cb58-62"><a href="#cb58-62"></a></span>
<span id="cb58-63"><a href="#cb58-63"></a><span class="ss">- </span>**Non-graphical** - When first learning, students are used to see pictures and clicking them</span>
<span id="cb58-64"><a href="#cb58-64"></a><span class="ss">- </span>**OS-based** - Windows and MacOS have different shell scripts</span>
<span id="cb58-65"><a href="#cb58-65"></a><span class="ss">- </span>**Steep-learning curve** - Like Neovim, students generally find it difficult to get started, though it is widely preferred by experienced users</span>
<span id="cb58-66"><a href="#cb58-66"></a></span>
<span id="cb58-67"><a href="#cb58-67"></a><span class="fu"># Git Bash</span></span>
<span id="cb58-68"><a href="#cb58-68"></a></span>
<span id="cb58-69"><a href="#cb58-69"></a><span class="fu">## Setup</span></span>
<span id="cb58-70"><a href="#cb58-70"></a></span>
<span id="cb58-71"><a href="#cb58-71"></a><span class="ss">- </span>We need to do a bit more setup to:</span>
<span id="cb58-72"><a href="#cb58-72"></a><span class="ss">  - </span>Make the course run smoothly</span>
<span id="cb58-73"><a href="#cb58-73"></a><span class="ss">  - </span>Learn the general, transferrable skills we want.</span>
<span id="cb58-74"><a href="#cb58-74"></a></span>
<span id="cb58-75"><a href="#cb58-75"></a><span class="fu">## Bash</span></span>
<span id="cb58-76"><a href="#cb58-76"></a></span>
<span id="cb58-77"><a href="#cb58-77"></a><span class="ss">- </span>The standard for shell scripting is "bash"</span>
<span id="cb58-78"><a href="#cb58-78"></a></span>
<span id="cb58-79"><a href="#cb58-79"></a><span class="at">&gt; </span><span class="co">[</span><span class="ot">In computing, Bash (short for "Bourne Again SHell,") is an interactive command interpreter and command programming language developed for UNIX-like operating systems.</span><span class="co">]</span><span class="at">(https://en.wikipedia.org/wiki/Bash_(Unix_shell))</span></span>
<span id="cb58-80"><a href="#cb58-80"></a></span>
<span id="cb58-81"><a href="#cb58-81"></a><span class="ss">- </span>(It's free)</span>
<span id="cb58-82"><a href="#cb58-82"></a></span>
<span id="cb58-83"><a href="#cb58-83"></a><span class="fu">## Windows</span></span>
<span id="cb58-84"><a href="#cb58-84"></a></span>
<span id="cb58-85"><a href="#cb58-85"></a><span class="ss">- </span>By default, Windows has two shells:</span>
<span id="cb58-86"><a href="#cb58-86"></a><span class="ss">    - </span><span class="in">`cmd.bat`</span> - From the 90s</span>
<span id="cb58-87"><a href="#cb58-87"></a><span class="ss">    - </span>PowerShell - Newer standard</span>
<span id="cb58-88"><a href="#cb58-88"></a><span class="ss">- </span>Neither used in scientific computing.</span>
<span id="cb58-89"><a href="#cb58-89"></a><span class="ss">- </span>Instead use:</span>
<span id="cb58-90"><a href="#cb58-90"></a><span class="ss">    - </span><span class="co">[</span><span class="ot">Git Bash</span><span class="co">](https://git-scm.com/downloads/win)</span></span>
<span id="cb58-91"><a href="#cb58-91"></a><span class="ss">        - </span>Like Python, there is a very important box to check!</span>
<span id="cb58-92"><a href="#cb58-92"></a><span class="ss">        - </span>I provide an <span class="co">[</span><span class="ot">Appendix</span><span class="co">](A0_gitbash.qmd)</span></span>
<span id="cb58-93"><a href="#cb58-93"></a></span>
<span id="cb58-94"><a href="#cb58-94"></a><span class="fu">## MacOS</span></span>
<span id="cb58-95"><a href="#cb58-95"></a></span>
<span id="cb58-96"><a href="#cb58-96"></a><span class="ss">- </span>MacOS uses <span class="in">`zsh`</span></span>
<span id="cb58-97"><a href="#cb58-97"></a><span class="ss">- </span>It is close enough to bash to use in this course.</span>
<span id="cb58-98"><a href="#cb58-98"></a><span class="ss">- </span>You will still need to install <span class="in">`git`</span>, however, a critical shell command.</span>
<span id="cb58-99"><a href="#cb58-99"></a><span class="ss">    - </span>Install <span class="co">[</span><span class="ot">Git for macOS</span><span class="co">](https://git-scm.com/downloads/mac)</span></span>
<span id="cb58-100"><a href="#cb58-100"></a><span class="ss">    - </span>It installs through command line!</span>
<span id="cb58-101"><a href="#cb58-101"></a></span>
<span id="cb58-102"><a href="#cb58-102"></a><span class="fu">## Why standardize?</span></span>
<span id="cb58-103"><a href="#cb58-103"></a></span>
<span id="cb58-104"><a href="#cb58-104"></a><span class="ss">- </span>It is bad enough to have to say "type <span class="in">`python`</span> or <span class="in">`python3`</span>"</span>
<span id="cb58-105"><a href="#cb58-105"></a><span class="ss">- </span>But even just using <span class="in">`ls`</span> we see perhaps frustrating differences.</span>
<span id="cb58-106"><a href="#cb58-106"></a><span class="ss">    - </span><span class="in">`ls`</span> on bash lists only file names</span>
<span id="cb58-107"><a href="#cb58-107"></a><span class="ss">    - </span><span class="in">`ls`</span> on PowerShell lists file names, dates, and more</span>
<span id="cb58-108"><a href="#cb58-108"></a><span class="ss">    - </span><span class="in">`ls`</span> on <span class="in">`cmd.bat`</span> is an error.</span>
<span id="cb58-109"><a href="#cb58-109"></a></span>
<span id="cb58-110"><a href="#cb58-110"></a><span class="fu">## Diving In</span></span>
<span id="cb58-111"><a href="#cb58-111"></a></span>
<span id="cb58-112"><a href="#cb58-112"></a><span class="ss">- </span>Today we will use shell scripting in the terminal to...</span>
<span id="cb58-113"><a href="#cb58-113"></a><span class="ss">    - </span>Delete old files</span>
<span id="cb58-114"><a href="#cb58-114"></a><span class="ss">    - </span>Organize files within folders</span>
<span id="cb58-115"><a href="#cb58-115"></a><span class="ss">    - </span>Save the output of scripts as files</span>
<span id="cb58-116"><a href="#cb58-116"></a></span>
<span id="cb58-117"><a href="#cb58-117"></a><span class="fu">## Starting Point</span></span>
<span id="cb58-118"><a href="#cb58-118"></a></span>
<span id="cb58-119"><a href="#cb58-119"></a><span class="ss">- </span>Let's see what <span class="in">`.py`</span> files you have.</span>
<span id="cb58-120"><a href="#cb58-120"></a><span class="ss">- </span>We'll issue an <span class="in">`ls`</span> command.</span>
<span id="cb58-121"><a href="#cb58-121"></a><span class="ss">- </span>We'll provide an *argument* to the command.</span>
<span id="cb58-122"><a href="#cb58-122"></a><span class="ss">- </span>We'll use the <span class="in">`.py`</span> *file extension* in the command</span>
<span id="cb58-123"><a href="#cb58-123"></a><span class="ss">- </span>And importantly, we'll use the "wildcard" <span class="in">`*`</span></span>
<span id="cb58-124"><a href="#cb58-124"></a><span class="in">```{.bash}</span></span>
<span id="cb58-125"><a href="#cb58-125"></a><span class="in">ls *.py</span></span>
<span id="cb58-126"><a href="#cb58-126"></a><span class="in">```</span></span>
<span id="cb58-127"><a href="#cb58-127"></a></span>
<span id="cb58-128"><a href="#cb58-128"></a><span class="fu">## Wildcard</span></span>
<span id="cb58-129"><a href="#cb58-129"></a></span>
<span id="cb58-130"><a href="#cb58-130"></a><span class="ss">- </span>The <span class="in">`*`</span> will "match" any name.</span>
<span id="cb58-131"><a href="#cb58-131"></a><span class="ss">- </span>So <span class="in">`.py`</span> will "match" and Python file!</span>
<span id="cb58-132"><a href="#cb58-132"></a><span class="ss">- </span>I don't know what you've saved, I see this!</span>
<span id="cb58-133"><a href="#cb58-133"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb58-134"><a href="#cb58-134"></a><span class="in">$ ls *.py</span></span>
<span id="cb58-135"><a href="#cb58-135"></a><span class="in">args.py  hi.py  pw.py  reply.py  tax.py</span></span>
<span id="cb58-136"><a href="#cb58-136"></a><span class="in">```</span></span>
<span id="cb58-137"><a href="#cb58-137"></a><span class="ss">- </span>What about <span class="in">`ls *`</span>? <span class="in">`ls *w.py`</span>?</span>
<span id="cb58-138"><a href="#cb58-138"></a></span>
<span id="cb58-139"><a href="#cb58-139"></a><span class="fu"># The File System</span></span>
<span id="cb58-140"><a href="#cb58-140"></a></span>
<span id="cb58-141"><a href="#cb58-141"></a><span class="fu">## File Management</span></span>
<span id="cb58-142"><a href="#cb58-142"></a></span>
<span id="cb58-143"><a href="#cb58-143"></a><span class="ss">- </span>I tend to like to:</span>
<span id="cb58-144"><a href="#cb58-144"></a><span class="ss">    - </span>Delete old files</span>
<span id="cb58-145"><a href="#cb58-145"></a><span class="ss">    - </span>Organize files within folders</span>
<span id="cb58-146"><a href="#cb58-146"></a><span class="ss">    - </span>Save the output of scripts as files</span>
<span id="cb58-147"><a href="#cb58-147"></a><span class="ss">- </span>Let's do that.</span>
<span id="cb58-148"><a href="#cb58-148"></a></span>
<span id="cb58-149"><a href="#cb58-149"></a><span class="fu">## `rm`</span></span>
<span id="cb58-150"><a href="#cb58-150"></a></span>
<span id="cb58-151"><a href="#cb58-151"></a>::: {.callout-warning}</span>
<span id="cb58-152"><a href="#cb58-152"></a>This command is *dangerous*.</span>
<span id="cb58-153"><a href="#cb58-153"></a>:::</span>
<span id="cb58-154"><a href="#cb58-154"></a></span>
<span id="cb58-155"><a href="#cb58-155"></a><span class="ss">- </span>The <span class="in">`rm`</span> command removes files by name.</span>
<span id="cb58-156"><a href="#cb58-156"></a><span class="ss">- </span>For example, I don't use <span class="in">`reply.py`</span> anymore.</span>
<span id="cb58-157"><a href="#cb58-157"></a><span class="ss">- </span>I can remove it like so:</span>
<span id="cb58-158"><a href="#cb58-158"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb58-159"><a href="#cb58-159"></a><span class="in">$ ls *.py</span></span>
<span id="cb58-160"><a href="#cb58-160"></a><span class="in">args.py  hi.py  pw.py  reply.py  tax.py</span></span>
<span id="cb58-161"><a href="#cb58-161"></a><span class="in">$ rm reply.py</span></span>
<span id="cb58-162"><a href="#cb58-162"></a><span class="in">$ ls *.py</span></span>
<span id="cb58-163"><a href="#cb58-163"></a><span class="in">args.py  hi.py  pw.py  tax.py</span></span>
<span id="cb58-164"><a href="#cb58-164"></a><span class="in">```</span></span>
<span id="cb58-165"><a href="#cb58-165"></a></span>
<span id="cb58-166"><a href="#cb58-166"></a><span class="fu">## Remove/Recycle</span></span>
<span id="cb58-167"><a href="#cb58-167"></a></span>
<span id="cb58-168"><a href="#cb58-168"></a><span class="ss">- </span>You may be used to being able to restore deleted files from a recycling bin on your device.</span>
<span id="cb58-169"><a href="#cb58-169"></a><span class="ss">- </span>Restoring from <span class="in">`rm`</span> is sometimes possible, but never easy.</span>
<span id="cb58-170"><a href="#cb58-170"></a><span class="ss">- </span>Be conscientious!</span>
<span id="cb58-171"><a href="#cb58-171"></a><span class="ss">    - </span>Learning to think about file deletion is an important part of the scientific computing process!</span>
<span id="cb58-172"><a href="#cb58-172"></a></span>
<span id="cb58-173"><a href="#cb58-173"></a><span class="fu">## Alternative</span></span>
<span id="cb58-174"><a href="#cb58-174"></a></span>
<span id="cb58-175"><a href="#cb58-175"></a><span class="ss">- </span>Sometimes I don't want to look at a file, but I don't want to delete it either.</span>
<span id="cb58-176"><a href="#cb58-176"></a><span class="ss">- </span>I often keep a folder around called "old"</span>
<span id="cb58-177"><a href="#cb58-177"></a><span class="ss">- </span>It's stuff that's old!</span>
<span id="cb58-178"><a href="#cb58-178"></a><span class="ss">- </span>I can make a folder with <span class="in">`mkdir`</span> and the folder name, so</span>
<span id="cb58-179"><a href="#cb58-179"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb58-180"><a href="#cb58-180"></a><span class="in">$ ls</span></span>
<span id="cb58-181"><a href="#cb58-181"></a><span class="in">args.py  hi.py  pw.py  tax.py</span></span>
<span id="cb58-182"><a href="#cb58-182"></a><span class="in">$ mkdir old</span></span>
<span id="cb58-183"><a href="#cb58-183"></a><span class="in">$ ls</span></span>
<span id="cb58-184"><a href="#cb58-184"></a><span class="in">args.py  hi.py  old  pw.py  tax.py</span></span>
<span id="cb58-185"><a href="#cb58-185"></a><span class="in">```</span></span>
<span id="cb58-186"><a href="#cb58-186"></a></span>
<span id="cb58-187"><a href="#cb58-187"></a><span class="fu"># Movement</span></span>
<span id="cb58-188"><a href="#cb58-188"></a></span>
<span id="cb58-189"><a href="#cb58-189"></a><span class="fu">## Moving Files</span></span>
<span id="cb58-190"><a href="#cb58-190"></a></span>
<span id="cb58-191"><a href="#cb58-191"></a><span class="ss">- </span>You may be used to "drag and drop" movement of files between folders.</span>
<span id="cb58-192"><a href="#cb58-192"></a><span class="ss">- </span>In bash, we can do this using the <span class="in">`mv`</span> command.</span>
<span id="cb58-193"><a href="#cb58-193"></a><span class="ss">- </span>It takes *two* arguments.</span>
<span id="cb58-194"><a href="#cb58-194"></a><span class="ss">    - </span>The file to move, and</span>
<span id="cb58-195"><a href="#cb58-195"></a><span class="ss">    - </span>A folder to move it to.</span>
<span id="cb58-196"><a href="#cb58-196"></a></span>
<span id="cb58-197"><a href="#cb58-197"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb58-198"><a href="#cb58-198"></a><span class="in">$ ls</span></span>
<span id="cb58-199"><a href="#cb58-199"></a><span class="in">args.py  hi.py  old  pw.py  tax.py</span></span>
<span id="cb58-200"><a href="#cb58-200"></a><span class="in">$ mv hi.py old</span></span>
<span id="cb58-201"><a href="#cb58-201"></a><span class="in">args.py  old  pw.py  tax.py</span></span>
<span id="cb58-202"><a href="#cb58-202"></a><span class="in">```</span></span>
<span id="cb58-203"><a href="#cb58-203"></a></span>
<span id="cb58-204"><a href="#cb58-204"></a><span class="ss">- </span>Where is <span class="in">`hi.py`</span>?</span>
<span id="cb58-205"><a href="#cb58-205"></a></span>
<span id="cb58-206"><a href="#cb58-206"></a><span class="fu">## Moving in Terminal</span></span>
<span id="cb58-207"><a href="#cb58-207"></a></span>
<span id="cb58-208"><a href="#cb58-208"></a><span class="ss">- </span>When we are using the terminal, we have a notion of some *location*</span>
<span id="cb58-209"><a href="#cb58-209"></a><span class="ss">- </span>It is the same kind of location a file can have, that is, within some folder.</span>
<span id="cb58-210"><a href="#cb58-210"></a><span class="ss">- </span>These locations are called "paths" and are defined by how we get to them.</span>
<span id="cb58-211"><a href="#cb58-211"></a></span>
<span id="cb58-212"><a href="#cb58-212"></a><span class="fu">## Locating ourselves</span></span>
<span id="cb58-213"><a href="#cb58-213"></a></span>
<span id="cb58-214"><a href="#cb58-214"></a><span class="ss">- </span>You can see where you are at in the terminal at any time with <span class="in">`pwd`</span></span>
<span id="cb58-215"><a href="#cb58-215"></a><span class="ss">- </span>Stands for "print working directory"</span>
<span id="cb58-216"><a href="#cb58-216"></a><span class="ss">- </span>If you just opened Terminal on Windows you would see:</span>
<span id="cb58-217"><a href="#cb58-217"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb58-218"><a href="#cb58-218"></a><span class="in">$ pwd</span></span>
<span id="cb58-219"><a href="#cb58-219"></a><span class="in">/c/Users/cd-desk</span></span>
<span id="cb58-220"><a href="#cb58-220"></a><span class="in">```</span></span>
<span id="cb58-221"><a href="#cb58-221"></a><span class="ss">- </span>On MacOS, I believe</span>
<span id="cb58-222"><a href="#cb58-222"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb58-223"><a href="#cb58-223"></a><span class="in">$ pwd</span></span>
<span id="cb58-224"><a href="#cb58-224"></a><span class="in">/home/user</span></span>
<span id="cb58-225"><a href="#cb58-225"></a><span class="in">```</span></span>
<span id="cb58-226"><a href="#cb58-226"></a></span>
<span id="cb58-227"><a href="#cb58-227"></a><span class="fu">## Moving ourselves</span></span>
<span id="cb58-228"><a href="#cb58-228"></a></span>
<span id="cb58-229"><a href="#cb58-229"></a><span class="ss">- </span>To change which folder (or directory) the terminal is currently working within</span>
<span id="cb58-230"><a href="#cb58-230"></a><span class="ss">    - </span>The "working directory"</span>
<span id="cb58-231"><a href="#cb58-231"></a><span class="ss">- </span>We use the "change directory" command <span class="in">`cd`</span></span>
<span id="cb58-232"><a href="#cb58-232"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb58-233"><a href="#cb58-233"></a><span class="in">$ ls</span></span>
<span id="cb58-234"><a href="#cb58-234"></a><span class="in">args.py  old  pw.py  tax.py  </span></span>
<span id="cb58-235"><a href="#cb58-235"></a><span class="in">$ pwd</span></span>
<span id="cb58-236"><a href="#cb58-236"></a><span class="in">/home/user</span></span>
<span id="cb58-237"><a href="#cb58-237"></a><span class="in">$ cd old</span></span>
<span id="cb58-238"><a href="#cb58-238"></a><span class="in">$ ls</span></span>
<span id="cb58-239"><a href="#cb58-239"></a><span class="in">hi.py</span></span>
<span id="cb58-240"><a href="#cb58-240"></a><span class="in">$ pwd</span></span>
<span id="cb58-241"><a href="#cb58-241"></a><span class="in">/home/user/old</span></span>
<span id="cb58-242"><a href="#cb58-242"></a><span class="in">```</span></span>
<span id="cb58-243"><a href="#cb58-243"></a></span>
<span id="cb58-244"><a href="#cb58-244"></a></span>
<span id="cb58-245"><a href="#cb58-245"></a><span class="fu">## Movement</span></span>
<span id="cb58-246"><a href="#cb58-246"></a></span>
<span id="cb58-247"><a href="#cb58-247"></a><span class="ss">- </span>We can move a file, like <span class="in">`hi.py`</span>, to a folder, like <span class="in">`old`</span></span>
<span id="cb58-248"><a href="#cb58-248"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb58-249"><a href="#cb58-249"></a><span class="in">$ mv hi.py old</span></span>
<span id="cb58-250"><a href="#cb58-250"></a><span class="in">```</span></span>
<span id="cb58-251"><a href="#cb58-251"></a><span class="ss">- </span>We can move the terminal's current location to folder, like <span class="in">`old`</span></span>
<span id="cb58-252"><a href="#cb58-252"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb58-253"><a href="#cb58-253"></a><span class="in">$ cd old</span></span>
<span id="cb58-254"><a href="#cb58-254"></a><span class="in">```</span></span>
<span id="cb58-255"><a href="#cb58-255"></a></span>
<span id="cb58-256"><a href="#cb58-256"></a><span class="fu">## Exiting a Folder</span></span>
<span id="cb58-257"><a href="#cb58-257"></a></span>
<span id="cb58-258"><a href="#cb58-258"></a><span class="ss">- </span>To leave a folder after <span class="in">`cd`</span>ing into it, we use a special destination</span>
<span id="cb58-259"><a href="#cb58-259"></a></span>
<span id="cb58-260"><a href="#cb58-260"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb58-261"><a href="#cb58-261"></a><span class="in">$ cd ..</span></span>
<span id="cb58-262"><a href="#cb58-262"></a><span class="in">user@DESKTOP-THMS2PJ:~$ pwd</span></span>
<span id="cb58-263"><a href="#cb58-263"></a><span class="in">/home/user</span></span>
<span id="cb58-264"><a href="#cb58-264"></a><span class="in">```</span></span>
<span id="cb58-265"><a href="#cb58-265"></a></span>
<span id="cb58-266"><a href="#cb58-266"></a><span class="ss">- </span><span class="in">`..`</span> is the name of the folder that *contains* the folder you are currently in.</span>
<span id="cb58-267"><a href="#cb58-267"></a><span class="ss">- </span>So you can use <span class="in">`cd`</span> to change to the containing folder, often called the "parent"</span>
<span id="cb58-268"><a href="#cb58-268"></a></span>
<span id="cb58-269"><a href="#cb58-269"></a><span class="fu">## Graphically</span></span>
<span id="cb58-270"><a href="#cb58-270"></a></span>
<span id="cb58-271"><a href="#cb58-271"></a>:::: {.columns}</span>
<span id="cb58-272"><a href="#cb58-272"></a></span>
<span id="cb58-273"><a href="#cb58-273"></a>::: {.column width="50%"}</span>
<span id="cb58-274"><a href="#cb58-274"></a></span>
<span id="cb58-277"><a href="#cb58-277"></a><span class="in">```{dot}</span></span>
<span id="cb58-278"><a href="#cb58-278"></a><span class="in">//| echo: false</span></span>
<span id="cb58-279"><a href="#cb58-279"></a><span class="in">//| fig-width: 200px</span></span>
<span id="cb58-280"><a href="#cb58-280"></a><span class="in">digraph shell {</span></span>
<span id="cb58-281"><a href="#cb58-281"></a><span class="in">  rankdir=TB; bgcolor="transparent";  overlap = false;</span></span>
<span id="cb58-282"><a href="#cb58-282"></a><span class="in">  node [shape=circle, fontcolor = "#ffffff", color = "#ffffff"]</span></span>
<span id="cb58-283"><a href="#cb58-283"></a><span class="in">  edge [color = "#ffffff",fontcolor = "#ffffff"]</span></span>
<span id="cb58-284"><a href="#cb58-284"></a></span>
<span id="cb58-285"><a href="#cb58-285"></a></span>
<span id="cb58-286"><a href="#cb58-286"></a><span class="in">  home -&gt; old[label="cd old"]</span></span>
<span id="cb58-287"><a href="#cb58-287"></a><span class="in">  </span></span>
<span id="cb58-288"><a href="#cb58-288"></a><span class="in">}</span></span>
<span id="cb58-289"><a href="#cb58-289"></a><span class="in">```</span></span>
<span id="cb58-290"><a href="#cb58-290"></a></span>
<span id="cb58-291"><a href="#cb58-291"></a>:::</span>
<span id="cb58-292"><a href="#cb58-292"></a></span>
<span id="cb58-293"><a href="#cb58-293"></a>::: {.column width="50%"}</span>
<span id="cb58-294"><a href="#cb58-294"></a></span>
<span id="cb58-297"><a href="#cb58-297"></a><span class="in">```{dot}</span></span>
<span id="cb58-298"><a href="#cb58-298"></a><span class="in">//| echo: false</span></span>
<span id="cb58-299"><a href="#cb58-299"></a><span class="in">//| fig-width: 200px</span></span>
<span id="cb58-300"><a href="#cb58-300"></a><span class="in">digraph shell {</span></span>
<span id="cb58-301"><a href="#cb58-301"></a><span class="in">  rankdir=TB; bgcolor="transparent";  overlap = false;</span></span>
<span id="cb58-302"><a href="#cb58-302"></a><span class="in">  node [shape=circle, fontcolor = "#ffffff", color = "#ffffff"]</span></span>
<span id="cb58-303"><a href="#cb58-303"></a><span class="in">  edge [color = "#ffffff",fontcolor = "#ffffff"]</span></span>
<span id="cb58-304"><a href="#cb58-304"></a></span>
<span id="cb58-305"><a href="#cb58-305"></a></span>
<span id="cb58-306"><a href="#cb58-306"></a><span class="in">  home -&gt; old[color="transparent"]</span></span>
<span id="cb58-307"><a href="#cb58-307"></a></span>
<span id="cb58-308"><a href="#cb58-308"></a></span>
<span id="cb58-309"><a href="#cb58-309"></a><span class="in">  old -&gt; home[label="cd .."]</span></span>
<span id="cb58-310"><a href="#cb58-310"></a><span class="in">  </span></span>
<span id="cb58-311"><a href="#cb58-311"></a><span class="in">}</span></span>
<span id="cb58-312"><a href="#cb58-312"></a><span class="in">```</span></span>
<span id="cb58-313"><a href="#cb58-313"></a></span>
<span id="cb58-314"><a href="#cb58-314"></a>:::</span>
<span id="cb58-315"><a href="#cb58-315"></a></span>
<span id="cb58-316"><a href="#cb58-316"></a>::::</span>
<span id="cb58-317"><a href="#cb58-317"></a></span>
<span id="cb58-318"><a href="#cb58-318"></a><span class="fu">## Removing Directories</span></span>
<span id="cb58-319"><a href="#cb58-319"></a></span>
<span id="cb58-320"><a href="#cb58-320"></a><span class="ss">- </span>Like files, which we can remove with <span class="in">`rm`</span>, we can also remove folders (or directories).</span>
<span id="cb58-321"><a href="#cb58-321"></a><span class="ss">- </span>We do so with <span class="in">`rmdir`</span></span>
<span id="cb58-322"><a href="#cb58-322"></a><span class="ss">- </span>Let's try on <span class="in">`old`</span></span>
<span id="cb58-323"><a href="#cb58-323"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb58-324"><a href="#cb58-324"></a><span class="in">$ rmdir old</span></span>
<span id="cb58-325"><a href="#cb58-325"></a><span class="in">rmdir: failed to remove 'old': Directory not empty</span></span>
<span id="cb58-326"><a href="#cb58-326"></a><span class="in">```</span></span>
<span id="cb58-327"><a href="#cb58-327"></a><span class="ss">- </span>You can only remove folders this way if they are empty.</span>
<span id="cb58-328"><a href="#cb58-328"></a><span class="ss">- </span>This helps you not delete things by accident!</span>
<span id="cb58-329"><a href="#cb58-329"></a></span>
<span id="cb58-330"><a href="#cb58-330"></a><span class="fu"># Files</span></span>
<span id="cb58-331"><a href="#cb58-331"></a></span>
<span id="cb58-332"><a href="#cb58-332"></a><span class="fu">## Reading</span></span>
<span id="cb58-333"><a href="#cb58-333"></a></span>
<span id="cb58-334"><a href="#cb58-334"></a><span class="ss">- </span>The names of files are helpful, but not always all we want to know.</span>
<span id="cb58-335"><a href="#cb58-335"></a><span class="ss">- </span>When files only contain text - like <span class="in">`.py`</span> files, we can use <span class="in">`cat`</span> to see what text they contain.</span>
<span id="cb58-336"><a href="#cb58-336"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb58-337"><a href="#cb58-337"></a><span class="in">$ cat args.py</span></span>
<span id="cb58-338"><a href="#cb58-338"></a><span class="in">import sys</span></span>
<span id="cb58-339"><a href="#cb58-339"></a></span>
<span id="cb58-340"><a href="#cb58-340"></a><span class="in">print(sys.argv[0])i</span></span>
<span id="cb58-341"><a href="#cb58-341"></a><span class="in">```</span></span>
<span id="cb58-342"><a href="#cb58-342"></a></span>
<span id="cb58-343"><a href="#cb58-343"></a><span class="fu">## Writing</span></span>
<span id="cb58-344"><a href="#cb58-344"></a></span>
<span id="cb58-345"><a href="#cb58-345"></a><span class="ss">- </span>Really, the best way to write a file from the command line is with Neovim.</span>
<span id="cb58-346"><a href="#cb58-346"></a><span class="ss">- </span>But there are other ways, and sometimes you just want to make a file to test something.</span>
<span id="cb58-347"><a href="#cb58-347"></a><span class="ss">- </span>You can make an empty file (with noting in it) via <span class="in">`touch`</span></span>
<span id="cb58-348"><a href="#cb58-348"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb58-349"><a href="#cb58-349"></a><span class="in">$ touch somefile.txt</span></span>
<span id="cb58-350"><a href="#cb58-350"></a><span class="in">$ ls *.txt</span></span>
<span id="cb58-351"><a href="#cb58-351"></a><span class="in">somefile.txt</span></span>
<span id="cb58-352"><a href="#cb58-352"></a><span class="in">```</span></span>
<span id="cb58-353"><a href="#cb58-353"></a></span>
<span id="cb58-354"><a href="#cb58-354"></a><span class="fu">## Echoing</span></span>
<span id="cb58-355"><a href="#cb58-355"></a></span>
<span id="cb58-356"><a href="#cb58-356"></a><span class="ss">- </span>To put anything in a file, we often use an <span class="in">`echo`</span> command.</span>
<span id="cb58-357"><a href="#cb58-357"></a><span class="ss">- </span><span class="in">`echo`</span> is also used for shell "Hello, world!"</span>
<span id="cb58-358"><a href="#cb58-358"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb58-359"><a href="#cb58-359"></a><span class="in">$ echo "Hello, shell!"</span></span>
<span id="cb58-360"><a href="#cb58-360"></a><span class="in">Hello, shell!</span></span>
<span id="cb58-361"><a href="#cb58-361"></a><span class="in">```</span></span>
<span id="cb58-362"><a href="#cb58-362"></a></span>
<span id="cb58-363"><a href="#cb58-363"></a><span class="fu">## Redirecting</span></span>
<span id="cb58-364"><a href="#cb58-364"></a></span>
<span id="cb58-365"><a href="#cb58-365"></a><span class="ss">- </span>For any shell command - including <span class="in">`echo`</span> - we can "redirect" what is printed to some file.</span>
<span id="cb58-366"><a href="#cb58-366"></a><span class="ss">- </span>We do so using the special shell <span class="in">`&gt;`</span> operator</span>
<span id="cb58-367"><a href="#cb58-367"></a><span class="ss">    - </span>It's just a special thing, like <span class="in">`*`</span></span>
<span id="cb58-368"><a href="#cb58-368"></a></span>
<span id="cb58-369"><a href="#cb58-369"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb58-370"><a href="#cb58-370"></a><span class="in">$ echo "Hello, redirect!" &gt; hi.txt</span></span>
<span id="cb58-371"><a href="#cb58-371"></a><span class="in">$ cat hi.txt</span></span>
<span id="cb58-372"><a href="#cb58-372"></a><span class="in">Hello, redirect!</span></span>
<span id="cb58-373"><a href="#cb58-373"></a><span class="in">```</span></span>
<span id="cb58-374"><a href="#cb58-374"></a></span>
<span id="cb58-375"><a href="#cb58-375"></a><span class="ss">- </span>This is *very* helpful to save the results of Python computations.</span>
<span id="cb58-376"><a href="#cb58-376"></a></span>
<span id="cb58-377"><a href="#cb58-377"></a><span class="fu">## Example</span></span>
<span id="cb58-378"><a href="#cb58-378"></a></span>
<span id="cb58-379"><a href="#cb58-379"></a><span class="ss">- </span>Here's an example how it should work!</span>
<span id="cb58-380"><a href="#cb58-380"></a><span class="in">```{.email code-line-numbers="false"}</span></span>
<span id="cb58-381"><a href="#cb58-381"></a><span class="in">$ python3 tax.py 40000 &gt; tax_burden.txt</span></span>
<span id="cb58-382"><a href="#cb58-382"></a><span class="in">$ cat tax_burden.txt</span></span>
<span id="cb58-383"><a href="#cb58-383"></a><span class="in">115529.25</span></span>
<span id="cb58-384"><a href="#cb58-384"></a><span class="in">```</span></span>
<span id="cb58-385"><a href="#cb58-385"></a></span>
<span id="cb58-386"><a href="#cb58-386"></a><span class="fu">## References</span></span>
<span id="cb58-387"><a href="#cb58-387"></a></span>
<span id="cb58-388"><a href="#cb58-388"></a><span class="ss">- </span>You can see the commands used here in a table reference in an <span class="co">[</span><span class="ot">Appendix</span><span class="co">](A1_keybinds.qmd)</span></span>
<span id="cb58-389"><a href="#cb58-389"></a><span class="ss">- </span>I'll include them here as well!</span>
<span id="cb58-390"><a href="#cb58-390"></a></span>
<span id="cb58-391"><a href="#cb58-391"></a><span class="fu">## {.smaller}</span></span>
<span id="cb58-392"><a href="#cb58-392"></a></span>
<span id="cb58-393"><a href="#cb58-393"></a>|Command|Action|</span>
<span id="cb58-394"><a href="#cb58-394"></a>|-------|------|</span>
<span id="cb58-395"><a href="#cb58-395"></a>|<span class="in">`ls`</span>| list files in folder |</span>
<span id="cb58-396"><a href="#cb58-396"></a>|<span class="in">`rm f.txt`</span>| delete file "f.txt"|</span>
<span id="cb58-397"><a href="#cb58-397"></a>|<span class="in">`mkdir dir`</span>| create a new folder named "dir"|</span>
<span id="cb58-398"><a href="#cb58-398"></a>|<span class="in">`mv f.txt dir`</span>| move file "f.txt" to folder "dir"|</span>
<span id="cb58-399"><a href="#cb58-399"></a>|<span class="in">`pwd`</span>| print current folder |</span>
<span id="cb58-400"><a href="#cb58-400"></a>|<span class="in">`cd dir`</span>| change current folder to "dir"|</span>
<span id="cb58-401"><a href="#cb58-401"></a>|<span class="in">`cd ..`</span> | go to "parent" folder |</span>
<span id="cb58-402"><a href="#cb58-402"></a>|<span class="in">`echo hi`</span>| print the text "hi"|</span>
<span id="cb58-403"><a href="#cb58-403"></a>|<span class="in">`echo hi &gt;f.txt`</span>| write "hi" to file "f.txt"|</span>
<span id="cb58-404"><a href="#cb58-404"></a>|<span class="in">`cat f.txt`</span>| see the text in f.txt|</span>
<span id="cb58-405"><a href="#cb58-405"></a></span>
<span id="cb58-406"><a href="#cb58-406"></a></span>
<span id="cb58-407"><a href="#cb58-407"></a><span class="fu"># Comments</span></span>
<span id="cb58-408"><a href="#cb58-408"></a></span>
<span id="cb58-409"><a href="#cb58-409"></a><span class="fu">## Taking notes</span></span>
<span id="cb58-410"><a href="#cb58-410"></a></span>
<span id="cb58-411"><a href="#cb58-411"></a><span class="ss">- </span>I claim it is *hard* to tell what this code is for.</span>
<span id="cb58-412"><a href="#cb58-412"></a></span>
<span id="cb58-413"><a href="#cb58-413"></a><span class="in">```{python filename="pw.py"}</span></span>
<span id="cb58-414"><a href="#cb58-414"></a><span class="in">def piecewise(x):</span></span>
<span id="cb58-415"><a href="#cb58-415"></a><span class="in">    if (x &lt; 4):</span></span>
<span id="cb58-416"><a href="#cb58-416"></a><span class="in">        return 9 * x ** 2 + 5</span></span>
<span id="cb58-417"><a href="#cb58-417"></a><span class="in">    elif (4 &lt;= x &lt;= 8):</span></span>
<span id="cb58-418"><a href="#cb58-418"></a><span class="in">        return 9</span></span>
<span id="cb58-419"><a href="#cb58-419"></a><span class="in">    elif (x &gt; 8):</span></span>
<span id="cb58-420"><a href="#cb58-420"></a><span class="in">        return 2 - x</span></span>
<span id="cb58-421"><a href="#cb58-421"></a><span class="in">```</span></span>
<span id="cb58-422"><a href="#cb58-422"></a></span>
<span id="cb58-423"><a href="#cb58-423"></a><span class="ss">- </span>We may know, from taking this class, but in a few weeks, if I find and <span class="in">`cat`</span> it, I am unlikely to know</span>
<span id="cb58-424"><a href="#cb58-424"></a></span>
<span id="cb58-425"><a href="#cb58-425"></a><span class="fu">## Documentation</span></span>
<span id="cb58-426"><a href="#cb58-426"></a></span>
<span id="cb58-427"><a href="#cb58-427"></a><span class="ss">- </span>Good code tends to come with good *documentation* - written descriptions of what the code does.</span>
<span id="cb58-428"><a href="#cb58-428"></a><span class="ss">- </span>In Python, we can include "comments" - text that is not evaluated as code - by starting lines with <span class="in">`#`</span></span>
<span id="cb58-431"><a href="#cb58-431"></a><span class="in">```{python}</span></span>
<span id="cb58-432"><a href="#cb58-432"></a><span class="co"># This is a comment.</span></span>
<span id="cb58-433"><a href="#cb58-433"></a><span class="bu">print</span>(<span class="st">"This is code."</span>)</span>
<span id="cb58-434"><a href="#cb58-434"></a><span class="co"># This is another comment.</span></span>
<span id="cb58-435"><a href="#cb58-435"></a><span class="in">```</span></span>
<span id="cb58-436"><a href="#cb58-436"></a></span>
<span id="cb58-437"><a href="#cb58-437"></a><span class="fu">## Update `pw.py`</span></span>
<span id="cb58-438"><a href="#cb58-438"></a></span>
<span id="cb58-439"><a href="#cb58-439"></a><span class="ss">- </span>Here is how I documented <span class="in">`pw.py`</span>:</span>
<span id="cb58-440"><a href="#cb58-440"></a><span class="in">```{python filename="pw.py"}</span></span>
<span id="cb58-441"><a href="#cb58-441"></a><span class="in"># Example of a piecewise function, from a student.</span></span>
<span id="cb58-442"><a href="#cb58-442"></a><span class="in"># f(x) = 9x^2 + 5 | x &lt; 4</span></span>
<span id="cb58-443"><a href="#cb58-443"></a><span class="in">#        9        | 4 &lt;= x &lt;= 8</span></span>
<span id="cb58-444"><a href="#cb58-444"></a><span class="in">#        2 - x    | x &gt; 8</span></span>
<span id="cb58-445"><a href="#cb58-445"></a><span class="in">def piecewise(x):</span></span>
<span id="cb58-446"><a href="#cb58-446"></a><span class="in">    if (x &lt; 4):</span></span>
<span id="cb58-447"><a href="#cb58-447"></a><span class="in">        return 9 * x ** 2 + 5</span></span>
<span id="cb58-448"><a href="#cb58-448"></a><span class="in">    elif (4 &lt;= x &lt;= 8):</span></span>
<span id="cb58-449"><a href="#cb58-449"></a><span class="in">        return 9</span></span>
<span id="cb58-450"><a href="#cb58-450"></a><span class="in">    elif (x &gt; 8):</span></span>
<span id="cb58-451"><a href="#cb58-451"></a><span class="in">        return 2 - x</span></span>
<span id="cb58-452"><a href="#cb58-452"></a><span class="in">```</span></span>
<span id="cb58-453"><a href="#cb58-453"></a></span>
<span id="cb58-454"><a href="#cb58-454"></a><span class="ss">- </span>This is functionally indentical, but easier on me!</span>
<span id="cb58-455"><a href="#cb58-455"></a></span>
<span id="cb58-456"><a href="#cb58-456"></a><span class="fu">## Updating `tax.py`</span></span>
<span id="cb58-457"><a href="#cb58-457"></a></span>
<span id="cb58-458"><a href="#cb58-458"></a><span class="ss">- </span>With the benefit of comments, I'd like to look at income tax again.</span>
<span id="cb58-459"><a href="#cb58-459"></a><span class="ss">- </span>Comments can make it much nicer to work with.</span>
<span id="cb58-460"><a href="#cb58-460"></a><span class="ss">- </span>How?</span>
<span id="cb58-461"><a href="#cb58-461"></a><span class="in">```{python filename="tax.py"}</span></span>
<span id="cb58-462"><a href="#cb58-462"></a><span class="in">tax_policy = [</span></span>
<span id="cb58-463"><a href="#cb58-463"></a><span class="in">    [415050, .396], </span></span>
<span id="cb58-464"><a href="#cb58-464"></a><span class="in">    [413350, .35],</span></span>
<span id="cb58-465"><a href="#cb58-465"></a><span class="in">    [190150, .33],</span></span>
<span id="cb58-466"><a href="#cb58-466"></a><span class="in">    [91150, .28],</span></span>
<span id="cb58-467"><a href="#cb58-467"></a><span class="in">    [37650, .25],</span></span>
<span id="cb58-468"><a href="#cb58-468"></a><span class="in">    [9275, .15]    </span></span>
<span id="cb58-469"><a href="#cb58-469"></a><span class="in">]</span></span>
<span id="cb58-470"><a href="#cb58-470"></a><span class="in">```</span></span>
<span id="cb58-471"><a href="#cb58-471"></a><span class="ss">- </span>Uh... what does that mean?</span>
<span id="cb58-472"><a href="#cb58-472"></a></span>
<span id="cb58-473"><a href="#cb58-473"></a><span class="fu"># Vim Motions</span></span>
<span id="cb58-474"><a href="#cb58-474"></a></span>
<span id="cb58-475"><a href="#cb58-475"></a><span class="fu">## Command Mode</span></span>
<span id="cb58-476"><a href="#cb58-476"></a></span>
<span id="cb58-477"><a href="#cb58-477"></a><span class="ss">- </span>The beauty of Neovim is how powerful command mode, vim motions, and vim operators can be.</span>
<span id="cb58-478"><a href="#cb58-478"></a><span class="ss">- </span>We'll just introduce a few.</span>
<span id="cb58-479"><a href="#cb58-479"></a><span class="ss">- </span>The goal is to give a sense of what is possible, and give you things to start practicing.</span>
<span id="cb58-480"><a href="#cb58-480"></a><span class="ss">- </span>If you ever want to do something in Neovim, chances are you can!</span>
<span id="cb58-481"><a href="#cb58-481"></a></span>
<span id="cb58-482"><a href="#cb58-482"></a><span class="fu">## Solution</span></span>
<span id="cb58-483"><a href="#cb58-483"></a></span>
<span id="cb58-484"><a href="#cb58-484"></a>&lt;details&gt;</span>
<span id="cb58-485"><a href="#cb58-485"></a>&lt;summary&gt;Code&lt;/summary&gt;</span>
<span id="cb58-488"><a href="#cb58-488"></a><span class="in">```{python}</span></span>
<span id="cb58-489"><a href="#cb58-489"></a>tax_policy <span class="op">=</span> [</span>
<span id="cb58-490"><a href="#cb58-490"></a>    [<span class="dv">415050</span>, <span class="fl">.396</span>], </span>
<span id="cb58-491"><a href="#cb58-491"></a>    [<span class="dv">413350</span>, <span class="fl">.35</span>],</span>
<span id="cb58-492"><a href="#cb58-492"></a>    [<span class="dv">190150</span>, <span class="fl">.33</span>],</span>
<span id="cb58-493"><a href="#cb58-493"></a>    [<span class="dv">91150</span>, <span class="fl">.28</span>],</span>
<span id="cb58-494"><a href="#cb58-494"></a>    [<span class="dv">37650</span>, <span class="fl">.25</span>],</span>
<span id="cb58-495"><a href="#cb58-495"></a>    [<span class="dv">9275</span>, <span class="fl">.15</span>]    </span>
<span id="cb58-496"><a href="#cb58-496"></a>]</span>
<span id="cb58-497"><a href="#cb58-497"></a><span class="kw">def</span> single_tax(pay):</span>
<span id="cb58-498"><a href="#cb58-498"></a>    tax <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb58-499"><a href="#cb58-499"></a>    <span class="cf">for</span> bracket <span class="kw">in</span> tax_policy:</span>
<span id="cb58-500"><a href="#cb58-500"></a>        <span class="cf">if</span> pay <span class="op">&gt;</span> bracket[<span class="dv">0</span>]:</span>
<span id="cb58-501"><a href="#cb58-501"></a>            tax <span class="op">+=</span> (pay <span class="op">-</span> bracket[<span class="dv">0</span>]) <span class="op">*</span> bracket[<span class="dv">1</span>]</span>
<span id="cb58-502"><a href="#cb58-502"></a>            pay <span class="op">=</span> bracket[<span class="dv">0</span>]</span>
<span id="cb58-503"><a href="#cb58-503"></a>    <span class="cf">return</span> tax <span class="op">+</span> pay <span class="op">*</span> <span class="fl">.1</span></span>
<span id="cb58-504"><a href="#cb58-504"></a><span class="in">```</span></span>
<span id="cb58-505"><a href="#cb58-505"></a>&lt;/details&gt;</span>
<span id="cb58-506"><a href="#cb58-506"></a></span>
<span id="cb58-507"><a href="#cb58-507"></a><span class="fu">## Insert is easy</span></span>
<span id="cb58-508"><a href="#cb58-508"></a></span>
<span id="cb58-509"><a href="#cb58-509"></a><span class="ss">- </span>After opening the file, just press <span class="in">`i`</span> and start typing...</span>
<span id="cb58-510"><a href="#cb58-510"></a></span>
<span id="cb58-511"><a href="#cb58-511"></a><span class="in">```{python filename="tax.py"}</span></span>
<span id="cb58-512"><a href="#cb58-512"></a><span class="in"># Gives the tax rate *above* a certain income level</span></span>
<span id="cb58-513"><a href="#cb58-513"></a><span class="in">tax_policy = [</span></span>
<span id="cb58-514"><a href="#cb58-514"></a><span class="in">    [415050, .396], </span></span>
<span id="cb58-515"><a href="#cb58-515"></a><span class="in">    [413350, .35],</span></span>
<span id="cb58-516"><a href="#cb58-516"></a><span class="in">    [190150, .33],</span></span>
<span id="cb58-517"><a href="#cb58-517"></a><span class="in">    [91150, .28],</span></span>
<span id="cb58-518"><a href="#cb58-518"></a><span class="in">    [37650, .25],</span></span>
<span id="cb58-519"><a href="#cb58-519"></a><span class="in">    [9275, .15]    </span></span>
<span id="cb58-520"><a href="#cb58-520"></a><span class="in">]</span></span>
<span id="cb58-521"><a href="#cb58-521"></a><span class="in">```</span></span>
<span id="cb58-522"><a href="#cb58-522"></a></span>
<span id="cb58-523"><a href="#cb58-523"></a><span class="fu">## `$` is end-of-line</span></span>
<span id="cb58-524"><a href="#cb58-524"></a></span>
<span id="cb58-525"><a href="#cb58-525"></a><span class="ss">- </span>ESC to exit <span class="in">`i`</span> mode</span>
<span id="cb58-526"><a href="#cb58-526"></a><span class="ss">- </span>"hjkl" are left-up-down-right</span>
<span id="cb58-527"><a href="#cb58-527"></a><span class="ss">  - </span>So <span class="in">`j`</span> down to the 415050 line</span>
<span id="cb58-528"><a href="#cb58-528"></a><span class="ss">- </span><span class="in">`$`</span> jumps to the end of the line</span>
<span id="cb58-529"><a href="#cb58-529"></a></span>
<span id="cb58-530"><a href="#cb58-530"></a><span class="in">```{python filename="tax.py"}</span></span>
<span id="cb58-531"><a href="#cb58-531"></a><span class="in"># Gives the tax rate *above* a certain income level</span></span>
<span id="cb58-532"><a href="#cb58-532"></a><span class="in">tax_policy = [</span></span>
<span id="cb58-533"><a href="#cb58-533"></a><span class="in">    [415050, .396], # e.g. .396 of every 1 dollar over 415050 is taxed</span></span>
<span id="cb58-534"><a href="#cb58-534"></a><span class="in">    [413350, .35],</span></span>
<span id="cb58-535"><a href="#cb58-535"></a><span class="in">    [190150, .33],</span></span>
<span id="cb58-536"><a href="#cb58-536"></a><span class="in">    [91150, .28],</span></span>
<span id="cb58-537"><a href="#cb58-537"></a><span class="in">    [37650, .25],</span></span>
<span id="cb58-538"><a href="#cb58-538"></a><span class="in">    [9275, .15]    </span></span>
<span id="cb58-539"><a href="#cb58-539"></a><span class="in">]</span></span>
<span id="cb58-540"><a href="#cb58-540"></a><span class="in">```</span></span>
<span id="cb58-541"><a href="#cb58-541"></a></span>
<span id="cb58-542"><a href="#cb58-542"></a><span class="fu">## `0` is start-of-line</span></span>
<span id="cb58-543"><a href="#cb58-543"></a></span>
<span id="cb58-544"><a href="#cb58-544"></a><span class="ss">- </span>We'll now copy that comment rather than re-typing the whole thing</span>
<span id="cb58-545"><a href="#cb58-545"></a><span class="ss">- </span>ESC into command mode</span>
<span id="cb58-546"><a href="#cb58-546"></a><span class="ss">- </span><span class="in">`0`</span> brings to beginning of line.</span>
<span id="cb58-547"><a href="#cb58-547"></a><span class="ss">- </span><span class="in">`/`</span> let's us search, so <span class="in">`/#`</span> searches for the start of the comment</span>
<span id="cb58-548"><a href="#cb58-548"></a><span class="ss">    - </span>Windows I had to "ENTER" after.</span>
<span id="cb58-549"><a href="#cb58-549"></a></span>
<span id="cb58-550"><a href="#cb58-550"></a>Practice this a few times!</span>
<span id="cb58-551"><a href="#cb58-551"></a></span>
<span id="cb58-552"><a href="#cb58-552"></a><span class="fu">## Aside: Mouse</span></span>
<span id="cb58-553"><a href="#cb58-553"></a>::: {.callout-tip}</span>
<span id="cb58-554"><a href="#cb58-554"></a></span>
<span id="cb58-555"><a href="#cb58-555"></a>I know you can do this with the mouse.</span>
<span id="cb58-556"><a href="#cb58-556"></a>:::</span>
<span id="cb58-557"><a href="#cb58-557"></a><span class="ss">- </span>I type a lot. </span>
<span id="cb58-558"><a href="#cb58-558"></a><span class="ss">- </span>I promise this is faster once you practice.</span>
<span id="cb58-559"><a href="#cb58-559"></a><span class="ss">  - </span>Took me around 2 weeks.</span>
<span id="cb58-560"><a href="#cb58-560"></a><span class="ss">  - </span>Like 15% of a semester.</span>
<span id="cb58-561"><a href="#cb58-561"></a><span class="ss">- </span>It is *way* faster than laptop trackpads.</span>
<span id="cb58-562"><a href="#cb58-562"></a></span>
<span id="cb58-563"><a href="#cb58-563"></a><span class="fu">## Yank &amp; Paste</span></span>
<span id="cb58-564"><a href="#cb58-564"></a></span>
<span id="cb58-565"><a href="#cb58-565"></a><span class="ss">- </span>Vim predates copy paste!</span>
<span id="cb58-566"><a href="#cb58-566"></a><span class="ss">- </span>Type <span class="in">`y`</span> to yank and then <span class="in">`$`</span> to yank until the end of the line.</span>
<span id="cb58-567"><a href="#cb58-567"></a><span class="ss">    - </span>We can combine *motions* (<span class="in">`$`</span>) and operators (<span class="in">`y`</span>)</span>
<span id="cb58-568"><a href="#cb58-568"></a><span class="ss">- </span>Use <span class="in">`j`</span> to go down to the next line.</span>
<span id="cb58-569"><a href="#cb58-569"></a><span class="ss">- </span>Use <span class="in">`p`</span> to paste the comment.</span>
<span id="cb58-570"><a href="#cb58-570"></a></span>
<span id="cb58-571"><a href="#cb58-571"></a><span class="in">```{python filename="tax.py"}</span></span>
<span id="cb58-572"><a href="#cb58-572"></a><span class="in"># Gives the tax rate *above* a certain income level</span></span>
<span id="cb58-573"><a href="#cb58-573"></a><span class="in">tax_policy = [</span></span>
<span id="cb58-574"><a href="#cb58-574"></a><span class="in">    [415050, .396], # e.g. .396 of every 1 dollar over 415050 is taxed</span></span>
<span id="cb58-575"><a href="#cb58-575"></a><span class="in">    [413350, .35],# e.g. .396 of every 1 dollar over 415050 is taxed</span></span>
<span id="cb58-576"><a href="#cb58-576"></a><span class="in">    [190150, .33],</span></span>
<span id="cb58-577"><a href="#cb58-577"></a><span class="in">    [91150, .28],</span></span>
<span id="cb58-578"><a href="#cb58-578"></a><span class="in">    [37650, .25],</span></span>
<span id="cb58-579"><a href="#cb58-579"></a><span class="in">    [9275, .15]    </span></span>
<span id="cb58-580"><a href="#cb58-580"></a><span class="in">]</span></span>
<span id="cb58-581"><a href="#cb58-581"></a><span class="in">```</span></span>
<span id="cb58-582"><a href="#cb58-582"></a></span>
<span id="cb58-583"><a href="#cb58-583"></a><span class="fu">## Update it</span></span>
<span id="cb58-584"><a href="#cb58-584"></a></span>
<span id="cb58-585"><a href="#cb58-585"></a><span class="ss">- </span>I used</span>
<span id="cb58-586"><a href="#cb58-586"></a><span class="ss">    - </span><span class="in">`/9`</span> - first character to change</span>
<span id="cb58-587"><a href="#cb58-587"></a><span class="ss">    - </span><span class="in">`r`</span> - replace mode</span>
<span id="cb58-588"><a href="#cb58-588"></a><span class="ss">    - </span>Type "5".</span>
<span id="cb58-589"><a href="#cb58-589"></a><span class="ss">    - </span><span class="in">`l`</span> to move right (onto "6") then <span class="in">`dl`</span> to delete the next character.</span>
<span id="cb58-590"><a href="#cb58-590"></a></span>
<span id="cb58-591"><a href="#cb58-591"></a><span class="in">```{python filename="tax.py"}</span></span>
<span id="cb58-592"><a href="#cb58-592"></a><span class="in"># Gives the tax rate *above* a certain income level</span></span>
<span id="cb58-593"><a href="#cb58-593"></a><span class="in">tax_policy = [</span></span>
<span id="cb58-594"><a href="#cb58-594"></a><span class="in">    [415050, .396], # e.g. .396 of every 1 dollar over 415050 is taxed</span></span>
<span id="cb58-595"><a href="#cb58-595"></a><span class="in">    [413350, .35],# e.g. .35 of every 1 dollar over 415050 is taxed</span></span>
<span id="cb58-596"><a href="#cb58-596"></a><span class="in">    [190150, .33],</span></span>
<span id="cb58-597"><a href="#cb58-597"></a><span class="in">    [91150, .28],</span></span>
<span id="cb58-598"><a href="#cb58-598"></a><span class="in">    [37650, .25],</span></span>
<span id="cb58-599"><a href="#cb58-599"></a><span class="in">    [9275, .15]    </span></span>
<span id="cb58-600"><a href="#cb58-600"></a><span class="in">]</span></span>
<span id="cb58-601"><a href="#cb58-601"></a><span class="in">```</span></span>
<span id="cb58-602"><a href="#cb58-602"></a></span>
<span id="cb58-603"><a href="#cb58-603"></a><span class="fu">## Add the range</span></span>
<span id="cb58-604"><a href="#cb58-604"></a></span>
<span id="cb58-605"><a href="#cb58-605"></a><span class="ss">- </span>I used</span>
<span id="cb58-606"><a href="#cb58-606"></a><span class="ss">    - </span><span class="in">`/over`</span> - first character to change</span>
<span id="cb58-607"><a href="#cb58-607"></a><span class="ss">    - </span><span class="in">`de`</span> - We introduce the new <span class="in">`e`</span> motion for "end of word" and combine with delete.</span>
<span id="cb58-608"><a href="#cb58-608"></a><span class="ss">    - </span>Type "between 413350 and "</span>
<span id="cb58-609"><a href="#cb58-609"></a><span class="ss">    - </span>I escaped (ESC) and saved (<span class="in">`:w`</span>)</span>
<span id="cb58-610"><a href="#cb58-610"></a></span>
<span id="cb58-611"><a href="#cb58-611"></a><span class="in">```{python filename="tax.py"}</span></span>
<span id="cb58-612"><a href="#cb58-612"></a><span class="in"># Gives the tax rate *above* a certain income level</span></span>
<span id="cb58-613"><a href="#cb58-613"></a><span class="in">tax_policy = [</span></span>
<span id="cb58-614"><a href="#cb58-614"></a><span class="in">    [415050, .396], # e.g. .396 of every 1 dollar over 415050 is taxed</span></span>
<span id="cb58-615"><a href="#cb58-615"></a><span class="in">    [413350, .35],# e.g. .35 of every 1 dollar between 413350 and 415050 is taxed</span></span>
<span id="cb58-616"><a href="#cb58-616"></a><span class="in">    [190150, .33],</span></span>
<span id="cb58-617"><a href="#cb58-617"></a><span class="in">    [91150, .28],</span></span>
<span id="cb58-618"><a href="#cb58-618"></a><span class="in">    [37650, .25],</span></span>
<span id="cb58-619"><a href="#cb58-619"></a><span class="in">    [9275, .15]    </span></span>
<span id="cb58-620"><a href="#cb58-620"></a><span class="in">]</span></span>
<span id="cb58-621"><a href="#cb58-621"></a><span class="in">```</span></span>
<span id="cb58-622"><a href="#cb58-622"></a></span>
<span id="cb58-623"><a href="#cb58-623"></a><span class="fu"># Scientific Writing</span></span>
<span id="cb58-624"><a href="#cb58-624"></a></span>
<span id="cb58-625"><a href="#cb58-625"></a><span class="fu">## Writing as Thinking</span></span>
<span id="cb58-626"><a href="#cb58-626"></a></span>
<span id="cb58-627"><a href="#cb58-627"></a><span class="ss">- </span>I consider writing *part of the scientific process*.</span>
<span id="cb58-628"><a href="#cb58-628"></a><span class="ss">- </span>You may realize while working through this that...</span>
<span id="cb58-629"><a href="#cb58-629"></a><span class="ss">- </span>Each tax braket is a simple linear relation!</span>
<span id="cb58-630"><a href="#cb58-630"></a><span class="ss">    - </span>The rate is the slope</span>
<span id="cb58-631"><a href="#cb58-631"></a><span class="ss">    - </span>The intercept is how much they don't have to pay due to marginal rates.</span>
<span id="cb58-632"><a href="#cb58-632"></a><span class="ss">- </span>*By writing and explain our computations, we can uncover insights*</span>
<span id="cb58-633"><a href="#cb58-633"></a></span>
<span id="cb58-634"><a href="#cb58-634"></a><span class="fu">## Naive notes</span></span>
<span id="cb58-635"><a href="#cb58-635"></a></span>
<span id="cb58-636"><a href="#cb58-636"></a><span class="ss">- </span>Here's some naive notes I took.</span>
<span id="cb58-637"><a href="#cb58-637"></a><span class="ss">- </span>They can be made better!</span>
<span id="cb58-638"><a href="#cb58-638"></a></span>
<span id="cb58-641"><a href="#cb58-641"></a><span class="in">```{python}</span></span>
<span id="cb58-642"><a href="#cb58-642"></a><span class="co"># Tax on first bracket, up to 9725 at .1</span></span>
<span id="cb58-643"><a href="#cb58-643"></a>first <span class="op">=</span> <span class="dv">9725</span> <span class="op">*</span> <span class="fl">.1</span></span>
<span id="cb58-644"><a href="#cb58-644"></a><span class="co"># Second - to 37650 at .25</span></span>
<span id="cb58-645"><a href="#cb58-645"></a>second <span class="op">=</span> first <span class="op">+</span> (<span class="dv">37650</span> <span class="op">-</span> <span class="dv">9725</span>) <span class="op">*</span> <span class="fl">.15</span></span>
<span id="cb58-646"><a href="#cb58-646"></a><span class="in">```</span></span>
<span id="cb58-647"><a href="#cb58-647"></a></span>
<span id="cb58-648"><a href="#cb58-648"></a><span class="fu">## Compute Intercept</span></span>
<span id="cb58-649"><a href="#cb58-649"></a></span>
<span id="cb58-650"><a href="#cb58-650"></a><span class="ss">- </span>We know e.g. the tax cost at 500000</span>
<span id="cb58-653"><a href="#cb58-653"></a><span class="in">```{python}</span></span>
<span id="cb58-654"><a href="#cb58-654"></a>x <span class="op">=</span> single_tax(<span class="dv">500000</span>)</span>
<span id="cb58-655"><a href="#cb58-655"></a>x</span>
<span id="cb58-656"><a href="#cb58-656"></a><span class="in">```</span></span>
<span id="cb58-657"><a href="#cb58-657"></a><span class="ss">- </span>Compare to a non-marginal 39.6%</span>
<span id="cb58-660"><a href="#cb58-660"></a><span class="in">```{python}</span></span>
<span id="cb58-661"><a href="#cb58-661"></a>y <span class="op">=</span> <span class="dv">500000</span> <span class="op">*</span> <span class="fl">.396</span></span>
<span id="cb58-662"><a href="#cb58-662"></a>y</span>
<span id="cb58-663"><a href="#cb58-663"></a><span class="in">```</span></span>
<span id="cb58-664"><a href="#cb58-664"></a><span class="ss">- </span>We can find the difference.</span>
<span id="cb58-667"><a href="#cb58-667"></a><span class="in">```{python}</span></span>
<span id="cb58-668"><a href="#cb58-668"></a>b <span class="op">=</span> x <span class="op">-</span> y </span>
<span id="cb58-669"><a href="#cb58-669"></a>b</span>
<span id="cb58-670"><a href="#cb58-670"></a><span class="in">```</span></span>
<span id="cb58-671"><a href="#cb58-671"></a></span>
<span id="cb58-672"><a href="#cb58-672"></a><span class="fu">## A Linear Equation </span></span>
<span id="cb58-673"><a href="#cb58-673"></a></span>
<span id="cb58-674"><a href="#cb58-674"></a><span class="ss">- </span>Try 450000</span>
<span id="cb58-677"><a href="#cb58-677"></a><span class="in">```{python}</span></span>
<span id="cb58-678"><a href="#cb58-678"></a>income <span class="op">=</span> <span class="dv">450000</span></span>
<span id="cb58-679"><a href="#cb58-679"></a>[single_tax(income), income <span class="op">*</span> <span class="fl">.396</span> <span class="op">+</span> b]</span>
<span id="cb58-680"><a href="#cb58-680"></a><span class="in">```</span></span>
<span id="cb58-681"><a href="#cb58-681"></a><span class="ss">- </span>Try 650000</span>
<span id="cb58-684"><a href="#cb58-684"></a><span class="in">```{python}</span></span>
<span id="cb58-685"><a href="#cb58-685"></a>income <span class="op">=</span> <span class="dv">650000</span></span>
<span id="cb58-686"><a href="#cb58-686"></a>[single_tax(income), income <span class="op">*</span> <span class="fl">.396</span> <span class="op">+</span> b]</span>
<span id="cb58-687"><a href="#cb58-687"></a><span class="in">```</span></span>
<span id="cb58-688"><a href="#cb58-688"></a></span>
<span id="cb58-689"><a href="#cb58-689"></a><span class="ss">- </span>*We can precompute these and make **much simpler** functions*</span>
<span id="cb58-690"><a href="#cb58-690"></a></span>
<span id="cb58-691"><a href="#cb58-691"></a><span class="fu">## Aside: Slope-Intercept</span></span>
<span id="cb58-692"><a href="#cb58-692"></a></span>
<span id="cb58-693"><a href="#cb58-693"></a><span class="ss">- </span>I think of this as</span>
<span id="cb58-694"><a href="#cb58-694"></a>$$</span>
<span id="cb58-695"><a href="#cb58-695"></a>y = mx + b</span>
<span id="cb58-696"><a href="#cb58-696"></a>$$</span>
<span id="cb58-697"><a href="#cb58-697"></a><span class="ss">- </span>The slope-intercept form of a line, or linear equation.</span>
<span id="cb58-698"><a href="#cb58-698"></a><span class="ss">- </span>We calculated it from the point-slope form of a line.</span>
<span id="cb58-699"><a href="#cb58-699"></a></span>
<span id="cb58-700"><a href="#cb58-700"></a><span class="fu">## Aside: Scientific Application</span></span>
<span id="cb58-701"><a href="#cb58-701"></a></span>
<span id="cb58-702"><a href="#cb58-702"></a><span class="ss">- </span>Thinking in slopes and intercepts is a powerful scientific skill!</span>
<span id="cb58-705"><a href="#cb58-705"></a><span class="in">```{python}</span></span>
<span id="cb58-706"><a href="#cb58-706"></a><span class="kw">def</span> in_degrees_f(degrees_c):</span>
<span id="cb58-707"><a href="#cb58-707"></a>    <span class="cf">return</span> (<span class="dv">9</span><span class="op">/</span><span class="dv">5</span>) <span class="op">*</span> degrees_c <span class="op">+</span> <span class="dv">32</span></span>
<span id="cb58-708"><a href="#cb58-708"></a><span class="in">```</span></span>
<span id="cb58-709"><a href="#cb58-709"></a><span class="ss">- </span>Recognize this?</span>
<span id="cb58-712"><a href="#cb58-712"></a><span class="in">```{python}</span></span>
<span id="cb58-713"><a href="#cb58-713"></a>[in_degrees_f(<span class="dv">0</span>), in_degrees_f(<span class="dv">100</span>)]</span>
<span id="cb58-714"><a href="#cb58-714"></a><span class="in">```</span></span>
<span id="cb58-715"><a href="#cb58-715"></a></span>
<span id="cb58-716"><a href="#cb58-716"></a><span class="fu"># Exercise</span></span>
<span id="cb58-717"><a href="#cb58-717"></a></span>
<span id="cb58-718"><a href="#cb58-718"></a><span class="fu">## Intercept Computation</span></span>
<span id="cb58-719"><a href="#cb58-719"></a></span>
<span id="cb58-720"><a href="#cb58-720"></a><span class="ss">- </span>One of my favorite ways to use Python, Neovim, and the shell is to:</span>
<span id="cb58-721"><a href="#cb58-721"></a><span class="ss">  - </span>Compute some numerical values</span>
<span id="cb58-722"><a href="#cb58-722"></a><span class="ss">        - </span>Intercept values for linear equations of tax.</span>
<span id="cb58-723"><a href="#cb58-723"></a><span class="ss">  - </span>Run the script and output the results to the shell.</span>
<span id="cb58-724"><a href="#cb58-724"></a><span class="ss">  - </span>Use <span class="in">`&gt;`</span> to direct the output to file.</span>
<span id="cb58-725"><a href="#cb58-725"></a><span class="ss">  - </span>Use <span class="in">`nvim`</span> to edit that file into a *new* Python script that uses the numerical values I found.</span>
<span id="cb58-726"><a href="#cb58-726"></a></span>
<span id="cb58-727"><a href="#cb58-727"></a><span class="fu">## First</span></span>
<span id="cb58-728"><a href="#cb58-728"></a></span>
<span id="cb58-729"><a href="#cb58-729"></a><span class="ss">- </span>Write a python script, <span class="in">`points.py`</span>, that computes the tax cost at the end of each bracket.</span>
<span id="cb58-730"><a href="#cb58-730"></a><span class="ss">- </span>Here it is for "Married Filing Jointly"</span>
<span id="cb58-731"><a href="#cb58-731"></a><span class="ss">- </span>You can do this with a loop using the <span class="in">`tax_policy`</span> list-of-lists!</span>
<span id="cb58-732"><a href="#cb58-732"></a></span>
<span id="cb58-733"><a href="#cb58-733"></a></span>
<span id="cb58-734"><a href="#cb58-734"></a><span class="in">```{python filename="points.py"}</span></span>
<span id="cb58-735"><a href="#cb58-735"></a><span class="in">b = 18550 * .1</span></span>
<span id="cb58-736"><a href="#cb58-736"></a><span class="in">print(b)</span></span>
<span id="cb58-737"><a href="#cb58-737"></a><span class="in">b += (75300 - 18550) * .15</span></span>
<span id="cb58-738"><a href="#cb58-738"></a><span class="in">print(b)</span></span>
<span id="cb58-739"><a href="#cb58-739"></a><span class="in">b += (151900 - 75300) * .25</span></span>
<span id="cb58-740"><a href="#cb58-740"></a><span class="in">print(b)</span></span>
<span id="cb58-741"><a href="#cb58-741"></a><span class="in">b += (231450 - 151900) * .28</span></span>
<span id="cb58-742"><a href="#cb58-742"></a><span class="in">print(b)</span></span>
<span id="cb58-743"><a href="#cb58-743"></a><span class="in">```</span></span>
<span id="cb58-744"><a href="#cb58-744"></a></span>
<span id="cb58-745"><a href="#cb58-745"></a><span class="fu">## Aside: Loop Version</span></span>
<span id="cb58-746"><a href="#cb58-746"></a></span>
<span id="cb58-747"><a href="#cb58-747"></a>&lt;details&gt;</span>
<span id="cb58-748"><a href="#cb58-748"></a>&lt;summary&gt;Code&lt;/summary&gt;</span>
<span id="cb58-749"><a href="#cb58-749"></a><span class="in">```{python filename="points.py"}</span></span>
<span id="cb58-750"><a href="#cb58-750"></a><span class="in">#| output-location: column</span></span>
<span id="cb58-751"><a href="#cb58-751"></a><span class="in">taxes = [</span></span>
<span id="cb58-752"><a href="#cb58-752"></a><span class="in">    [18550, .10],</span></span>
<span id="cb58-753"><a href="#cb58-753"></a><span class="in">    [75300, .15],</span></span>
<span id="cb58-754"><a href="#cb58-754"></a><span class="in">    [151900, .25],</span></span>
<span id="cb58-755"><a href="#cb58-755"></a><span class="in">    [231450, .28],</span></span>
<span id="cb58-756"><a href="#cb58-756"></a><span class="in">    [413350, .33],</span></span>
<span id="cb58-757"><a href="#cb58-757"></a><span class="in">    [466951, .35]</span></span>
<span id="cb58-758"><a href="#cb58-758"></a><span class="in">]</span></span>
<span id="cb58-759"><a href="#cb58-759"></a></span>
<span id="cb58-760"><a href="#cb58-760"></a><span class="in">cost = 0</span></span>
<span id="cb58-761"><a href="#cb58-761"></a><span class="in">start = 0</span></span>
<span id="cb58-762"><a href="#cb58-762"></a><span class="in">for tax in taxes:</span></span>
<span id="cb58-763"><a href="#cb58-763"></a><span class="in">    cost += (tax[0] - start) * tax[1]</span></span>
<span id="cb58-764"><a href="#cb58-764"></a><span class="in">    print(cost)</span></span>
<span id="cb58-765"><a href="#cb58-765"></a><span class="in">    start = tax[0]</span></span>
<span id="cb58-766"><a href="#cb58-766"></a><span class="in">```</span></span>
<span id="cb58-767"><a href="#cb58-767"></a>&lt;/details&gt;</span>
<span id="cb58-768"><a href="#cb58-768"></a></span>
<span id="cb58-769"><a href="#cb58-769"></a><span class="fu">## Second</span></span>
<span id="cb58-770"><a href="#cb58-770"></a></span>
<span id="cb58-771"><a href="#cb58-771"></a><span class="ss">- </span>Run the Python script and direct the output to some file, like <span class="in">`tax.py`</span></span>
<span id="cb58-772"><a href="#cb58-772"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb58-773"><a href="#cb58-773"></a><span class="in">$ python points.py &gt; tax.py</span></span>
<span id="cb58-774"><a href="#cb58-774"></a><span class="in">$ nvim tax.py</span></span>
<span id="cb58-775"><a href="#cb58-775"></a><span class="in">```</span></span>
<span id="cb58-776"><a href="#cb58-776"></a><span class="ss">- </span>From here, you can convert to a Python list of your choosing with a variety of means.</span>
<span id="cb58-777"><a href="#cb58-777"></a></span>
<span id="cb58-778"><a href="#cb58-778"></a><span class="fu">## Aside: Visual Block</span></span>
<span id="cb58-779"><a href="#cb58-779"></a></span>
<span id="cb58-780"><a href="#cb58-780"></a>::: {.callout-warning}</span>
<span id="cb58-781"><a href="#cb58-781"></a>This is an advanced topic.</span>
<span id="cb58-782"><a href="#cb58-782"></a>:::</span>
<span id="cb58-783"><a href="#cb58-783"></a></span>
<span id="cb58-784"><a href="#cb58-784"></a><span class="ss">- </span>We introduce *visual block mode*</span>
<span id="cb58-785"><a href="#cb58-785"></a><span class="ss">- </span>A way to modifying multiple lines all at once.</span>
<span id="cb58-786"><a href="#cb58-786"></a><span class="ss">    - </span>There is also a regular "visual mode" <span class="in">`v`</span> which I use less often.</span>
<span id="cb58-787"><a href="#cb58-787"></a></span>
<span id="cb58-788"><a href="#cb58-788"></a><span class="fu">## Example</span></span>
<span id="cb58-789"><a href="#cb58-789"></a></span>
<span id="cb58-790"><a href="#cb58-790"></a>::::{.columns}</span>
<span id="cb58-791"><a href="#cb58-791"></a></span>
<span id="cb58-792"><a href="#cb58-792"></a>:::{.column width="70%"}</span>
<span id="cb58-793"><a href="#cb58-793"></a></span>
<span id="cb58-794"><a href="#cb58-794"></a><span class="ss">- </span><span class="in">`nvim tax.py`</span></span>
<span id="cb58-795"><a href="#cb58-795"></a><span class="ss">- </span>ctrl+q or ctrl+v to enter "visual block"</span>
<span id="cb58-796"><a href="#cb58-796"></a><span class="ss">- </span><span class="in">`5j`</span> to move down 5 lines</span>
<span id="cb58-797"><a href="#cb58-797"></a><span class="ss">- </span><span class="in">`I`</span> (shift + "i") to enter "insert block"</span>
<span id="cb58-798"><a href="#cb58-798"></a><span class="ss">- </span>Type "[" to begin a list</span>
<span id="cb58-799"><a href="#cb58-799"></a><span class="ss">- </span>ESC to exit "insert block"</span>
<span id="cb58-800"><a href="#cb58-800"></a><span class="ss">- </span>"[" will appear at the start of every line.</span>
<span id="cb58-801"><a href="#cb58-801"></a></span>
<span id="cb58-802"><a href="#cb58-802"></a>:::</span>
<span id="cb58-803"><a href="#cb58-803"></a></span>
<span id="cb58-804"><a href="#cb58-804"></a>:::{.column width="30%"}</span>
<span id="cb58-805"><a href="#cb58-805"></a></span>
<span id="cb58-806"><a href="#cb58-806"></a><span class="ss">- </span>Before:</span>
<span id="cb58-807"><a href="#cb58-807"></a></span>
<span id="cb58-808"><a href="#cb58-808"></a><span class="in">```{.python filename="tax.py"}</span></span>
<span id="cb58-809"><a href="#cb58-809"></a><span class="in">855.0</span></span>
<span id="cb58-810"><a href="#cb58-810"></a><span class="in">10367.5</span></span>
<span id="cb58-811"><a href="#cb58-811"></a><span class="in">29517.5</span></span>
<span id="cb58-812"><a href="#cb58-812"></a><span class="in">51791.5</span></span>
<span id="cb58-813"><a href="#cb58-813"></a><span class="in">111818.5</span></span>
<span id="cb58-814"><a href="#cb58-814"></a><span class="in">130578.85</span></span>
<span id="cb58-815"><a href="#cb58-815"></a><span class="in">```</span></span>
<span id="cb58-816"><a href="#cb58-816"></a></span>
<span id="cb58-817"><a href="#cb58-817"></a><span class="ss">- </span>After:</span>
<span id="cb58-818"><a href="#cb58-818"></a></span>
<span id="cb58-819"><a href="#cb58-819"></a><span class="in">```{.python filename="tax.py"}</span></span>
<span id="cb58-820"><a href="#cb58-820"></a><span class="in">[855.0</span></span>
<span id="cb58-821"><a href="#cb58-821"></a><span class="in">[10367.5</span></span>
<span id="cb58-822"><a href="#cb58-822"></a><span class="in">[29517.5</span></span>
<span id="cb58-823"><a href="#cb58-823"></a><span class="in">[51791.5</span></span>
<span id="cb58-824"><a href="#cb58-824"></a><span class="in">[111818.5</span></span>
<span id="cb58-825"><a href="#cb58-825"></a><span class="in">[130578.85</span></span>
<span id="cb58-826"><a href="#cb58-826"></a><span class="in">```</span></span>
<span id="cb58-827"><a href="#cb58-827"></a></span>
<span id="cb58-828"><a href="#cb58-828"></a><span class="ss">- </span>Press <span class="in">`u`</span> to undo to practice.</span>
<span id="cb58-829"><a href="#cb58-829"></a></span>
<span id="cb58-830"><a href="#cb58-830"></a>:::</span>
<span id="cb58-831"><a href="#cb58-831"></a></span>
<span id="cb58-832"><a href="#cb58-832"></a>::::</span>
<span id="cb58-833"><a href="#cb58-833"></a></span>
<span id="cb58-834"><a href="#cb58-834"></a><span class="fu">## Aside: Printing Python</span></span>
<span id="cb58-835"><a href="#cb58-835"></a></span>
<span id="cb58-836"><a href="#cb58-836"></a><span class="ss">- </span>Alternatively, you can use <span class="in">`print()`</span> to directly print things usable as Python.</span>
<span id="cb58-837"><a href="#cb58-837"></a></span>
<span id="cb58-838"><a href="#cb58-838"></a>&lt;details&gt;</span>
<span id="cb58-839"><a href="#cb58-839"></a>&lt;summary&gt;Code&lt;/summary&gt;</span>
<span id="cb58-840"><a href="#cb58-840"></a></span>
<span id="cb58-841"><a href="#cb58-841"></a><span class="in">```{python filename="intercept.py"}</span></span>
<span id="cb58-842"><a href="#cb58-842"></a><span class="in">cost = 0</span></span>
<span id="cb58-843"><a href="#cb58-843"></a><span class="in">start = 0</span></span>
<span id="cb58-844"><a href="#cb58-844"></a><span class="in">for tax in taxes:</span></span>
<span id="cb58-845"><a href="#cb58-845"></a><span class="in">    cost += (tax[0] - start) * tax[1]</span></span>
<span id="cb58-846"><a href="#cb58-846"></a><span class="in">    print([cost, start, tax[1]])</span></span>
<span id="cb58-847"><a href="#cb58-847"></a><span class="in">    start = tax[0]</span></span>
<span id="cb58-848"><a href="#cb58-848"></a><span class="in">```</span></span>
<span id="cb58-849"><a href="#cb58-849"></a></span>
<span id="cb58-850"><a href="#cb58-850"></a>&lt;/details&gt;</span>
<span id="cb58-851"><a href="#cb58-851"></a></span>
<span id="cb58-852"><a href="#cb58-852"></a></span>
<span id="cb58-853"><a href="#cb58-853"></a><span class="fu">## Third</span></span>
<span id="cb58-854"><a href="#cb58-854"></a></span>
<span id="cb58-855"><a href="#cb58-855"></a><span class="ss">- </span>Use points to determine intercepts</span>
<span id="cb58-856"><a href="#cb58-856"></a><span class="ss">- </span>Consider:</span>
<span id="cb58-859"><a href="#cb58-859"></a><span class="in">```{python}</span></span>
<span id="cb58-860"><a href="#cb58-860"></a><span class="co"># For taxpayers making more than 151900</span></span>
<span id="cb58-861"><a href="#cb58-861"></a><span class="co"># They pay 51791.50, plus</span></span>
<span id="cb58-862"><a href="#cb58-862"></a><span class="co"># .28 for every dollar over 151900</span></span>
<span id="cb58-863"><a href="#cb58-863"></a>bracket <span class="op">=</span> [<span class="fl">51791.5</span>, <span class="dv">151900</span>, <span class="fl">0.28</span>]</span>
<span id="cb58-864"><a href="#cb58-864"></a><span class="co"># What is the linear equation?</span></span>
<span id="cb58-865"><a href="#cb58-865"></a><span class="in">```</span></span>
<span id="cb58-866"><a href="#cb58-866"></a><span class="ss">- </span>We can calculate it as follows:</span>
<span id="cb58-869"><a href="#cb58-869"></a><span class="in">```{python}</span></span>
<span id="cb58-870"><a href="#cb58-870"></a>b <span class="op">=</span> <span class="fl">51791.5</span> <span class="op">-</span> (<span class="dv">151900</span> <span class="op">*</span> <span class="fl">.28</span>)</span>
<span id="cb58-871"><a href="#cb58-871"></a>b</span>
<span id="cb58-872"><a href="#cb58-872"></a><span class="in">```</span></span>
<span id="cb58-873"><a href="#cb58-873"></a></span>
<span id="cb58-874"><a href="#cb58-874"></a><span class="fu">## Fourth</span></span>
<span id="cb58-875"><a href="#cb58-875"></a></span>
<span id="cb58-876"><a href="#cb58-876"></a><span class="ss">- </span>Given the calculated slopes and intercepts, construct a piecewise function capturing income tax.</span>
<span id="cb58-877"><a href="#cb58-877"></a><span class="ss">- </span>Something like this:</span>
<span id="cb58-880"><a href="#cb58-880"></a><span class="in">```{python}</span></span>
<span id="cb58-881"><a href="#cb58-881"></a><span class="kw">def</span> married_tax(income):</span>
<span id="cb58-882"><a href="#cb58-882"></a>    <span class="cf">if</span> (<span class="dv">151900</span> <span class="op">&lt;=</span> income <span class="op">&lt;</span> <span class="dv">231450</span>):</span>
<span id="cb58-883"><a href="#cb58-883"></a>        <span class="cf">return</span> income <span class="op">*</span> <span class="fl">.28</span> <span class="op">-</span> <span class="fl">9259.5</span></span>
<span id="cb58-884"><a href="#cb58-884"></a>    <span class="co"># There will be more brackets of course!</span></span>
<span id="cb58-885"><a href="#cb58-885"></a><span class="in">```</span></span>
<span id="cb58-886"><a href="#cb58-886"></a></span>
<span id="cb58-887"><a href="#cb58-887"></a><span class="fu">## Exercise</span></span>
<span id="cb58-888"><a href="#cb58-888"></a></span>
<span id="cb58-889"><a href="#cb58-889"></a><span class="ss">- </span>Create two Python files:</span>
<span id="cb58-890"><a href="#cb58-890"></a><span class="ss">  - </span>One which calculates intercepts</span>
<span id="cb58-891"><a href="#cb58-891"></a><span class="ss">        - </span>Perhaps <span class="in">`intercepts.py`</span></span>
<span id="cb58-892"><a href="#cb58-892"></a><span class="ss">  - </span>One which uses intercepts to compute tax cost linearly.</span>
<span id="cb58-893"><a href="#cb58-893"></a><span class="ss">        - </span>Perhaps <span class="in">`tax_line.py`</span></span>
<span id="cb58-894"><a href="#cb58-894"></a></span>
<span id="cb58-895"><a href="#cb58-895"></a><span class="fu">## Solution pt. 1</span></span>
<span id="cb58-896"><a href="#cb58-896"></a></span>
<span id="cb58-897"><a href="#cb58-897"></a><span class="in">```{python filename="intercepts.py"}</span></span>
<span id="cb58-898"><a href="#cb58-898"></a><span class="in">#| code-fold: true</span></span>
<span id="cb58-899"><a href="#cb58-899"></a><span class="in">#| output: false</span></span>
<span id="cb58-900"><a href="#cb58-900"></a><span class="in">taxes = [</span></span>
<span id="cb58-901"><a href="#cb58-901"></a><span class="in">    [9275, .10],</span></span>
<span id="cb58-902"><a href="#cb58-902"></a><span class="in">    [37650, .15],</span></span>
<span id="cb58-903"><a href="#cb58-903"></a><span class="in">    [91150, .25],</span></span>
<span id="cb58-904"><a href="#cb58-904"></a><span class="in">    [190150, .28],</span></span>
<span id="cb58-905"><a href="#cb58-905"></a><span class="in">    [413350, .33],</span></span>
<span id="cb58-906"><a href="#cb58-906"></a><span class="in">    [415051, .35]</span></span>
<span id="cb58-907"><a href="#cb58-907"></a><span class="in">]</span></span>
<span id="cb58-908"><a href="#cb58-908"></a></span>
<span id="cb58-909"><a href="#cb58-909"></a><span class="in">cost = 0</span></span>
<span id="cb58-910"><a href="#cb58-910"></a><span class="in">start = 0</span></span>
<span id="cb58-911"><a href="#cb58-911"></a><span class="in">for tax in taxes:</span></span>
<span id="cb58-912"><a href="#cb58-912"></a><span class="in">    cost += (tax[0] - start) * tax[1]</span></span>
<span id="cb58-913"><a href="#cb58-913"></a><span class="in">    tax += [cost - tax[0] * tax[1]]</span></span>
<span id="cb58-914"><a href="#cb58-914"></a><span class="in">    start = tax[0]</span></span>
<span id="cb58-915"><a href="#cb58-915"></a><span class="in">    print(tax)</span></span>
<span id="cb58-916"><a href="#cb58-916"></a><span class="in">```</span></span>
<span id="cb58-917"><a href="#cb58-917"></a></span>
<span id="cb58-918"><a href="#cb58-918"></a><span class="fu">## Solution pt. 2</span></span>
<span id="cb58-919"><a href="#cb58-919"></a></span>
<span id="cb58-920"><a href="#cb58-920"></a><span class="in">```{python filename="intercepts.py"}</span></span>
<span id="cb58-921"><a href="#cb58-921"></a><span class="in">#| code-fold: true</span></span>
<span id="cb58-922"><a href="#cb58-922"></a><span class="in"># Generate with `intercepts` then modify with visual block mode</span></span>
<span id="cb58-923"><a href="#cb58-923"></a><span class="in">taxes = [</span></span>
<span id="cb58-924"><a href="#cb58-924"></a><span class="in">    [9275, 0.1, 0.0],</span></span>
<span id="cb58-925"><a href="#cb58-925"></a><span class="in">    [37650, 0.15, -463.75],</span></span>
<span id="cb58-926"><a href="#cb58-926"></a><span class="in">    [91150, 0.25, -4228.75],</span></span>
<span id="cb58-927"><a href="#cb58-927"></a><span class="in">    [190150, 0.28, -6963.25],</span></span>
<span id="cb58-928"><a href="#cb58-928"></a><span class="in">    [413350, 0.33, -16470.75],</span></span>
<span id="cb58-929"><a href="#cb58-929"></a><span class="in">    [415051, 0.35, -24737.75],</span></span>
<span id="cb58-930"><a href="#cb58-930"></a><span class="in">]</span></span>
<span id="cb58-931"><a href="#cb58-931"></a></span>
<span id="cb58-932"><a href="#cb58-932"></a><span class="in">def single_tax(income):</span></span>
<span id="cb58-933"><a href="#cb58-933"></a><span class="in">    # Check all brackets</span></span>
<span id="cb58-934"><a href="#cb58-934"></a><span class="in">    for tax in taxes:</span></span>
<span id="cb58-935"><a href="#cb58-935"></a><span class="in">        if income &lt; tax[0]:</span></span>
<span id="cb58-936"><a href="#cb58-936"></a><span class="in">            return income * tax[1] + tax[2]</span></span>
<span id="cb58-937"><a href="#cb58-937"></a><span class="in">    # We calculated the top bracket earlier</span></span>
<span id="cb58-938"><a href="#cb58-938"></a><span class="in">    return income * .396 + -43830.05</span></span>
<span id="cb58-939"><a href="#cb58-939"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>