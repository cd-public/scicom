<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Prof.&nbsp;Calvin">

<title>SciPy – Scientific Computing</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./08_sympy.html" rel="next">
<link href="./06_pandas.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-a4a11d514c7d463668e07712114998e6.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-70c9a4798e5f6abb0636bcdc3eed0e90.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>



<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>



</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./07_scipy.html">SciPy</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Scientific Computing</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_python.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Python</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_neovim.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Neovim</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_shell.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Shell</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_numpy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NumPy</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_matplotlib.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Matplotlib</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_pandas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><strong>pandas</strong></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_scipy.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">SciPy</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_sympy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SymPy</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_sklearn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sklearn</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A0_gitbash.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Appendix - Git Bash</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./A1_keybinds.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Appendix - Commands</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#what-is-scipy" id="toc-what-is-scipy" class="nav-link active" data-scroll-target="#what-is-scipy">What is SciPy?</a>
  <ul class="collapse">
  <li><a href="#why-scipy" id="toc-why-scipy" class="nav-link" data-scroll-target="#why-scipy">Why SciPy</a></li>
  <li><a href="#why-not-scipy" id="toc-why-not-scipy" class="nav-link" data-scroll-target="#why-not-scipy">Why not SciPy</a></li>
  <li><a href="#relevance" id="toc-relevance" class="nav-link" data-scroll-target="#relevance">Relevance</a></li>
  <li><a href="#credits" id="toc-credits" class="nav-link" data-scroll-target="#credits">Credits</a></li>
  </ul></li>
  <li><a href="#install" id="toc-install" class="nav-link" data-scroll-target="#install">Install</a>
  <ul class="collapse">
  <li><a href="#pip-again" id="toc-pip-again" class="nav-link" data-scroll-target="#pip-again">pip again</a></li>
  <li><a href="#verify" id="toc-verify" class="nav-link" data-scroll-target="#verify">Verify</a></li>
  </ul></li>
  <li><a href="#other-installs" id="toc-other-installs" class="nav-link" data-scroll-target="#other-installs">Other Installs</a>
  <ul class="collapse">
  <li><a href="#motivation" id="toc-motivation" class="nav-link" data-scroll-target="#motivation">Motivation</a></li>
  <li><a href="#youtube" id="toc-youtube" class="nav-link" data-scroll-target="#youtube">YouTube</a></li>
  <li><a href="#problem-statement" id="toc-problem-statement" class="nav-link" data-scroll-target="#problem-statement">Problem Statement</a></li>
  <li><a href="#note" id="toc-note" class="nav-link" data-scroll-target="#note">Note</a></li>
  <li><a href="#yt-dlp" id="toc-yt-dlp" class="nav-link" data-scroll-target="#yt-dlp">yt-dlp</a></li>
  <li><a href="#ffmpeg" id="toc-ffmpeg" class="nav-link" data-scroll-target="#ffmpeg">ffmpeg</a></li>
  <li><a href="#download" id="toc-download" class="nav-link" data-scroll-target="#download">Download</a></li>
  <li><a href="#vlc" id="toc-vlc" class="nav-link" data-scroll-target="#vlc">VLC</a></li>
  <li><a href="#curl" id="toc-curl" class="nav-link" data-scroll-target="#curl">curl</a></li>
  </ul></li>
  <li><a href="#scipy.io" id="toc-scipy.io" class="nav-link" data-scroll-target="#scipy.io"><code>scipy.io</code></a>
  <ul class="collapse">
  <li><a href="#wavfile" id="toc-wavfile" class="nav-link" data-scroll-target="#wavfile">wavfile</a></li>
  <li><a href="#scipy-modules" id="toc-scipy-modules" class="nav-link" data-scroll-target="#scipy-modules">SciPy Modules</a></li>
  <li><a href="#load-psy.wav" id="toc-load-psy.wav" class="nav-link" data-scroll-target="#load-psy.wav">Load “psy.wav”</a></li>
  <li><a href="#multiple-return" id="toc-multiple-return" class="nav-link" data-scroll-target="#multiple-return">Multiple return</a></li>
  <li><a href="#aside-tuples" id="toc-aside-tuples" class="nav-link" data-scroll-target="#aside-tuples">Aside: Tuples</a></li>
  <li><a href="#vs.-lists" id="toc-vs.-lists" class="nav-link" data-scroll-target="#vs.-lists">vs.&nbsp;Lists</a></li>
  <li><a href="#aside-errors" id="toc-aside-errors" class="nav-link" data-scroll-target="#aside-errors">Aside: Errors</a></li>
  <li><a href="#reading-files" id="toc-reading-files" class="nav-link" data-scroll-target="#reading-files">Reading files</a></li>
  <li><a href="#example" id="toc-example" class="nav-link" data-scroll-target="#example">Example</a></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a></li>
  <li><a href="#rate" id="toc-rate" class="nav-link" data-scroll-target="#rate">Rate</a></li>
  <li><a href="#plot" id="toc-plot" class="nav-link" data-scroll-target="#plot">Plot</a></li>
  <li><a href="#back-to-data" id="toc-back-to-data" class="nav-link" data-scroll-target="#back-to-data">Back to Data</a></li>
  <li><a href="#why-pairs" id="toc-why-pairs" class="nav-link" data-scroll-target="#why-pairs">Why pairs?</a></li>
  <li><a href="#test-it" id="toc-test-it" class="nav-link" data-scroll-target="#test-it">Test it</a></li>
  <li><a href="#transpose" id="toc-transpose" class="nav-link" data-scroll-target="#transpose">Transpose</a></li>
  <li><a href="#split" id="toc-split" class="nav-link" data-scroll-target="#split">Split</a></li>
  <li><a href="#zeros" id="toc-zeros" class="nav-link" data-scroll-target="#zeros">Zeros</a></li>
  <li><a href="#combine" id="toc-combine" class="nav-link" data-scroll-target="#combine">Combine</a></li>
  <li><a href="#save" id="toc-save" class="nav-link" data-scroll-target="#save">Save</a></li>
  <li><a href="#listen" id="toc-listen" class="nav-link" data-scroll-target="#listen">Listen</a></li>
  </ul></li>
  <li><a href="#noise" id="toc-noise" class="nav-link" data-scroll-target="#noise">Noise</a>
  <ul class="collapse">
  <li><a href="#noise-reduction" id="toc-noise-reduction" class="nav-link" data-scroll-target="#noise-reduction">Noise Reduction</a></li>
  <li><a href="#view-it" id="toc-view-it" class="nav-link" data-scroll-target="#view-it">View it</a></li>
  <li><a href="#repeats" id="toc-repeats" class="nav-link" data-scroll-target="#repeats">Repeats?</a></li>
  <li><a href="#whoops" id="toc-whoops" class="nav-link" data-scroll-target="#whoops">Whoops!</a></li>
  </ul></li>
  <li><a href="#where" id="toc-where" class="nav-link" data-scroll-target="#where">Where?</a>
  <ul class="collapse">
  <li><a href="#patterns" id="toc-patterns" class="nav-link" data-scroll-target="#patterns">Patterns</a></li>
  <li><a href="#visualize" id="toc-visualize" class="nav-link" data-scroll-target="#visualize">Visualize</a></li>
  <li><a href="#more-bins" id="toc-more-bins" class="nav-link" data-scroll-target="#more-bins">More Bins</a></li>
  <li><a href="#a-pattern" id="toc-a-pattern" class="nav-link" data-scroll-target="#a-pattern">A Pattern?</a></li>
  <li><a href="#isolate" id="toc-isolate" class="nav-link" data-scroll-target="#isolate">Isolate</a></li>
  <li><a href="#motif" id="toc-motif" class="nav-link" data-scroll-target="#motif">Motif</a></li>
  <li><a href="#fft" id="toc-fft" class="nav-link" data-scroll-target="#fft">FFT</a></li>
  </ul></li>
  <li><a href="#stats" id="toc-stats" class="nav-link" data-scroll-target="#stats">Stats</a>
  <ul class="collapse">
  <li><a href="#regression" id="toc-regression" class="nav-link" data-scroll-target="#regression">Regression</a></li>
  <li><a href="#the-data" id="toc-the-data" class="nav-link" data-scroll-target="#the-data">The Data</a></li>
  <li><a href="#curl-1" id="toc-curl-1" class="nav-link" data-scroll-target="#curl-1">curl</a></li>
  <li><a href="#within-python" id="toc-within-python" class="nav-link" data-scroll-target="#within-python">Within Python</a></li>
  <li><a href="#how-i-did-it" id="toc-how-i-did-it" class="nav-link" data-scroll-target="#how-i-did-it">How I did it</a></li>
  <li><a href="#check-columns" id="toc-check-columns" class="nav-link" data-scroll-target="#check-columns">Check Columns</a></li>
  <li><a href="#merge" id="toc-merge" class="nav-link" data-scroll-target="#merge">Merge</a></li>
  <li><a href="#adjustments" id="toc-adjustments" class="nav-link" data-scroll-target="#adjustments">Adjustments</a></li>
  <li><a href="#percent-change" id="toc-percent-change" class="nav-link" data-scroll-target="#percent-change">Percent Change</a></li>
  <li><a href="#unemployment" id="toc-unemployment" class="nav-link" data-scroll-target="#unemployment">Unemployment</a></li>
  <li><a href="#look-at-it" id="toc-look-at-it" class="nav-link" data-scroll-target="#look-at-it">Look at it</a></li>
  <li><a href="#linear-regression" id="toc-linear-regression" class="nav-link" data-scroll-target="#linear-regression">Linear Regression</a></li>
  <li><a href="#linregress" id="toc-linregress" class="nav-link" data-scroll-target="#linregress"><code>linregress</code></a></li>
  <li><a href="#tada" id="toc-tada" class="nav-link" data-scroll-target="#tada">Tada!</a></li>
  </ul></li>
  <li><a href="#exercise" id="toc-exercise" class="nav-link" data-scroll-target="#exercise">Exercise</a>
  <ul class="collapse">
  <li><a href="#technetium" id="toc-technetium" class="nav-link" data-scroll-target="#technetium">Technetium</a></li>
  <li><a href="#interpolation" id="toc-interpolation" class="nav-link" data-scroll-target="#interpolation">Interpolation</a></li>
  <li><a href="#extract" id="toc-extract" class="nav-link" data-scroll-target="#extract">Extract</a></li>
  <li><a href="#import" id="toc-import" class="nav-link" data-scroll-target="#import">Import</a></li>
  <li><a href="#data-1" id="toc-data-1" class="nav-link" data-scroll-target="#data-1">Data</a></li>
  <li><a href="#reference" id="toc-reference" class="nav-link" data-scroll-target="#reference">Reference</a></li>
  <li><a href="#working-df" id="toc-working-df" class="nav-link" data-scroll-target="#working-df">Working df</a></li>
  <li><a href="#x" id="toc-x" class="nav-link" data-scroll-target="#x">X</a></li>
  <li><a href="#y" id="toc-y" class="nav-link" data-scroll-target="#y">Y</a></li>
  <li><a href="#d" id="toc-d" class="nav-link" data-scroll-target="#d">2D</a></li>
  <li><a href="#z" id="toc-z" class="nav-link" data-scroll-target="#z">Z</a></li>
  <li><a href="#scipy" id="toc-scipy" class="nav-link" data-scroll-target="#scipy">SciPy</a></li>
  <li><a href="#stop-1" id="toc-stop-1" class="nav-link" data-scroll-target="#stop-1">Stop!</a></li>
  <li><a href="#my-guess" id="toc-my-guess" class="nav-link" data-scroll-target="#my-guess">My Guess</a></li>
  <li><a href="#one-way" id="toc-one-way" class="nav-link" data-scroll-target="#one-way">One Way</a></li>
  <li><a href="#aside-boolean-index" id="toc-aside-boolean-index" class="nav-link" data-scroll-target="#aside-boolean-index">Aside: Boolean Index</a></li>
  <li><a href="#aside-example" id="toc-aside-example" class="nav-link" data-scroll-target="#aside-example">Aside: Example</a></li>
  <li><a href="#aside-immediate-neighbor" id="toc-aside-immediate-neighbor" class="nav-link" data-scroll-target="#aside-immediate-neighbor">Aside: Immediate Neighbor</a></li>
  <li><a href="#immediate-example" id="toc-immediate-example" class="nav-link" data-scroll-target="#immediate-example">Immediate Example</a></li>
  <li><a href="#my-estimate" id="toc-my-estimate" class="nav-link" data-scroll-target="#my-estimate">My Estimate:</a></li>
  <li><a href="#interpolate" id="toc-interpolate" class="nav-link" data-scroll-target="#interpolate">Interpolate</a></li>
  <li><a href="#exercise-1" id="toc-exercise-1" class="nav-link" data-scroll-target="#exercise-1">Exercise</a></li>
  <li><a href="#solution" id="toc-solution" class="nav-link" data-scroll-target="#solution">Solution</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="07_scipy.rjs.html"><i class="bi bi-file-slides"></i>RevealJS</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">SciPy</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i></button></div></div>
<p class="subtitle lead">Scientific Computing</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Prof.&nbsp;Calvin </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="what-is-scipy" class="level1">
<h1>What is SciPy?</h1>
<blockquote class="blockquote">
<p><a href="https://docs.scipy.org/doc/scipy/index.html">SciPy (pronounced “Sigh Pie”) is an open-source software for mathematics, science, and engineering.</a></p>
</blockquote>
<ul>
<li><strong>Sci</strong>entific <strong>Py</strong>thon</li>
<li>Basically a NumPy extension.</li>
</ul>
<section id="why-scipy" class="level2">
<h2 class="anchored" data-anchor-id="why-scipy">Why SciPy</h2>
<ul>
<li>Most popular scientific computing platform in the world.</li>
<li>Basis of scikit-learn, the most popular machine learning platform in the world.</li>
<li>Extremely rigorous - most functions and documentation come with academic citations.</li>
</ul>
</section>
<section id="why-not-scipy" class="level2">
<h2 class="anchored" data-anchor-id="why-not-scipy">Why not SciPy</h2>
<ul>
<li>SciPy for statistics has basically one challenger (statsmodels, which is great).</li>
<li>Sometimes SciPy is too “heavyweight” and NumPy would be sufficient.</li>
<li>As a rule, I tend to use NumPy for easy things and scikit-learn for hard things, and don’t use SciPy for much.</li>
</ul>
</section>
<section id="relevance" class="level2">
<h2 class="anchored" data-anchor-id="relevance">Relevance</h2>
<ul>
<li>This is a scientific computing course!</li>
<li>We’ll do a bit of signal processing and interpolation.</li>
</ul>
</section>
<section id="credits" class="level2">
<h2 class="anchored" data-anchor-id="credits">Credits</h2>
<ul>
<li>SciPy is a big, complex library with many components.</li>
<li>I used each of:
<ul>
<li>The <a href="https://docs.scipy.org/doc/scipy/tutorial/index.html">User Guide</a></li>
<li>The <a href="https://docs.scipy.org/doc/scipy/reference/index.html">API reference</a>
<ul>
<li>API is “application program interface” - a description of the functions in SciPy by their arguments and return values.</li>
</ul></li>
<li>The <a href="https://scipy-cookbook.readthedocs.io/">Cookbook</a> which may be unofficial.</li>
</ul></li>
</ul>
</section>
</section>
<section id="install" class="level1">
<h1>Install</h1>
<section id="pip-again" class="level2">
<h2 class="anchored" data-anchor-id="pip-again">pip again</h2>
<ul>
<li>Just like NumPy, Matplotlib is a Python package which we install via <code>pip</code></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python3</span> <span class="at">-m</span> pip install scipy</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>That might take a moment, when it does we can check it worked!</li>
</ul>
</section>
<section id="verify" class="level2">
<h2 class="anchored" data-anchor-id="verify">Verify</h2>
<ul>
<li>We can quickly verify installation and introduce some conventions.</li>
<li>Open up Python and import the libraries:</li>
</ul>
<div id="da9b077f" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="im">import</span> scipy</span>
<span id="cb2-4"><a href="#cb2-4"></a></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="bu">print</span>(scipy.__version__)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1.14.1</code></pre>
</div>
</div>
</section>
</section>
<section id="other-installs" class="level1">
<h1>Other Installs</h1>
<section id="motivation" class="level2">
<h2 class="anchored" data-anchor-id="motivation">Motivation</h2>
<ul>
<li>I thought it would be fun to do some signal processing on a recognizable data set:</li>
<li><a href="https://www.youtube.com/watch?v=9bZkp7q19f0">PSY - GANGNAM STYLE(강남스타일) M/V</a></li>
</ul>
</section>
<section id="youtube" class="level2">
<h2 class="anchored" data-anchor-id="youtube">YouTube</h2>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
STOP
</div>
</div>
<div class="callout-body-container callout-body">
<p>Instructor’s note: Do not click this link while streaming.</p>
</div>
</div>
<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/9bZkp7q19f0" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
</section>
<section id="problem-statement" class="level2">
<h2 class="anchored" data-anchor-id="problem-statement">Problem Statement</h2>
<ul>
<li>SciPy has the ability to read some filetypes but not others.
<ul>
<li>Can read: “.wav” Waveform Audio File Format.</li>
<li>Can’t read: YouTube urls</li>
</ul></li>
<li>We use Python package <code>yt-dlp</code> to download from YouTube.</li>
<li>We use non-Python package <code>ffmpeg</code> to translate .mp4 files to .wav</li>
<li>We use VideoLAN VLC Media Player to play the .wav files.</li>
</ul>
</section>
<section id="note" class="level2">
<h2 class="anchored" data-anchor-id="note">Note</h2>
<ul>
<li>You do not need to download any of these.</li>
<li>Here is the .wav:
<ul>
<li><audio controls="" src="src/psy.wav" type="audio/wav">
</audio></li>
</ul></li>
<li>Here is a link:
<ul>
<li><a href="psy.wav">psy.wav</a></li>
</ul></li>
</ul>
</section>
<section id="yt-dlp" class="level2">
<h2 class="anchored" data-anchor-id="yt-dlp">yt-dlp</h2>
<ul>
<li>While I don’t think you need it for anything, I installed <code>yt-dlp</code> as follows, from the shell:</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> <span class="at">-m</span> pip install yt-dlp</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="ffmpeg" class="level2">
<h2 class="anchored" data-anchor-id="ffmpeg">ffmpeg</h2>
<ul>
<li>I believe this is the best place to download <code>ffmpeg</code> for Windows and MacOS.</li>
<li><a href="https://www.ffmpeg.org/download.html">https://www.ffmpeg.org/download.html</a></li>
<li>I used it on Ubuntu Linux and did not attempt and Windows or MacOS install.</li>
</ul>
</section>
<section id="download" class="level2">
<h2 class="anchored" data-anchor-id="download">Download</h2>
<ul>
<li>Both <code>yt-dlp</code> and <code>ffmpeg</code> are command line utilites (like Python, Neovim, or <code>ls</code>).</li>
<li>I didn’t actually ever use <code>ffmpeg</code> directly, it is just used by <code>yt-dlp</code>.</li>
<li>Given the url, I used the following shell command:</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="ex">yt-dlp</span> <span class="at">-x</span> <span class="at">--audio-format</span> wav https://www.youtube.com/watch<span class="pp">?</span>v=9bZkp7q19f0 <span class="at">-o</span> psy.wav</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ul>
<li>This tells <code>yt-dlp</code> to go to the url, download to video, convert it to a .wav, and save it as “psy.wav”</li>
</ul>
</section>
<section id="vlc" class="level2">
<h2 class="anchored" data-anchor-id="vlc">VLC</h2>
<ul>
<li>I <em>highly</em> recommend having VLC installed.</li>
<li><a href="https://www.videolan.org/vlc/#download">https://www.videolan.org/vlc/#download</a></li>
</ul>
</section>
<section id="curl" class="level2">
<h2 class="anchored" data-anchor-id="curl">curl</h2>
<ul>
<li>As an alternative, you can <code>curl</code> the file from the course webpage.</li>
<li><code>curl</code> is a shell command that downloads a file from a url.
<ul>
<li>Can also be used to get e.g.&nbsp;the “.csv” file we used with <strong>pandas</strong>!</li>
</ul>
<div class="sourceCode" id="cb6" data-code-line-number="false"><pre class="sourceCode numberSource bash number-lines code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1"></a><span class="ex">curl</span> https://github.com/cd-public/scicom/raw/refs/heads/main/qmd/src/psy.wav <span class="at">-o</span> psy.wav</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
<li>This directs the command line to download the file from the url and save it locally as “psy.wav”</li>
</ul>
</section>
</section>
<section id="scipy.io" class="level1">
<h1><code>scipy.io</code></h1>
<section id="wavfile" class="level2">
<h2 class="anchored" data-anchor-id="wavfile">wavfile</h2>
<ul>
<li>To load a wavfile into SciPy, it is a simple matter.</li>
<li>But first, we note one difference:
<ul>
<li>With NumPy, we imported as <code>np</code></li>
<li>With <strong>pandas</strong>, we import as <code>pd</code></li>
</ul></li>
<li>With Matplotlib, we imported Matplotlib “dot” something - pyplot
<ul>
<li>The “Python interface”</li>
</ul></li>
</ul>
</section>
<section id="scipy-modules" class="level2">
<h2 class="anchored" data-anchor-id="scipy-modules">SciPy Modules</h2>
<ul>
<li>SciPy is composed of many <em>modules</em></li>
<li><code>matplotlib.pyplot</code> is a previous example of a module.</li>
<li>For example:
<ul>
<li><code>scipy.io</code> includes ways to read files.</li>
<li><code>scipy.fft</code> does Fast Fourier Transforms.</li>
<li><code>scipy.stats</code> does statistics.</li>
</ul></li>
</ul>
</section>
<section id="load-psy.wav" class="level2">
<h2 class="anchored" data-anchor-id="load-psy.wav">Load “psy.wav”</h2>
<ul>
<li>We will load a sound file as an np.array.</li>
</ul>
<div id="a6de3ed7" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1"></a>rate, data <span class="op">=</span> scipy.io.wavfile.read(<span class="st">"psy.wav"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>This may look odd!</li>
</ul>
</section>
<section id="multiple-return" class="level2">
<h2 class="anchored" data-anchor-id="multiple-return">Multiple return</h2>
<ul>
<li>This uses a slightly advanced Python topic of “multiple return”.</li>
</ul>
<div id="c7a96fb1" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">def</span> roots(x):</span>
<span id="cb8-2"><a href="#cb8-2"></a>    root <span class="op">=</span> np.sqrt(x)</span>
<span id="cb8-3"><a href="#cb8-3"></a>    <span class="cf">return</span> <span class="op">-</span>root, root</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>Python can return multiple comma-separated values from a function.</li>
</ul>
<div id="8a719c95" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1"></a>neg, pos <span class="op">=</span> roots(<span class="dv">25</span>)</span>
<span id="cb9-2"><a href="#cb9-2"></a>[neg, pos]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="748">
<pre><code>[np.float64(-5.0), np.float64(5.0)]</code></pre>
</div>
</div>
<ul>
<li>We can “unpack” the multiple values by providing comma separated variable names.</li>
</ul>
</section>
<section id="aside-tuples" class="level2">
<h2 class="anchored" data-anchor-id="aside-tuples">Aside: Tuples</h2>
<ul>
<li>These multiple returns are just tuples.
<ul>
<li>The things that are like lists, but not exactly.</li>
</ul></li>
</ul>
<div id="7b4af6db" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1"></a>both <span class="op">=</span> roots(<span class="dv">64</span>)</span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="bu">type</span>(both)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="749">
<pre><code>tuple</code></pre>
</div>
</div>
<ul>
<li>We can also use indexing to see individual elements of a tuple.</li>
</ul>
<div id="e43220f6" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1"></a>both[<span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="750">
<pre><code>np.float64(-8.0)</code></pre>
</div>
</div>
</section>
<section id="vs.-lists" class="level2">
<h2 class="anchored" data-anchor-id="vs.-lists">vs.&nbsp;Lists</h2>
<ul>
<li>The only difference compared to lists is updates.</li>
<li>In a list, we can change an element with its index:</li>
</ul>
<div id="82dacf20" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1"></a>color_lst <span class="op">=</span> [<span class="st">"red"</span>, <span class="st">"orange"</span>, <span class="st">"yellow"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span>, <span class="st">"indigo"</span>, <span class="st">"violet"</span>]</span>
<span id="cb15-2"><a href="#cb15-2"></a>color_lst[<span class="op">-</span><span class="dv">1</span>] <span class="op">=</span> <span class="st">"purple"</span></span>
<span id="cb15-3"><a href="#cb15-3"></a>color_lst</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="751">
<pre><code>['red', 'orange', 'yellow', 'green', 'blue', 'indigo', 'purple']</code></pre>
</div>
</div>
</section>
<section id="aside-errors" class="level2">
<h2 class="anchored" data-anchor-id="aside-errors">Aside: Errors</h2>
<ul>
<li>Doing this to a list would create an error.</li>
<li>Thus far we have avoided showing example code that won’t work.</li>
<li>We can use <code>try</code> and <code>except</code> (like <code>if</code> and <code>else</code>) on erroneous code.</li>
</ul>
<div id="4d6992c2" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1"></a>color_tup <span class="op">=</span> <span class="bu">tuple</span>(color_lst)</span>
<span id="cb17-2"><a href="#cb17-2"></a><span class="cf">try</span>:</span>
<span id="cb17-3"><a href="#cb17-3"></a>    color_tup[<span class="op">-</span><span class="dv">1</span>] <span class="op">=</span> <span class="st">"violet"</span></span>
<span id="cb17-4"><a href="#cb17-4"></a><span class="cf">except</span>:</span>
<span id="cb17-5"><a href="#cb17-5"></a>    <span class="bu">print</span>(<span class="st">"Tuples can't do that."</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Tuples can't do that.</code></pre>
</div>
</div>
</section>
<section id="reading-files" class="level2">
<h2 class="anchored" data-anchor-id="reading-files">Reading files</h2>
<ul>
<li>Try except is <em>very</em> handy when reading files.</li>
<li>A lot of files I try to read are garbled and can’t be read.</li>
<li>Using <code>try</code> and <code>except</code> prevents Python errors.
<ul>
<li>More useful in big scripts than single-line things.</li>
</ul></li>
</ul>
</section>
<section id="example" class="level2">
<h2 class="anchored" data-anchor-id="example">Example</h2>
<ul>
<li>Earlier today, I tried the <code>curl</code> command to get “psy.wav” while (unbeknownst to me) my internet was spotty.</li>
<li>I got a file named “psy.wav” that was of size <code>0</code></li>
<li>Unsurprisingly, opening it with SciPy led to an error.</li>
<li>This happens all the time!</li>
</ul>
</section>
<section id="data" class="level2">
<h2 class="anchored" data-anchor-id="data">Data</h2>
<ul>
<li>Back to our .wav file.</li>
<li>Let’s look at that data!</li>
</ul>
<div id="e9f2b1ec" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1"></a>data[:<span class="dv">10</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="753">
<pre><code>array([[0, 0],
       [0, 0],
       [0, 0],
       [0, 0],
       [0, 0],
       [0, 0],
       [0, 0],
       [0, 0],
       [0, 0],
       [0, 0]], dtype=int16)</code></pre>
</div>
</div>
</section>
<section id="rate" class="level2">
<h2 class="anchored" data-anchor-id="rate">Rate</h2>
<div id="5f20bd56" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1"></a>rate</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="754">
<pre><code>48000</code></pre>
</div>
</div>
<ul>
<li>You may have listened to the file (or not).</li>
<li>Audio doesn’t come in for about 4 seconds.</li>
<li>The song ends and there’s a kind of “outro”.</li>
<li>We can see these on the plot.</li>
<li>But that examples the zeros.</li>
</ul>
</section>
<section id="plot" class="level2">
<h2 class="anchored" data-anchor-id="plot">Plot</h2>
<div id="bab89f1a" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1"></a>plt.plot(data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="07_scipy_files/figure-revealjs/cell-12-output-1.png" width="826" height="428" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="back-to-data" class="level2">
<h2 class="anchored" data-anchor-id="back-to-data">Back to Data</h2>
<ul>
<li>Given the rate, we can look at values ever <code>rate</code> amount of time.</li>
<li>I bet it’s seconds, so we’ll see 3 or 4 zero-only then some non-zero.</li>
</ul>
<div id="bf3abf19" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1"></a>data[:rate<span class="op">*</span><span class="dv">10</span>:rate]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="756">
<pre><code>array([[     0,      0],
       [     0,      0],
       [     0,      0],
       [     0,      0],
       [    -2,      3],
       [-13903, -13896],
       [ 12440,  12442],
       [  6053,   6051],
       [  5888,   5888],
       [    53,     52]], dtype=int16)</code></pre>
</div>
</div>
</section>
<section id="why-pairs" class="level2">
<h2 class="anchored" data-anchor-id="why-pairs">Why pairs?</h2>
<ul>
<li>Those two values may look initially suspicious, then I remembered.</li>
<li>Many mammals, including some assistant professors of computer science, have two ears!</li>
<li>This is a stereo file - the pairs are for each of two speakers.</li>
</ul>
</section>
<section id="test-it" class="level2">
<h2 class="anchored" data-anchor-id="test-it">Test it</h2>
<ul>
<li>Don’t believe me?</li>
<li>Let’s split into a “left” and “right” file.</li>
<li>We needn’t necessarily get the labels right, but these are simply NumPy operations.</li>
<li>Then listen!</li>
</ul>
</section>
<section id="transpose" class="level2">
<h2 class="anchored" data-anchor-id="transpose">Transpose</h2>
<ul>
<li>Remember <code>.transpose</code>?</li>
<li>It will take an array of pairs and make a pair of arrays.</li>
</ul>
<div id="f369643f" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1"></a>tpose <span class="op">=</span> data.transpose()</span>
<span id="cb26-2"><a href="#cb26-2"></a>tpose[<span class="dv">0</span>][:rate<span class="op">*</span><span class="dv">10</span>:rate]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="757">
<pre><code>array([     0,      0,      0,      0,     -2, -13903,  12440,   6053,
         5888,     53], dtype=int16)</code></pre>
</div>
</div>
</section>
<section id="split" class="level2">
<h2 class="anchored" data-anchor-id="split">Split</h2>
<ul>
<li>I will arbitrarily call one “left” and one “rite” (not “right” because we don’t know if we’re right).</li>
</ul>
<div id="dac85342" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1"></a>left <span class="op">=</span> tpose[<span class="dv">0</span>]</span>
<span id="cb28-2"><a href="#cb28-2"></a>rite <span class="op">=</span> tpose[<span class="dv">1</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="zeros" class="level2">
<h2 class="anchored" data-anchor-id="zeros">Zeros</h2>
<ul>
<li>We’ll also make a zero-only array of the same length.</li>
</ul>
<div id="5ce522d6" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1"></a><span class="co"># We note the "dtype" was "int16" so we do the same.</span></span>
<span id="cb29-2"><a href="#cb29-2"></a><span class="co"># We do have to be clear it's NumPy int16 though!</span></span>
<span id="cb29-3"><a href="#cb29-3"></a>zero <span class="op">=</span> np.zeros(<span class="bu">len</span>(left),dtype<span class="op">=</span>np.int16)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="combine" class="level2">
<h2 class="anchored" data-anchor-id="combine">Combine</h2>
<ul>
<li>We can make left-only and rite-only arrays via:
<ul>
<li>Combine</li>
<li>Transpose</li>
</ul></li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div id="7869ed17" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1"></a>left_only <span class="op">=</span> np.array([left,zero]).transpose()</span>
<span id="cb30-2"><a href="#cb30-2"></a>left_only[:rate<span class="op">*</span><span class="dv">10</span>:rate]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="760">
<pre><code>array([[     0,      0],
       [     0,      0],
       [     0,      0],
       [     0,      0],
       [    -2,      0],
       [-13903,      0],
       [ 12440,      0],
       [  6053,      0],
       [  5888,      0],
       [    53,      0]], dtype=int16)</code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<div id="21b87970" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1"></a>rite_only <span class="op">=</span> np.array([zero,rite]).transpose()</span>
<span id="cb32-2"><a href="#cb32-2"></a>rite_only[:rate<span class="op">*</span><span class="dv">10</span>:rate]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="761">
<pre><code>array([[     0,      0],
       [     0,      0],
       [     0,      0],
       [     0,      0],
       [     0,      3],
       [     0, -13896],
       [     0,  12442],
       [     0,   6051],
       [     0,   5888],
       [     0,     52]], dtype=int16)</code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="save" class="level2">
<h2 class="anchored" data-anchor-id="save">Save</h2>
<ul>
<li>Let’s write/save both then give ’um a listen.</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<div id="4d858d5c" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1"></a>scipy.io.wavfile.write(<span class="st">"left.wav"</span>, rate, left_only)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div><div class="column" style="width:50%;">
<div id="8330169a" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1"></a>scipy.io.wavfile.write(<span class="st">"rite.wav"</span>, rate, rite_only)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
</section>
<section id="listen" class="level2">
<h2 class="anchored" data-anchor-id="listen">Listen</h2>
<ul>
<li>Let’s write/save both then give ’um a listen.</li>
</ul>
<div class="columns">
<div class="column" style="width:50%;">
<audio controls="" src="src/left.wav" type="audio/wav">
</audio>
</div><div class="column" style="width:50%;">
<audio controls="" src="src/rite.wav" type="audio/wav">
</audio>
</div>
</div>
</section>
</section>
<section id="noise" class="level1">
<h1>Noise</h1>
<section id="noise-reduction" class="level2">
<h2 class="anchored" data-anchor-id="noise-reduction">Noise Reduction</h2>
<ul>
<li>In a way, all sound is noise.</li>
<li>Let’s try and isolate the vocals and music, regarding the other variously as noise at various points.</li>
<li>First identify where vocals come in.</li>
<li>To me, 0:04 to 0:09 seems instrumental.</li>
</ul>
</section>
<section id="view-it" class="level2">
<h2 class="anchored" data-anchor-id="view-it">View it</h2>
<ul>
<li>Look for patterns</li>
</ul>
<div id="94e13596" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1"></a>snip <span class="op">=</span> left[<span class="dv">4</span><span class="op">*</span>rate:<span class="dv">10</span><span class="op">*</span>rate]</span>
<span id="cb36-2"><a href="#cb36-2"></a>plt.plot(snip)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="07_scipy_files/figure-revealjs/cell-21-output-1.png" width="846" height="411" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="repeats" class="level2">
<h2 class="anchored" data-anchor-id="repeats">Repeats?</h2>
<ul>
<li>Looks like volume cuts low on a repeated pattern.</li>
<li>Maybe we can isolate that pattern.</li>
<li>Let’s:
<ul>
<li>Pick a range</li>
<li>Find a minimal value</li>
<li>Find where that value occurs.</li>
</ul></li>
</ul>
<div id="450d240c" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1"></a>low_val <span class="op">=</span> <span class="bu">min</span>(snip)</span>
<span id="cb37-2"><a href="#cb37-2"></a>low_val</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="765">
<pre><code>np.int16(-32071)</code></pre>
</div>
</div>
</section>
<section id="whoops" class="level2">
<h2 class="anchored" data-anchor-id="whoops">Whoops!</h2>
<ul>
<li>Oh we need to use absolute value.</li>
<li>No worries!</li>
</ul>
<div id="fa589d00" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1"></a>low_val <span class="op">=</span> <span class="bu">min</span>(np.absolute(snip))</span>
<span id="cb39-2"><a href="#cb39-2"></a>low_val</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="766">
<pre><code>np.int16(0)</code></pre>
</div>
</div>
</section>
</section>
<section id="where" class="level1">
<h1>Where?</h1>
<ul>
<li>Use <code>np.where</code> to find where the low values occur.
<ul>
<li>We used with <a href="./06_pandas.html#metallic"><strong>pandas</strong></a></li>
</ul></li>
</ul>
<div id="74c4062c" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1"></a>lows <span class="op">=</span> np.where(snip <span class="op">==</span> <span class="dv">0</span>)</span>
<span id="cb41-2"><a href="#cb41-2"></a>lows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="767">
<pre><code>(array([    13,     14,     18,     20,     31,     39,     44,    126,
           127,    136,    137,    138,    148,    155,    157,    174,
           176,    193,    197,    202,    219,    221,    222,    223,
           231,    232,    262,    268,    317,    383,    405,    430,
         13580,  25648,  26839,  28676,  29655,  64732, 131187, 131204,
        153051, 210217, 216983, 271632, 278282]),)</code></pre>
</div>
</div>
<section id="patterns" class="level2">
<h2 class="anchored" data-anchor-id="patterns">Patterns</h2>
<ul>
<li>Maybe there’s something repeating on a periodicity of like… 65k?</li>
</ul>
<div id="eaf9d9d0" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1"></a><span class="co"># We note that the result was enclosed in () so we get the [0] of it.</span></span>
<span id="cb43-2"><a href="#cb43-2"></a>lows <span class="op">=</span> lows[<span class="dv">0</span>]</span>
<span id="cb43-3"><a href="#cb43-3"></a><span class="co"># Then proceed</span></span>
<span id="cb43-4"><a href="#cb43-4"></a>lows <span class="op">=</span> lows[np.where(lows <span class="op">&gt;</span> <span class="dv">500</span>)]</span>
<span id="cb43-5"><a href="#cb43-5"></a>lows</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="768">
<pre><code>array([ 13580,  25648,  26839,  28676,  29655,  64732, 131187, 131204,
       153051, 210217, 216983, 271632, 278282])</code></pre>
</div>
</div>
</section>
<section id="visualize" class="level2">
<h2 class="anchored" data-anchor-id="visualize">Visualize</h2>
<ul>
<li>Let’s just plot the place the minimum occurs.</li>
</ul>
<div id="fd285e79" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1"></a>_ <span class="op">=</span> plt.hist(lows)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="07_scipy_files/figure-revealjs/cell-26-output-1.png" width="781" height="411" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="more-bins" class="level2">
<h2 class="anchored" data-anchor-id="more-bins">More Bins</h2>
<ul>
<li>Hard to see, we increase the “bin” count.</li>
</ul>
<div id="46ffdc6b" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1"></a>_ <span class="op">=</span> plt.hist(lows, <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="07_scipy_files/figure-revealjs/cell-27-output-1.png" width="802" height="411" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="a-pattern" class="level2">
<h2 class="anchored" data-anchor-id="a-pattern">A Pattern?</h2>
<div id="95e48984" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1"></a>_ <span class="op">=</span> plt.hist(np.where(left <span class="op">==</span> <span class="dv">0</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="07_scipy_files/figure-revealjs/cell-28-output-1.png" width="823" height="428" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Only before vocals enter?</li>
</ul>
</section>
<section id="isolate" class="level2">
<h2 class="anchored" data-anchor-id="isolate">Isolate</h2>
<ul>
<li>Let’s see if we can isolate a motif.</li>
<li>We’ll take the first zero past.</li>
<li>I hear about two repeats on this portion, so we’ll take a zero in the middle.</li>
</ul>
<div id="2c71e7b5" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1"></a>np.where(snip <span class="op">==</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="772">
<pre><code>(array([    13,     14,     18,     20,     31,     39,     44,    126,
           127,    136,    137,    138,    148,    155,    157,    174,
           176,    193,    197,    202,    219,    221,    222,    223,
           231,    232,    262,    268,    317,    383,    405,    430,
         13580,  25648,  26839,  28676,  29655,  64732, 131187, 131204,
        153051, 210217, 216983, 271632, 278282]),)</code></pre>
</div>
</div>
</section>
<section id="motif" class="level2">
<h2 class="anchored" data-anchor-id="motif">Motif</h2>
<div id="cad6ab83" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1"></a>stereo <span class="op">=</span> np.array([snip,snip]).transpose()</span>
<span id="cb50-2"><a href="#cb50-2"></a>motif <span class="op">=</span> stereo[<span class="dv">13580</span>:<span class="dv">131204</span>]</span>
<span id="cb50-3"><a href="#cb50-3"></a>scipy.io.wavfile.write(<span class="st">"motif.wav"</span>, rate, motif)</span>
<span id="cb50-4"><a href="#cb50-4"></a><span class="co"># os.system("open motif.wav") # After import, if you have VLC, on MacOS</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<audio controls="" src="src/motif.wav" type="audio/wav">
</audio>
<div id="dd8b1b1e" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1"></a>other <span class="op">=</span> stereo[<span class="dv">13580</span>:<span class="dv">271632</span>]</span>
<span id="cb51-2"><a href="#cb51-2"></a>scipy.io.wavfile.write(<span class="st">"other.wav"</span>, rate, other)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<audio controls="" src="src/motif.wav" type="audio/wav">
</audio>
<div id="09b71100" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1"></a>scipy.io.wavfile.write(<span class="st">"motifs.wav"</span>, rate, np.concat([motif,motif,motif]))</span>
<span id="cb52-2"><a href="#cb52-2"></a>scipy.io.wavfile.write(<span class="st">"others.wav"</span>, rate, np.concat([other,other,other]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<audio controls="" src="src/motifs.wav" type="audio/wav">
</audio>
<audio controls="" src="src/others.wav" type="audio/wav">
</audio>
<ul>
<li>You can go become a dj, or…</li>
</ul>
</section>
<section id="fft" class="level2">
<h2 class="anchored" data-anchor-id="fft">FFT</h2>
<ul>
<li>The actual correct way to do this is with a SciPy FFT:
<ul>
<li><a href="https://docs.scipy.org/doc/scipy/tutorial/fft.html">Fast Fourier Transform</a></li>
</ul></li>
<li>And with a NumPy stride:
<ul>
<li><a href="https://numpy.org/devdocs/reference/generated/numpy.lib.stride_tricks.html">Stride Tricks</a></li>
</ul></li>
<li>Which is probably a bit much for now.</li>
</ul>
</section>
</section>
<section id="stats" class="level1">
<h1>Stats</h1>
<section id="regression" class="level2">
<h2 class="anchored" data-anchor-id="regression">Regression</h2>
<ul>
<li>One of the most used computation techniques is regression.</li>
<li>It is used throughout the sciences, but most commonly in econometrics.</li>
<li>In my my undergraduate economics class, I had a homework assignment to “prove” that raising minimum wage increases unemployment.
<ul>
<li>It doesn’t, but that isn’t relevant here.</li>
</ul></li>
</ul>
</section>
<section id="the-data" class="level2">
<h2 class="anchored" data-anchor-id="the-data">The Data</h2>
<ul>
<li>I usually get economic data from the “St.&nbsp;Louis Fed” which has a data portal called “FRED”.
<ul>
<li>Minimum wage <a href="https://fred.stlouisfed.org/series/FEDMINNFRWG">FEDMINNFRWG</a></li>
<li>Unemployment rage <a href="https://fred.stlouisfed.org/series/UNRATE">UNRATE</a></li>
<li>Inflation <a href="https://fred.stlouisfed.org/series/CPIAUCSL">CPIAUCSL</a></li>
</ul></li>
</ul>
</section>
<section id="curl-1" class="level2">
<h2 class="anchored" data-anchor-id="curl-1">curl</h2>
<ul>
<li>It is actually possible to <code>curl</code> these but you probably have to navigate the websites to find the urls regardless.</li>
<li>I retrieved these manually on MS Windows on 31 May 2025 at 7:33 PM PT.</li>
</ul>
<div class="sourceCode" id="cb53"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> https://github.com/cd-public/scicom/raw/refs/heads/main/qmd/src/FEMINNFRWG.csv <span class="at">-o</span> FEDMINNFRWG.csv</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> https://github.com/cd-public/scicom/raw/refs/heads/main/qmd/src/UNRATE.csv-o UNRATE.csv</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="ex">curl</span> https://github.com/cd-public/scicom/raw/refs/heads/main/qmd/src/CPIAUCSL.csv <span class="at">-o</span> CPIAUCSL.csv</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="within-python" class="level2">
<h2 class="anchored" data-anchor-id="within-python">Within Python</h2>
<ul>
<li>You can of course also get these with out leaving Python.</li>
<li>Given some url with Python
<ul>
<li><code>url = "https://..."</code></li>
</ul></li>
<li>You can of course also:
<ul>
<li><strong>pandas</strong> <code>pd.read_csv(url)</code></li>
<li>“os” <code>os.system("curl " + url + " -o name.csv")</code></li>
</ul></li>
</ul>
</section>
<section id="how-i-did-it" class="level2">
<h2 class="anchored" data-anchor-id="how-i-did-it">How I did it</h2>
<div id="1599b02f" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb54-2"><a href="#cb54-2"></a></span>
<span id="cb54-3"><a href="#cb54-3"></a>minwage <span class="op">=</span> pd.read_csv(<span class="st">"https://github.com/cd-public/scicom/raw/refs/heads/main/qmd/src/FEDMINNFRWG.csv"</span>)</span>
<span id="cb54-4"><a href="#cb54-4"></a>unemploy <span class="op">=</span> pd.read_csv(<span class="st">"https://github.com/cd-public/scicom/raw/refs/heads/main/qmd/src/UNRATE.csv"</span>)</span>
<span id="cb54-5"><a href="#cb54-5"></a>inflate <span class="op">=</span> pd.read_csv(<span class="st">"https://github.com/cd-public/scicom/raw/refs/heads/main/qmd/src/CPIAUCSL.csv"</span>)</span>
<span id="cb54-6"><a href="#cb54-6"></a>inflate</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="776">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">observation_date</th>
<th data-quarto-table-cell-role="th">CPIAUCSL</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1947-01-01</td>
<td>21.480</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1947-02-01</td>
<td>21.620</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1947-03-01</td>
<td>22.000</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>1947-04-01</td>
<td>22.000</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>1947-05-01</td>
<td>21.950</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">935</td>
<td>2024-12-01</td>
<td>317.603</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">936</td>
<td>2025-01-01</td>
<td>319.086</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">937</td>
<td>2025-02-01</td>
<td>319.775</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">938</td>
<td>2025-03-01</td>
<td>319.615</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">939</td>
<td>2025-04-01</td>
<td>320.321</td>
</tr>
</tbody>
</table>

<p>940 rows × 2 columns</p>
</div>
</div>
</div>
</section>
<section id="check-columns" class="level2">
<h2 class="anchored" data-anchor-id="check-columns">Check Columns</h2>
<div id="051aa51f" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1"></a>minwage.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="777">
<pre><code>Index(['observation_date', 'FEDMINNFRWG'], dtype='object')</code></pre>
</div>
</div>
<div id="1a066f6c" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1"></a>unemploy.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="778">
<pre><code>Index(['observation_date', 'UNRATE'], dtype='object')</code></pre>
</div>
</div>
<div id="8550fc95" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1"></a>inflate.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="779">
<pre><code>Index(['observation_date', 'CPIAUCSL'], dtype='object')</code></pre>
</div>
</div>
</section>
<section id="merge" class="level2">
<h2 class="anchored" data-anchor-id="merge">Merge</h2>
<ul>
<li>This is suitable for a merge.</li>
<li>Alternatively, set date as index then join.</li>
</ul>
<div id="b407c44d" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1"></a>df <span class="op">=</span> minwage.merge(unemploy).merge(inflate)</span>
<span id="cb61-2"><a href="#cb61-2"></a>df <span class="op">=</span> df.drop(columns<span class="op">=</span>[<span class="st">"observation_date"</span>])</span>
<span id="cb61-3"><a href="#cb61-3"></a>df[:<span class="dv">3</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="780">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">FEDMINNFRWG</th>
<th data-quarto-table-cell-role="th">UNRATE</th>
<th data-quarto-table-cell-role="th">CPIAUCSL</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0.4</td>
<td>3.4</td>
<td>23.68</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0.4</td>
<td>3.8</td>
<td>23.67</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>0.4</td>
<td>4.0</td>
<td>23.50</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="adjustments" class="level2">
<h2 class="anchored" data-anchor-id="adjustments">Adjustments</h2>
<ul>
<li>Unemployment rate is rate.</li>
<li>Minimum wage is a nominal value (e.g.&nbsp;it’s units are ill-defined).</li>
<li>Inflation is an index of wage units.</li>
<li>We can divide wage by inflation to get a “real wage”.</li>
</ul>
<div id="b97d3181" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1"></a><span class="co"># I made so many types here.</span></span>
<span id="cb62-2"><a href="#cb62-2"></a><span class="co"># In a pinch use df[df.columns[0]]</span></span>
<span id="cb62-3"><a href="#cb62-3"></a>df[<span class="st">"REAL"</span>] <span class="op">=</span> df[<span class="st">"FEDMINNFRWG"</span>] <span class="op">/</span> df[<span class="st">"CPIAUCSL"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="percent-change" class="level2">
<h2 class="anchored" data-anchor-id="percent-change">Percent Change</h2>
<ul>
<li>We measure percent change in real wages.
<ul>
<li>We use <strong>pandas</strong> <code>.pct_change()</code>
<ul>
<li>It’s recommend by SciPy</li>
</ul></li>
<li>We drop the <em>row</em> <code>0</code> which has no percent change.
<ul>
<li>Drop rows by index, vs <code>column=&lt;name&gt;</code></li>
</ul></li>
<li>We drop an undefined (“NaN”) values</li>
</ul></li>
</ul>
<div id="71ad67c6" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1"></a>df[<span class="st">"REALPCT"</span>] <span class="op">=</span> df[<span class="st">"REAL"</span>].pct_change()</span>
<span id="cb63-2"><a href="#cb63-2"></a>df.drop(<span class="dv">0</span>)</span>
<span id="cb63-3"><a href="#cb63-3"></a>df <span class="op">=</span> df.dropna()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="unemployment" class="level2">
<h2 class="anchored" data-anchor-id="unemployment">Unemployment</h2>
<ul>
<li>Oh we should probably take a percentage change in unemployment as well.</li>
</ul>
<div id="e6bf27c3" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1"></a>df[<span class="st">"UNRATE"</span>] <span class="op">=</span> df[<span class="st">"UNRATE"</span>].pct_change()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="look-at-it" class="level2">
<h2 class="anchored" data-anchor-id="look-at-it">Look at it</h2>
<div id="8a8b4d1d" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1"></a>plt.xlabel(<span class="st">"REALPCT"</span>)</span>
<span id="cb65-2"><a href="#cb65-2"></a>plt.ylabel(<span class="st">"UNRATE"</span>)</span>
<span id="cb65-3"><a href="#cb65-3"></a>_ <span class="op">=</span> plt.scatter(df[<span class="st">"REALPCT"</span>],df[<span class="st">"UNRATE"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="07_scipy_files/figure-revealjs/cell-41-output-1.png" width="812" height="429" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="linear-regression" class="level2">
<h2 class="anchored" data-anchor-id="linear-regression">Linear Regression</h2>
<ul>
<li>The standard measure of statistical significance.</li>
<li>We are assuming linearity, but it is already a comparison between rates.</li>
<li>For more, study statistics!</li>
</ul>
<div id="d88ac0b5" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1"></a><span class="im">from</span> scipy <span class="im">import</span> stats</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="linregress" class="level2">
<h2 class="anchored" data-anchor-id="linregress"><code>linregress</code></h2>
<div id="c9dbca00" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1"></a>res <span class="op">=</span> stats.linregress(df[<span class="st">"REALPCT"</span>],df[<span class="st">"UNRATE"</span>])</span>
<span id="cb67-2"><a href="#cb67-2"></a><span class="bu">print</span>(res)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>LinregressResult(slope=np.float64(nan), intercept=np.float64(nan), rvalue=np.float64(nan), pvalue=np.float64(nan), stderr=np.float64(nan), intercept_stderr=np.float64(nan))</code></pre>
</div>
</div>
</section>
<div class="hidden">
<section id="credit" class="level2">
<h2 class="anchored" data-anchor-id="credit">Credit</h2>
<ul>
<li>The remainder is adapted from the <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.linregress.html#scipy.stats.linregress"><code>scipy.stats.linregress</code> example</a>.</li>
</ul>
</section>
<section id="view" class="level2">
<h2 class="anchored" data-anchor-id="view">View</h2>
<div id="1e9e6adc" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1"></a>plt.scatter(df[<span class="st">"REALPCT"</span>],df[<span class="st">"UNRATE"</span>])</span>
<span id="cb69-2"><a href="#cb69-2"></a>x <span class="op">=</span> np.linspace(df[<span class="st">"REALPCT"</span>].<span class="bu">min</span>(), df[<span class="st">"REALPCT"</span>].<span class="bu">max</span>())</span>
<span id="cb69-3"><a href="#cb69-3"></a>_ <span class="op">=</span> plt.plot(x, res.intercept <span class="op">+</span> res.slope<span class="op">*</span>x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="07_scipy_files/figure-revealjs/cell-44-output-1.png" width="794" height="411" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="confidence-interval" class="level2">
<h2 class="anchored" data-anchor-id="confidence-interval">Confidence Interval</h2>
<ul>
<li>“Two-sided inverse Students t-distribution”</li>
</ul>
<div id="6e124065" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1"></a><span class="co"># p - probability, df - degrees of freedom</span></span>
<span id="cb70-2"><a href="#cb70-2"></a><span class="kw">def</span> tinv(p, df): </span>
<span id="cb70-3"><a href="#cb70-3"></a>    <span class="cf">return</span> <span class="bu">abs</span>(stats.t.ppf(p<span class="op">/</span><span class="dv">2</span>, df))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
<div id="cf20f7fa" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1"></a>ts <span class="op">=</span> tinv(<span class="fl">0.05</span>, <span class="bu">len</span>(x)<span class="op">-</span><span class="dv">2</span>)</span>
<span id="cb71-2"><a href="#cb71-2"></a><span class="bu">print</span>(<span class="ss">f"slope (95%): </span><span class="sc">{</span>res<span class="sc">.</span>slope<span class="sc">:.6f}</span><span class="ss"> +/- </span><span class="sc">{</span>ts<span class="op">*</span>res<span class="sc">.</span>stderr<span class="sc">:.6f}</span><span class="ss">"</span>)</span>
<span id="cb71-3"><a href="#cb71-3"></a><span class="bu">print</span>(<span class="ss">f"intercept (95%): </span><span class="sc">{</span>res<span class="sc">.</span>intercept<span class="sc">:.6f}</span><span class="ss">"</span></span>
<span id="cb71-4"><a href="#cb71-4"></a>      <span class="ss">f" +/- </span><span class="sc">{</span>ts<span class="op">*</span>res<span class="sc">.</span>intercept_stderr<span class="sc">:.6f}</span><span class="ss">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>slope (95%): nan +/- nan
intercept (95%): nan +/- nan</code></pre>
</div>
</div>
</section>
</div>
<section id="tada" class="level2">
<h2 class="anchored" data-anchor-id="tada">Tada!</h2>
<ul>
<li>Raising minimum wage doesn’t predictable impact unemployment.</li>
</ul>
</section>
</section>
<section id="exercise" class="level1">
<h1>Exercise</h1>
<section id="technetium" class="level2">
<h2 class="anchored" data-anchor-id="technetium">Technetium</h2>
<ul>
<li>We recall the periodic table data</li>
</ul>
<div id="b2cbd148" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"https://gist.githubusercontent.com/GoodmanSciences/c2dd862cd38f21b0ad36b8f96b4bf1ee/raw/1d92663004489a5b6926e944c1b3d9ec5c40900e/Periodic%2520Table</span><span class="sc">%2520o</span><span class="st">f</span><span class="sc">%2520E</span><span class="st">lements.csv"</span>)</span>
<span id="cb73-2"><a href="#cb73-2"></a>df[::<span class="dv">30</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="790">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">AtomicNumber</th>
<th data-quarto-table-cell-role="th">Element</th>
<th data-quarto-table-cell-role="th">Symbol</th>
<th data-quarto-table-cell-role="th">AtomicMass</th>
<th data-quarto-table-cell-role="th">NumberofNeutrons</th>
<th data-quarto-table-cell-role="th">NumberofProtons</th>
<th data-quarto-table-cell-role="th">NumberofElectrons</th>
<th data-quarto-table-cell-role="th">Period</th>
<th data-quarto-table-cell-role="th">Group</th>
<th data-quarto-table-cell-role="th">Phase</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">FirstIonization</th>
<th data-quarto-table-cell-role="th">Density</th>
<th data-quarto-table-cell-role="th">MeltingPoint</th>
<th data-quarto-table-cell-role="th">BoilingPoint</th>
<th data-quarto-table-cell-role="th">NumberOfIsotopes</th>
<th data-quarto-table-cell-role="th">Discoverer</th>
<th data-quarto-table-cell-role="th">Year</th>
<th data-quarto-table-cell-role="th">SpecificHeat</th>
<th data-quarto-table-cell-role="th">NumberofShells</th>
<th data-quarto-table-cell-role="th">NumberofValence</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1</td>
<td>Hydrogen</td>
<td>H</td>
<td>1.007</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1.0</td>
<td>gas</td>
<td>...</td>
<td>13.5984</td>
<td>0.00009</td>
<td>14.175</td>
<td>20.28</td>
<td>3.0</td>
<td>Cavendish</td>
<td>1766.0</td>
<td>14.304</td>
<td>1</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">30</td>
<td>31</td>
<td>Gallium</td>
<td>Ga</td>
<td>69.723</td>
<td>39</td>
<td>31</td>
<td>31</td>
<td>4</td>
<td>13.0</td>
<td>solid</td>
<td>...</td>
<td>5.9993</td>
<td>5.91000</td>
<td>302.910</td>
<td>2477.00</td>
<td>14.0</td>
<td>de Boisbaudran</td>
<td>1875.0</td>
<td>0.371</td>
<td>4</td>
<td>3.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">60</td>
<td>61</td>
<td>Promethium</td>
<td>Pm</td>
<td>145.000</td>
<td>84</td>
<td>61</td>
<td>61</td>
<td>6</td>
<td>NaN</td>
<td>artificial</td>
<td>...</td>
<td>5.5820</td>
<td>7.26000</td>
<td>1204.150</td>
<td>3273.00</td>
<td>14.0</td>
<td>Marinsky et al.</td>
<td>1945.0</td>
<td>NaN</td>
<td>6</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">90</td>
<td>91</td>
<td>Protactinium</td>
<td>Pa</td>
<td>231.036</td>
<td>140</td>
<td>91</td>
<td>91</td>
<td>7</td>
<td>NaN</td>
<td>solid</td>
<td>...</td>
<td>5.8900</td>
<td>15.40000</td>
<td>1873.150</td>
<td>4300.00</td>
<td>14.0</td>
<td>Hahn and Meitner</td>
<td>1917.0</td>
<td>NaN</td>
<td>7</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>4 rows × 28 columns</p>
</div>
</div>
</div>
</section>
<section id="interpolation" class="level2">
<h2 class="anchored" data-anchor-id="interpolation">Interpolation</h2>
<ul>
<li>When first setting out the table, a number of elements had not yet been “observed”
<ul>
<li>That is, no one determined their chemical properties while away they were an element.</li>
</ul></li>
<li>Some <em>certainly</em> were never observed, namely technetium (Tc, 43) which does not exist in nature.</li>
<li>However, the layout of the table allowed scientists to predict properties of technetium</li>
</ul>
</section>
<section id="extract" class="level2">
<h2 class="anchored" data-anchor-id="extract">Extract</h2>
<ul>
<li>We will:
<ul>
<li>Set aside technetium in a variable to check our predictions against.</li>
<li>Remove the “transuranic” elements which were also not yet observed.</li>
</ul></li>
</ul>
<div id="0c2a94bb" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1"></a>df <span class="op">=</span> df.iloc[:<span class="dv">91</span>]</span>
<span id="cb74-2"><a href="#cb74-2"></a>Tc <span class="op">=</span> df.iloc[<span class="dv">42</span>]</span>
<span id="cb74-3"><a href="#cb74-3"></a>df <span class="op">=</span> df.drop(<span class="dv">42</span>)</span>
<span id="cb74-4"><a href="#cb74-4"></a>Tc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="791">
<pre><code>AtomicNumber                        43
Element                     Technetium
Symbol                              Tc
AtomicMass                        98.0
NumberofNeutrons                    55
NumberofProtons                     43
NumberofElectrons                   43
Period                               5
Group                              7.0
Phase                       artificial
Radioactive                        yes
Natural                            NaN
Metal                              yes
Nonmetal                           NaN
Metalloid                          NaN
Type                  Transition Metal
AtomicRadius                       2.0
Electronegativity                  1.9
FirstIonization                   7.28
Density                           11.5
MeltingPoint                   2473.15
BoilingPoint                    5150.0
NumberOfIsotopes                  23.0
Discoverer           Perrier and Segr�
Year                            1937.0
SpecificHeat                       NaN
NumberofShells                       5
NumberofValence                    NaN
Name: 42, dtype: object</code></pre>
</div>
</div>
</section>
<section id="import" class="level2">
<h2 class="anchored" data-anchor-id="import">Import</h2>
<ul>
<li>To save some typing, we’ll import it directly.</li>
</ul>
<div id="ec6be780" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1"></a><span class="im">from</span> scipy.interpolate <span class="im">import</span> LinearNDInterpolator</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-1" class="level2">
<h2 class="anchored" data-anchor-id="data-1">Data</h2>
<ul>
<li>We recall electronegativity.</li>
</ul>
<div id="95b5ea64" class="cell" data-execution_count="50">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1"></a><span class="co"># Plot</span></span>
<span id="cb77-2"><a href="#cb77-2"></a>plt.scatter(</span>
<span id="cb77-3"><a href="#cb77-3"></a>    x<span class="op">=</span>df[<span class="st">"Group"</span>],</span>
<span id="cb77-4"><a href="#cb77-4"></a>    y<span class="op">=</span>df[<span class="st">"Period"</span>],</span>
<span id="cb77-5"><a href="#cb77-5"></a>    c<span class="op">=</span>df[<span class="st">"Electronegativity"</span>]</span>
<span id="cb77-6"><a href="#cb77-6"></a>)</span>
<span id="cb77-7"><a href="#cb77-7"></a>plt.gca().invert_yaxis()</span>
<span id="cb77-8"><a href="#cb77-8"></a><span class="co"># Label</span></span>
<span id="cb77-9"><a href="#cb77-9"></a>plt.title(<span class="st">"Electronegativity"</span>)</span>
<span id="cb77-10"><a href="#cb77-10"></a>plt.xlabel(<span class="st">"Group"</span>)</span>
<span id="cb77-11"><a href="#cb77-11"></a>plt.ylabel(<span class="st">"Period"</span>)</span>
<span id="cb77-12"><a href="#cb77-12"></a>_ <span class="op">=</span> plt.colorbar()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="07_scipy_files/figure-revealjs/cell-50-output-1.png" width="737" height="449" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="reference" class="level2">
<h2 class="anchored" data-anchor-id="reference">Reference</h2>
<ul>
<li>The documentation we’re following is <a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.LinearNDInterpolator.html">here</a></li>
</ul>
<div id="864e12ba" class="cell" data-execution_count="51">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1"></a><span class="im">from</span> scipy.interpolate <span class="im">import</span> LinearNDInterpolator</span>
<span id="cb78-2"><a href="#cb78-2"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb78-3"><a href="#cb78-3"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb78-4"><a href="#cb78-4"></a>rng <span class="op">=</span> np.random.default_rng()</span>
<span id="cb78-5"><a href="#cb78-5"></a>x <span class="op">=</span> rng.random(<span class="dv">10</span>) <span class="op">-</span> <span class="fl">0.5</span></span>
<span id="cb78-6"><a href="#cb78-6"></a>y <span class="op">=</span> rng.random(<span class="dv">10</span>) <span class="op">-</span> <span class="fl">0.5</span></span>
<span id="cb78-7"><a href="#cb78-7"></a>z <span class="op">=</span> np.hypot(x, y)</span>
<span id="cb78-8"><a href="#cb78-8"></a>X <span class="op">=</span> np.linspace(<span class="bu">min</span>(x), <span class="bu">max</span>(x))</span>
<span id="cb78-9"><a href="#cb78-9"></a>Y <span class="op">=</span> np.linspace(<span class="bu">min</span>(y), <span class="bu">max</span>(y))</span>
<span id="cb78-10"><a href="#cb78-10"></a>X, Y <span class="op">=</span> np.meshgrid(X, Y)  <span class="co"># 2D grid for interpolation</span></span>
<span id="cb78-11"><a href="#cb78-11"></a>interp <span class="op">=</span> LinearNDInterpolator(<span class="bu">list</span>(<span class="bu">zip</span>(x, y)), z)</span>
<span id="cb78-12"><a href="#cb78-12"></a>Z <span class="op">=</span> interp(X, Y)</span>
<span id="cb78-13"><a href="#cb78-13"></a>plt.pcolormesh(X, Y, Z, shading<span class="op">=</span><span class="st">'auto'</span>)</span>
<span id="cb78-14"><a href="#cb78-14"></a>plt.plot(x, y, <span class="st">"ok"</span>, label<span class="op">=</span><span class="st">"input point"</span>)</span>
<span id="cb78-15"><a href="#cb78-15"></a>plt.legend()</span>
<span id="cb78-16"><a href="#cb78-16"></a>plt.colorbar()</span>
<span id="cb78-17"><a href="#cb78-17"></a>plt.axis(<span class="st">"equal"</span>)</span>
<span id="cb78-18"><a href="#cb78-18"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="07_scipy_files/figure-revealjs/cell-51-output-1.png" width="751" height="411" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="working-df" class="level2">
<h2 class="anchored" data-anchor-id="working-df">Working df</h2>
<ul>
<li>We need a <code>df</code> to work with.</li>
<li>We need only Group, Period, Electronegativity</li>
<li>We <em>must not</em> have any invalid entries.</li>
<li>We modify <code>df</code> to have only these 3 values, then <code>.dropna()</code></li>
</ul>
<div id="d119960a" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1"></a>df <span class="op">=</span> df[[<span class="st">"Group"</span>, <span class="st">"Period"</span>, <span class="st">"Electronegativity"</span>]]</span>
<span id="cb79-2"><a href="#cb79-2"></a>df <span class="op">=</span> df.dropna()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="x" class="level2">
<h2 class="anchored" data-anchor-id="x">X</h2>
<ul>
<li>We will:
<ul>
<li>Determine the input x values.</li>
<li>We call this <code>X</code> (capitalized) to denote it is a vector or array.</li>
</ul></li>
<li>We used “Group” for x.</li>
</ul>
<div id="43466bc0" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1"></a>X <span class="op">=</span> df[<span class="st">"Group"</span>]</span>
<span id="cb80-2"><a href="#cb80-2"></a>X[::<span class="dv">20</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="796">
<pre><code>0      1.0
23     6.0
45    10.0
80    13.0
Name: Group, dtype: float64</code></pre>
</div>
</div>
</section>
<section id="y" class="level2">
<h2 class="anchored" data-anchor-id="y">Y</h2>
<ul>
<li>We will:
<ul>
<li>Determine the input x values.</li>
<li>We call this <code>Y</code> (capitalized) to denote it is a vector or array.</li>
</ul></li>
<li>We used “Period” for y.</li>
</ul>
<div id="cd4503ec" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1"></a>Y <span class="op">=</span> df[<span class="st">"Period"</span>]</span>
<span id="cb82-2"><a href="#cb82-2"></a>Y[::<span class="dv">20</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="797">
<pre><code>0     1
23    4
45    5
80    6
Name: Period, dtype: int64</code></pre>
</div>
</div>
</section>
<section id="d" class="level2">
<h2 class="anchored" data-anchor-id="d">2D</h2>
<ul>
<li>We will:
<ul>
<li>Create the 2D space given <code>X</code> and <code>Y</code></li>
<li>This is a “column stack”</li>
</ul></li>
</ul>
<div id="773172b5" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb84-1"><a href="#cb84-1"></a>arr2d <span class="op">=</span> np.column_stack((X,Y))</span>
<span id="cb84-2"><a href="#cb84-2"></a>arr2d[::<span class="dv">20</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="798">
<pre><code>array([[ 1.,  1.],
       [ 6.,  4.],
       [10.,  5.],
       [13.,  6.]])</code></pre>
</div>
</div>
</section>
<section id="z" class="level2">
<h2 class="anchored" data-anchor-id="z">Z</h2>
<ul>
<li>We will:
<ul>
<li>Provide known output values as <code>Z</code></li>
</ul></li>
</ul>
<div id="24676db3" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1"></a>Z <span class="op">=</span> df[<span class="st">"Electronegativity"</span>]</span>
<span id="cb86-2"><a href="#cb86-2"></a>Z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="799">
<pre><code>0     2.20
2     0.98
3     1.57
4     2.04
5     2.55
      ... 
83    2.00
84    2.20
86    0.70
87    0.90
88    1.10
Name: Electronegativity, Length: 68, dtype: float64</code></pre>
</div>
</div>
</section>
<section id="scipy" class="level2">
<h2 class="anchored" data-anchor-id="scipy">SciPy</h2>
<ul>
<li>Back to SciPy!
<ul>
<li>Use <code>LinearNDInterpolar</code></li>
</ul></li>
<li>It basically makes a function that theoretically described electronegativity.</li>
</ul>
</section>
<section id="stop-1" class="level2">
<h2 class="anchored" data-anchor-id="stop-1">Stop!</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<ul>
<li>We are about to, essentially, conduct an experiment!</li>
<li>We should make a hypothesis first, then test it.</li>
<li>First, naively predict Tc’s electronegativity, and write down your guess!</li>
</ul>
</div>
</div>
<ul>
<li>The next slides have my guess, but you should make your own guess first!</li>
</ul>
</section>
<section id="my-guess" class="level2">
<h2 class="anchored" data-anchor-id="my-guess">My Guess</h2>
<ul>
<li>I took the electronegativity of Tc’s neighbors vertically and horizontally.</li>
</ul>
<div id="f889c61f" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1"></a>Tc</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="800">
<pre><code>AtomicNumber                        43
Element                     Technetium
Symbol                              Tc
AtomicMass                        98.0
NumberofNeutrons                    55
NumberofProtons                     43
NumberofElectrons                   43
Period                               5
Group                              7.0
Phase                       artificial
Radioactive                        yes
Natural                            NaN
Metal                              yes
Nonmetal                           NaN
Metalloid                          NaN
Type                  Transition Metal
AtomicRadius                       2.0
Electronegativity                  1.9
FirstIonization                   7.28
Density                           11.5
MeltingPoint                   2473.15
BoilingPoint                    5150.0
NumberOfIsotopes                  23.0
Discoverer           Perrier and Segr�
Year                            1937.0
SpecificHeat                       NaN
NumberofShells                       5
NumberofValence                    NaN
Name: 42, dtype: object</code></pre>
</div>
</div>
</section>
<section id="one-way" class="level2">
<h2 class="anchored" data-anchor-id="one-way">One Way</h2>
<ul>
<li>Tc is group 7 and period 5, so, perhaps…</li>
</ul>
<div id="fc07ee8e" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1"></a><span class="co"># DataFrame "vertical horizontal neighbors"</span></span>
<span id="cb90-2"><a href="#cb90-2"></a>vh <span class="op">=</span> df[df[<span class="st">"Group"</span>] <span class="op">&gt;=</span> <span class="dv">6</span>]</span>
<span id="cb90-3"><a href="#cb90-3"></a>vh <span class="op">=</span> vh[vh[<span class="st">"Group"</span>] <span class="op">&lt;=</span> <span class="dv">8</span>]</span>
<span id="cb90-4"><a href="#cb90-4"></a>vh <span class="op">=</span> vh[vh[<span class="st">"Period"</span>] <span class="op">&gt;=</span> <span class="dv">4</span>]</span>
<span id="cb90-5"><a href="#cb90-5"></a>vh <span class="op">=</span> vh[vh[<span class="st">"Period"</span>] <span class="op">&lt;=</span> <span class="dv">6</span>]</span>
<span id="cb90-6"><a href="#cb90-6"></a>vh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="801">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Group</th>
<th data-quarto-table-cell-role="th">Period</th>
<th data-quarto-table-cell-role="th">Electronegativity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>6.0</td>
<td>4</td>
<td>1.66</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">24</td>
<td>7.0</td>
<td>4</td>
<td>1.55</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25</td>
<td>8.0</td>
<td>4</td>
<td>1.83</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">41</td>
<td>6.0</td>
<td>5</td>
<td>2.16</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43</td>
<td>8.0</td>
<td>5</td>
<td>2.20</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">73</td>
<td>6.0</td>
<td>6</td>
<td>2.36</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">74</td>
<td>7.0</td>
<td>6</td>
<td>1.90</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">75</td>
<td>8.0</td>
<td>6</td>
<td>2.20</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="aside-boolean-index" class="level2">
<h2 class="anchored" data-anchor-id="aside-boolean-index">Aside: Boolean Index</h2>
<ul>
<li>The previous example was not graceful.</li>
<li>We can use <a href="https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html">Boolean Indexing</a></li>
<li>The range detection method used earlier in <code>piecewise.py</code> doesn’t work on arrays unfortunately.</li>
<li>But <code>(array &lt; value) &amp; (array &gt; value)</code> works.</li>
</ul>
</section>
<section id="aside-example" class="level2">
<h2 class="anchored" data-anchor-id="aside-example">Aside: Example</h2>
<div id="dc5288f5" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb91-1"><a href="#cb91-1"></a>vh <span class="op">=</span> df[(df[<span class="st">"Group"</span>] <span class="op">&gt;=</span> <span class="dv">6</span>) <span class="op">&amp;</span> (df[<span class="st">"Group"</span>] <span class="op">&lt;=</span> <span class="dv">8</span>) <span class="op">&amp;</span> (df[<span class="st">"Period"</span>] <span class="op">&gt;=</span> <span class="dv">4</span>) <span class="op">&amp;</span> (df[<span class="st">"Period"</span>] <span class="op">&lt;=</span> <span class="dv">6</span>)]</span>
<span id="cb91-2"><a href="#cb91-2"></a>vh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="802">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Group</th>
<th data-quarto-table-cell-role="th">Period</th>
<th data-quarto-table-cell-role="th">Electronegativity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">23</td>
<td>6.0</td>
<td>4</td>
<td>1.66</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">24</td>
<td>7.0</td>
<td>4</td>
<td>1.55</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25</td>
<td>8.0</td>
<td>4</td>
<td>1.83</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">41</td>
<td>6.0</td>
<td>5</td>
<td>2.16</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43</td>
<td>8.0</td>
<td>5</td>
<td>2.20</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">73</td>
<td>6.0</td>
<td>6</td>
<td>2.36</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">74</td>
<td>7.0</td>
<td>6</td>
<td>1.90</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">75</td>
<td>8.0</td>
<td>6</td>
<td>2.20</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="aside-immediate-neighbor" class="level2">
<h2 class="anchored" data-anchor-id="aside-immediate-neighbor">Aside: Immediate Neighbor</h2>
<ul>
<li>It actually probably makes more sense to take
<ul>
<li>The sum, of</li>
<li>The absolute values, of</li>
<li>The differences, between
<ul>
<li>Tc’s group and period, and</li>
<li>The tested row’s group and period.</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="immediate-example" class="level2">
<h2 class="anchored" data-anchor-id="immediate-example">Immediate Example</h2>
<div id="7899c9ee" class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1"></a>close <span class="op">=</span> df[(<span class="bu">abs</span>(df[<span class="st">"Group"</span>] <span class="op">-</span> <span class="dv">7</span>) <span class="op">+</span> <span class="bu">abs</span>(df[<span class="st">"Period"</span>] <span class="op">-</span> <span class="dv">5</span>)) <span class="op">&lt;</span> <span class="dv">2</span>]</span>
<span id="cb92-2"><a href="#cb92-2"></a>close</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="803">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Group</th>
<th data-quarto-table-cell-role="th">Period</th>
<th data-quarto-table-cell-role="th">Electronegativity</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">24</td>
<td>7.0</td>
<td>4</td>
<td>1.55</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">41</td>
<td>6.0</td>
<td>5</td>
<td>2.16</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">43</td>
<td>8.0</td>
<td>5</td>
<td>2.20</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">74</td>
<td>7.0</td>
<td>6</td>
<td>1.90</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="my-estimate" class="level2">
<h2 class="anchored" data-anchor-id="my-estimate">My Estimate:</h2>
<ul>
<li>After picking what I thought was things near Tc that should cancel out each other’s distance, I calculate their mean.</li>
</ul>
<div id="dc4325ec" class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1"></a>my_pred <span class="op">=</span> close[<span class="st">"Electronegativity"</span>].mean()</span>
<span id="cb93-2"><a href="#cb93-2"></a>my_pred</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="804">
<pre><code>np.float64(1.9525000000000001)</code></pre>
</div>
</div>
<ul>
<li>This is my naive prediction.</li>
<li>Now I interpolate.</li>
</ul>
</section>
<section id="interpolate" class="level2">
<h2 class="anchored" data-anchor-id="interpolate">Interpolate</h2>
<ul>
<li><code>LinearNDInterpolator</code> takes an array of known inputs and an array of known outputs and returns a function that it thinks describes the relationship.</li>
<li>“Thinks” being a vague term here to convey a sense of learning or prediction or estimation.</li>
</ul>
<div id="2ed76e11" class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb95-1"><a href="#cb95-1"></a>f <span class="op">=</span> LinearNDInterpolator(arr2d, Z)</span>
<span id="cb95-2"><a href="#cb95-2"></a>scipy_pred <span class="op">=</span> f(<span class="dv">7</span>,<span class="dv">5</span>)</span>
<span id="cb95-3"><a href="#cb95-3"></a>[scipy_pred, my_pred, Tc[<span class="st">"Electronegativity"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="805">
<pre><code>[array(1.725), np.float64(1.9525000000000001), np.float64(1.9)]</code></pre>
</div>
</div>
</section>
<section id="exercise-1" class="level2">
<h2 class="anchored" data-anchor-id="exercise-1">Exercise</h2>
<ul>
<li>Predict using your own methods the density of Tc.</li>
<li>Interpolate using SciPy the density of Tc.</li>
</ul>
</section>
<section id="solution" class="level2">
<h2 class="anchored" data-anchor-id="solution">Solution</h2>
<div id="bd25c551" class="cell" data-execution_count="63">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource python number-lines code-with-copy"><code class="sourceCode python"><span id="cb97-1"><a href="#cb97-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"https://gist.githubusercontent.com/GoodmanSciences/c2dd862cd38f21b0ad36b8f96b4bf1ee/raw/1d92663004489a5b6926e944c1b3d9ec5c40900e/Periodic%2520Table</span><span class="sc">%2520o</span><span class="st">f</span><span class="sc">%2520E</span><span class="st">lements.csv"</span>)</span>
<span id="cb97-2"><a href="#cb97-2"></a>df.drop(<span class="dv">42</span>)</span>
<span id="cb97-3"><a href="#cb97-3"></a>df <span class="op">=</span> df[[<span class="st">"Group"</span>, <span class="st">"Period"</span>, <span class="st">"Density"</span>]]</span>
<span id="cb97-4"><a href="#cb97-4"></a>df <span class="op">=</span> df.dropna()</span>
<span id="cb97-5"><a href="#cb97-5"></a>f <span class="op">=</span> LinearNDInterpolator(np.column_stack((df[<span class="st">"Group"</span>],df[<span class="st">"Period"</span>])), df[<span class="st">"Density"</span>])</span>
<span id="cb97-6"><a href="#cb97-6"></a>me <span class="op">=</span> df[(<span class="bu">abs</span>(df[<span class="st">"Group"</span>] <span class="op">-</span> <span class="dv">7</span>) <span class="op">+</span> <span class="bu">abs</span>(df[<span class="st">"Period"</span>] <span class="op">-</span> <span class="dv">5</span>)) <span class="op">&lt;</span> <span class="dv">2</span>][<span class="st">"Density"</span>].mean()</span>
<span id="cb97-7"><a href="#cb97-7"></a>[f(<span class="dv">7</span>,<span class="dv">5</span>), me, Tc[<span class="st">"Density"</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>


<!-- -->

</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./06_pandas.html" class="pagination-link" aria-label="<strong>pandas</strong>">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><strong>pandas</strong></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./08_sympy.html" class="pagination-link" aria-label="SymPy">
        <span class="nav-page-text">SymPy</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb98" data-shortcodes="false"><pre class="sourceCode numberSource markdown number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb98-1"><a href="#cb98-1"></a><span class="co">---</span></span>
<span id="cb98-2"><a href="#cb98-2"></a><span class="an">title:</span><span class="co"> SciPy</span></span>
<span id="cb98-3"><a href="#cb98-3"></a><span class="co">---</span></span>
<span id="cb98-4"><a href="#cb98-4"></a></span>
<span id="cb98-5"><a href="#cb98-5"></a><span class="fu"># What is SciPy?</span></span>
<span id="cb98-6"><a href="#cb98-6"></a></span>
<span id="cb98-7"><a href="#cb98-7"></a><span class="at">&gt; </span><span class="co">[</span><span class="ot">SciPy (pronounced “Sigh Pie”) is an open-source software for mathematics, science, and engineering.</span><span class="co">](https://docs.scipy.org/doc/scipy/index.html)</span></span>
<span id="cb98-8"><a href="#cb98-8"></a></span>
<span id="cb98-9"><a href="#cb98-9"></a><span class="ss">* </span>**Sci**entific **Py**thon</span>
<span id="cb98-10"><a href="#cb98-10"></a><span class="ss">* </span>Basically a NumPy extension.</span>
<span id="cb98-11"><a href="#cb98-11"></a></span>
<span id="cb98-12"><a href="#cb98-12"></a><span class="fu">## Why SciPy </span></span>
<span id="cb98-13"><a href="#cb98-13"></a></span>
<span id="cb98-14"><a href="#cb98-14"></a><span class="ss">* </span>Most popular scientific computing platform in the world.</span>
<span id="cb98-15"><a href="#cb98-15"></a><span class="ss">* </span>Basis of scikit-learn, the most popular machine learning platform in the world.</span>
<span id="cb98-16"><a href="#cb98-16"></a><span class="ss">* </span>Extremely rigorous - most functions and documentation come with academic citations.</span>
<span id="cb98-17"><a href="#cb98-17"></a></span>
<span id="cb98-18"><a href="#cb98-18"></a><span class="fu">## Why not SciPy</span></span>
<span id="cb98-19"><a href="#cb98-19"></a></span>
<span id="cb98-20"><a href="#cb98-20"></a><span class="ss">- </span>SciPy for statistics has basically one challenger (statsmodels, which is great).</span>
<span id="cb98-21"><a href="#cb98-21"></a><span class="ss">- </span>Sometimes SciPy is too "heavyweight" and NumPy would be sufficient.</span>
<span id="cb98-22"><a href="#cb98-22"></a><span class="ss">- </span>As a rule, I tend to use NumPy for easy things and scikit-learn for hard things, and don't use SciPy for much.</span>
<span id="cb98-23"><a href="#cb98-23"></a></span>
<span id="cb98-24"><a href="#cb98-24"></a><span class="fu">## Relevance</span></span>
<span id="cb98-25"><a href="#cb98-25"></a></span>
<span id="cb98-26"><a href="#cb98-26"></a><span class="ss">- </span>This is a scientific computing course!</span>
<span id="cb98-27"><a href="#cb98-27"></a><span class="ss">- </span>We'll do a bit of signal processing and interpolation.</span>
<span id="cb98-28"><a href="#cb98-28"></a></span>
<span id="cb98-29"><a href="#cb98-29"></a><span class="fu">## Credits</span></span>
<span id="cb98-30"><a href="#cb98-30"></a></span>
<span id="cb98-31"><a href="#cb98-31"></a><span class="ss">- </span>SciPy is a big, complex library with many components.</span>
<span id="cb98-32"><a href="#cb98-32"></a><span class="ss">- </span>I used each of:</span>
<span id="cb98-33"><a href="#cb98-33"></a><span class="ss">    - </span>The <span class="co">[</span><span class="ot">User Guide</span><span class="co">](https://docs.scipy.org/doc/scipy/tutorial/index.html)</span></span>
<span id="cb98-34"><a href="#cb98-34"></a><span class="ss">    - </span>The <span class="co">[</span><span class="ot">API reference</span><span class="co">](https://docs.scipy.org/doc/scipy/reference/index.html)</span></span>
<span id="cb98-35"><a href="#cb98-35"></a><span class="ss">        - </span>API is "application program interface" - a description of the functions in SciPy by their arguments and return values.</span>
<span id="cb98-36"><a href="#cb98-36"></a><span class="ss">    - </span>The <span class="co">[</span><span class="ot">Cookbook</span><span class="co">](https://scipy-cookbook.readthedocs.io/)</span> which may be unofficial.</span>
<span id="cb98-37"><a href="#cb98-37"></a></span>
<span id="cb98-38"><a href="#cb98-38"></a><span class="fu"># Install</span></span>
<span id="cb98-39"><a href="#cb98-39"></a></span>
<span id="cb98-40"><a href="#cb98-40"></a><span class="fu">## pip again</span></span>
<span id="cb98-41"><a href="#cb98-41"></a></span>
<span id="cb98-42"><a href="#cb98-42"></a><span class="ss">- </span>Just like NumPy, Matplotlib is a Python package which we install via <span class="in">`pip`</span></span>
<span id="cb98-43"><a href="#cb98-43"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb98-44"><a href="#cb98-44"></a><span class="in">python3 -m pip install scipy</span></span>
<span id="cb98-45"><a href="#cb98-45"></a><span class="in">```</span></span>
<span id="cb98-46"><a href="#cb98-46"></a><span class="ss">- </span>That might take a moment, when it does we can check it worked!</span>
<span id="cb98-47"><a href="#cb98-47"></a></span>
<span id="cb98-48"><a href="#cb98-48"></a><span class="fu">## Verify</span></span>
<span id="cb98-49"><a href="#cb98-49"></a></span>
<span id="cb98-50"><a href="#cb98-50"></a><span class="ss">- </span>We can quickly verify installation and introduce some conventions.</span>
<span id="cb98-51"><a href="#cb98-51"></a><span class="ss">- </span>Open up Python and import the libraries:</span>
<span id="cb98-52"><a href="#cb98-52"></a></span>
<span id="cb98-55"><a href="#cb98-55"></a><span class="in">```{python}</span></span>
<span id="cb98-56"><a href="#cb98-56"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb98-57"><a href="#cb98-57"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb98-58"><a href="#cb98-58"></a><span class="im">import</span> scipy</span>
<span id="cb98-59"><a href="#cb98-59"></a></span>
<span id="cb98-60"><a href="#cb98-60"></a><span class="bu">print</span>(scipy.__version__)</span>
<span id="cb98-61"><a href="#cb98-61"></a><span class="in">```</span></span>
<span id="cb98-62"><a href="#cb98-62"></a></span>
<span id="cb98-63"><a href="#cb98-63"></a><span class="fu"># Other Installs</span></span>
<span id="cb98-64"><a href="#cb98-64"></a></span>
<span id="cb98-65"><a href="#cb98-65"></a><span class="fu">## Motivation</span></span>
<span id="cb98-66"><a href="#cb98-66"></a></span>
<span id="cb98-67"><a href="#cb98-67"></a><span class="ss">- </span>I thought it would be fun to do some signal processing on a recognizable data set:</span>
<span id="cb98-68"><a href="#cb98-68"></a><span class="ss">- </span><span class="co">[</span><span class="ot">PSY - GANGNAM STYLE(강남스타일) M/V</span><span class="co">](https://www.youtube.com/watch?v=9bZkp7q19f0)</span></span>
<span id="cb98-69"><a href="#cb98-69"></a></span>
<span id="cb98-70"><a href="#cb98-70"></a><span class="fu">## YouTube </span></span>
<span id="cb98-71"><a href="#cb98-71"></a></span>
<span id="cb98-72"><a href="#cb98-72"></a>::: {.callout-tip}</span>
<span id="cb98-73"><a href="#cb98-73"></a><span class="fu">## STOP</span></span>
<span id="cb98-74"><a href="#cb98-74"></a></span>
<span id="cb98-75"><a href="#cb98-75"></a>Instructor's note:  Do not click this link while streaming.</span>
<span id="cb98-76"><a href="#cb98-76"></a>:::</span>
<span id="cb98-77"><a href="#cb98-77"></a></span>
<span id="cb98-78"><a href="#cb98-78"></a>{{&lt; video https://www.youtube.com/watch?v=9bZkp7q19f0 &gt;}}</span>
<span id="cb98-79"><a href="#cb98-79"></a></span>
<span id="cb98-80"><a href="#cb98-80"></a><span class="fu">## Problem Statement</span></span>
<span id="cb98-81"><a href="#cb98-81"></a></span>
<span id="cb98-82"><a href="#cb98-82"></a><span class="ss">- </span>SciPy has the ability to read some filetypes but not others.</span>
<span id="cb98-83"><a href="#cb98-83"></a><span class="ss">    - </span>Can read: ".wav" Waveform Audio File Format.</span>
<span id="cb98-84"><a href="#cb98-84"></a><span class="ss">    - </span>Can't read: YouTube urls</span>
<span id="cb98-85"><a href="#cb98-85"></a><span class="ss">- </span>We use Python package <span class="in">`yt-dlp`</span> to download from YouTube.</span>
<span id="cb98-86"><a href="#cb98-86"></a><span class="ss">- </span>We use non-Python package <span class="in">`ffmpeg`</span> to translate .mp4 files to .wav</span>
<span id="cb98-87"><a href="#cb98-87"></a><span class="ss">- </span>We use VideoLAN VLC Media Player to play the .wav files.</span>
<span id="cb98-88"><a href="#cb98-88"></a></span>
<span id="cb98-89"><a href="#cb98-89"></a><span class="fu">## Note</span></span>
<span id="cb98-90"><a href="#cb98-90"></a></span>
<span id="cb98-91"><a href="#cb98-91"></a><span class="ss">- </span>You do not need to download any of these.</span>
<span id="cb98-92"><a href="#cb98-92"></a><span class="ss">- </span>Here is the .wav:</span>
<span id="cb98-93"><a href="#cb98-93"></a><span class="ss">    - </span>&lt;audio controls src="src/psy.wav" type="audio/wav"&gt;&lt;/audio&gt; </span>
<span id="cb98-94"><a href="#cb98-94"></a><span class="ss">- </span>Here is a link: </span>
<span id="cb98-95"><a href="#cb98-95"></a><span class="ss">    - </span><span class="co">[</span><span class="ot">psy.wav</span><span class="co">](psy.wav)</span></span>
<span id="cb98-96"><a href="#cb98-96"></a></span>
<span id="cb98-97"><a href="#cb98-97"></a><span class="fu">## yt-dlp</span></span>
<span id="cb98-98"><a href="#cb98-98"></a></span>
<span id="cb98-99"><a href="#cb98-99"></a><span class="ss">- </span>While I don't think you need it for anything, I installed <span class="in">`yt-dlp`</span> as follows, from the shell:</span>
<span id="cb98-100"><a href="#cb98-100"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb98-101"><a href="#cb98-101"></a><span class="in">python -m pip install yt-dlp</span></span>
<span id="cb98-102"><a href="#cb98-102"></a><span class="in">```</span></span>
<span id="cb98-103"><a href="#cb98-103"></a></span>
<span id="cb98-104"><a href="#cb98-104"></a><span class="fu">## ffmpeg</span></span>
<span id="cb98-105"><a href="#cb98-105"></a></span>
<span id="cb98-106"><a href="#cb98-106"></a><span class="ss">- </span>I believe this is the best place to download <span class="in">`ffmpeg`</span> for Windows and MacOS.</span>
<span id="cb98-107"><a href="#cb98-107"></a><span class="ss">- </span><span class="co">[</span><span class="ot">https://www.ffmpeg.org/download.html</span><span class="co">](https://www.ffmpeg.org/download.html)</span></span>
<span id="cb98-108"><a href="#cb98-108"></a><span class="ss">- </span>I used it on Ubuntu Linux and did not attempt and Windows or MacOS install.</span>
<span id="cb98-109"><a href="#cb98-109"></a></span>
<span id="cb98-110"><a href="#cb98-110"></a><span class="fu">## Download</span></span>
<span id="cb98-111"><a href="#cb98-111"></a></span>
<span id="cb98-112"><a href="#cb98-112"></a><span class="ss">- </span>Both <span class="in">`yt-dlp`</span> and <span class="in">`ffmpeg`</span> are command line utilites (like Python, Neovim, or <span class="in">`ls`</span>).</span>
<span id="cb98-113"><a href="#cb98-113"></a><span class="ss">- </span>I didn't actually ever use <span class="in">`ffmpeg`</span> directly, it is just used by <span class="in">`yt-dlp`</span>.</span>
<span id="cb98-114"><a href="#cb98-114"></a><span class="ss">- </span>Given the url, I used the following shell command:</span>
<span id="cb98-115"><a href="#cb98-115"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb98-116"><a href="#cb98-116"></a><span class="in">yt-dlp -x --audio-format wav https://www.youtube.com/watch?v=9bZkp7q19f0 -o psy.wav</span></span>
<span id="cb98-117"><a href="#cb98-117"></a><span class="in">```</span></span>
<span id="cb98-118"><a href="#cb98-118"></a><span class="ss">- </span>This tells <span class="in">`yt-dlp`</span> to go to the url, download to video, convert it to a .wav, and save it as "psy.wav"</span>
<span id="cb98-119"><a href="#cb98-119"></a></span>
<span id="cb98-120"><a href="#cb98-120"></a><span class="fu">## VLC</span></span>
<span id="cb98-121"><a href="#cb98-121"></a></span>
<span id="cb98-122"><a href="#cb98-122"></a><span class="ss">- </span>I *highly* recommend having VLC installed.</span>
<span id="cb98-123"><a href="#cb98-123"></a><span class="ss">- </span><span class="co">[</span><span class="ot">https://www.videolan.org/vlc/#download</span><span class="co">](https://www.videolan.org/vlc/#download)</span></span>
<span id="cb98-124"><a href="#cb98-124"></a></span>
<span id="cb98-125"><a href="#cb98-125"></a><span class="fu">## curl</span></span>
<span id="cb98-126"><a href="#cb98-126"></a></span>
<span id="cb98-127"><a href="#cb98-127"></a><span class="ss">- </span>As an alternative, you can <span class="in">`curl`</span> the file from the course webpage.</span>
<span id="cb98-128"><a href="#cb98-128"></a><span class="ss">- </span><span class="in">`curl`</span> is a shell command that downloads a file from a url.</span>
<span id="cb98-129"><a href="#cb98-129"></a><span class="ss">    - </span>Can also be used to get e.g. the ".csv" file we used with **pandas**!</span>
<span id="cb98-130"><a href="#cb98-130"></a><span class="in">```{.bash code-line-number="false"}</span></span>
<span id="cb98-131"><a href="#cb98-131"></a><span class="in">curl https://github.com/cd-public/scicom/raw/refs/heads/main/qmd/src/psy.wav -o psy.wav</span></span>
<span id="cb98-132"><a href="#cb98-132"></a><span class="in">```</span></span>
<span id="cb98-133"><a href="#cb98-133"></a><span class="ss">- </span>This directs the command line to download the file from the url and save it locally as "psy.wav"</span>
<span id="cb98-134"><a href="#cb98-134"></a></span>
<span id="cb98-135"><a href="#cb98-135"></a><span class="fu"># `scipy.io`</span></span>
<span id="cb98-136"><a href="#cb98-136"></a></span>
<span id="cb98-137"><a href="#cb98-137"></a><span class="fu">## wavfile</span></span>
<span id="cb98-138"><a href="#cb98-138"></a></span>
<span id="cb98-139"><a href="#cb98-139"></a><span class="ss">- </span>To load a wavfile into SciPy, it is a simple matter.</span>
<span id="cb98-140"><a href="#cb98-140"></a><span class="ss">- </span>But first, we note one difference:</span>
<span id="cb98-141"><a href="#cb98-141"></a><span class="ss">    - </span>With NumPy, we imported as <span class="in">`np`</span></span>
<span id="cb98-142"><a href="#cb98-142"></a><span class="ss">    - </span>With **pandas**, we import as <span class="in">`pd`</span></span>
<span id="cb98-143"><a href="#cb98-143"></a><span class="ss">- </span>With Matplotlib, we imported Matplotlib "dot" something - pyplot</span>
<span id="cb98-144"><a href="#cb98-144"></a><span class="ss">    - </span>The "Python interface"</span>
<span id="cb98-145"><a href="#cb98-145"></a></span>
<span id="cb98-146"><a href="#cb98-146"></a><span class="fu">## SciPy Modules</span></span>
<span id="cb98-147"><a href="#cb98-147"></a></span>
<span id="cb98-148"><a href="#cb98-148"></a><span class="ss">- </span>SciPy is composed of many *modules*</span>
<span id="cb98-149"><a href="#cb98-149"></a><span class="ss">- </span><span class="in">`matplotlib.pyplot`</span> is a previous example of a module.</span>
<span id="cb98-150"><a href="#cb98-150"></a><span class="ss">- </span>For example:</span>
<span id="cb98-151"><a href="#cb98-151"></a><span class="ss">    - </span><span class="in">`scipy.io`</span> includes ways to read files.</span>
<span id="cb98-152"><a href="#cb98-152"></a><span class="ss">    - </span><span class="in">`scipy.fft`</span> does Fast Fourier Transforms.</span>
<span id="cb98-153"><a href="#cb98-153"></a><span class="ss">    - </span><span class="in">`scipy.stats`</span> does statistics.</span>
<span id="cb98-154"><a href="#cb98-154"></a></span>
<span id="cb98-155"><a href="#cb98-155"></a><span class="fu">## Load "psy.wav"</span></span>
<span id="cb98-156"><a href="#cb98-156"></a></span>
<span id="cb98-157"><a href="#cb98-157"></a><span class="ss">- </span>We will load a sound file as an np.array.</span>
<span id="cb98-160"><a href="#cb98-160"></a><span class="in">```{python}</span></span>
<span id="cb98-161"><a href="#cb98-161"></a>rate, data <span class="op">=</span> scipy.io.wavfile.read(<span class="st">"psy.wav"</span>)</span>
<span id="cb98-162"><a href="#cb98-162"></a><span class="in">```</span></span>
<span id="cb98-163"><a href="#cb98-163"></a><span class="ss">- </span>This may look odd!</span>
<span id="cb98-164"><a href="#cb98-164"></a></span>
<span id="cb98-165"><a href="#cb98-165"></a><span class="fu">## Multiple return</span></span>
<span id="cb98-166"><a href="#cb98-166"></a></span>
<span id="cb98-167"><a href="#cb98-167"></a><span class="ss">- </span>This uses a slightly advanced Python topic of "multiple return".</span>
<span id="cb98-170"><a href="#cb98-170"></a><span class="in">```{python}</span></span>
<span id="cb98-171"><a href="#cb98-171"></a><span class="kw">def</span> roots(x):</span>
<span id="cb98-172"><a href="#cb98-172"></a>    root <span class="op">=</span> np.sqrt(x)</span>
<span id="cb98-173"><a href="#cb98-173"></a>    <span class="cf">return</span> <span class="op">-</span>root, root</span>
<span id="cb98-174"><a href="#cb98-174"></a><span class="in">```</span></span>
<span id="cb98-175"><a href="#cb98-175"></a><span class="ss">- </span>Python can return multiple comma-separated values from a function.</span>
<span id="cb98-178"><a href="#cb98-178"></a><span class="in">```{python}</span></span>
<span id="cb98-179"><a href="#cb98-179"></a>neg, pos <span class="op">=</span> roots(<span class="dv">25</span>)</span>
<span id="cb98-180"><a href="#cb98-180"></a>[neg, pos]</span>
<span id="cb98-181"><a href="#cb98-181"></a><span class="in">```</span></span>
<span id="cb98-182"><a href="#cb98-182"></a><span class="ss">- </span>We can "unpack" the multiple values by providing comma separated variable names.</span>
<span id="cb98-183"><a href="#cb98-183"></a></span>
<span id="cb98-184"><a href="#cb98-184"></a><span class="fu">## Aside: Tuples</span></span>
<span id="cb98-185"><a href="#cb98-185"></a></span>
<span id="cb98-186"><a href="#cb98-186"></a><span class="ss">- </span>These multiple returns are just tuples.</span>
<span id="cb98-187"><a href="#cb98-187"></a><span class="ss">    - </span>The things that are like lists, but not exactly.</span>
<span id="cb98-190"><a href="#cb98-190"></a><span class="in">```{python}</span></span>
<span id="cb98-191"><a href="#cb98-191"></a>both <span class="op">=</span> roots(<span class="dv">64</span>)</span>
<span id="cb98-192"><a href="#cb98-192"></a><span class="bu">type</span>(both)</span>
<span id="cb98-193"><a href="#cb98-193"></a><span class="in">```</span></span>
<span id="cb98-194"><a href="#cb98-194"></a><span class="ss">- </span>We can also use indexing to see individual elements of a tuple.</span>
<span id="cb98-197"><a href="#cb98-197"></a><span class="in">```{python}</span></span>
<span id="cb98-198"><a href="#cb98-198"></a>both[<span class="dv">0</span>]</span>
<span id="cb98-199"><a href="#cb98-199"></a><span class="in">```</span></span>
<span id="cb98-200"><a href="#cb98-200"></a></span>
<span id="cb98-201"><a href="#cb98-201"></a><span class="fu">## vs. Lists</span></span>
<span id="cb98-202"><a href="#cb98-202"></a></span>
<span id="cb98-203"><a href="#cb98-203"></a><span class="ss">- </span>The only difference compared to lists is updates.</span>
<span id="cb98-204"><a href="#cb98-204"></a><span class="ss">- </span>In a list, we can change an element with its index:</span>
<span id="cb98-207"><a href="#cb98-207"></a><span class="in">```{python}</span></span>
<span id="cb98-208"><a href="#cb98-208"></a>color_lst <span class="op">=</span> [<span class="st">"red"</span>, <span class="st">"orange"</span>, <span class="st">"yellow"</span>, <span class="st">"green"</span>, <span class="st">"blue"</span>, <span class="st">"indigo"</span>, <span class="st">"violet"</span>]</span>
<span id="cb98-209"><a href="#cb98-209"></a>color_lst[<span class="op">-</span><span class="dv">1</span>] <span class="op">=</span> <span class="st">"purple"</span></span>
<span id="cb98-210"><a href="#cb98-210"></a>color_lst</span>
<span id="cb98-211"><a href="#cb98-211"></a><span class="in">```</span></span>
<span id="cb98-212"><a href="#cb98-212"></a></span>
<span id="cb98-213"><a href="#cb98-213"></a><span class="fu">## Aside: Errors</span></span>
<span id="cb98-214"><a href="#cb98-214"></a></span>
<span id="cb98-215"><a href="#cb98-215"></a><span class="ss">- </span>Doing this to a list would create an error.</span>
<span id="cb98-216"><a href="#cb98-216"></a><span class="ss">- </span>Thus far we have avoided showing example code that won't work.</span>
<span id="cb98-217"><a href="#cb98-217"></a><span class="ss">- </span>We can use <span class="in">`try`</span> and <span class="in">`except`</span> (like <span class="in">`if`</span> and <span class="in">`else`</span>) on erroneous code.</span>
<span id="cb98-220"><a href="#cb98-220"></a><span class="in">```{python}</span></span>
<span id="cb98-221"><a href="#cb98-221"></a>color_tup <span class="op">=</span> <span class="bu">tuple</span>(color_lst)</span>
<span id="cb98-222"><a href="#cb98-222"></a><span class="cf">try</span>:</span>
<span id="cb98-223"><a href="#cb98-223"></a>    color_tup[<span class="op">-</span><span class="dv">1</span>] <span class="op">=</span> <span class="st">"violet"</span></span>
<span id="cb98-224"><a href="#cb98-224"></a><span class="cf">except</span>:</span>
<span id="cb98-225"><a href="#cb98-225"></a>    <span class="bu">print</span>(<span class="st">"Tuples can't do that."</span>)</span>
<span id="cb98-226"><a href="#cb98-226"></a><span class="in">```</span></span>
<span id="cb98-227"><a href="#cb98-227"></a></span>
<span id="cb98-228"><a href="#cb98-228"></a><span class="fu">## Reading files</span></span>
<span id="cb98-229"><a href="#cb98-229"></a></span>
<span id="cb98-230"><a href="#cb98-230"></a><span class="ss">- </span>Try except is *very* handy when reading files.</span>
<span id="cb98-231"><a href="#cb98-231"></a><span class="ss">- </span>A lot of files I try to read are garbled and can't be read.</span>
<span id="cb98-232"><a href="#cb98-232"></a><span class="ss">- </span>Using <span class="in">`try`</span> and <span class="in">`except`</span> prevents Python errors.</span>
<span id="cb98-233"><a href="#cb98-233"></a><span class="ss">    - </span>More useful in big scripts than single-line things.</span>
<span id="cb98-234"><a href="#cb98-234"></a></span>
<span id="cb98-235"><a href="#cb98-235"></a><span class="fu">## Example</span></span>
<span id="cb98-236"><a href="#cb98-236"></a></span>
<span id="cb98-237"><a href="#cb98-237"></a><span class="ss">- </span>Earlier today, I tried the <span class="in">`curl`</span> command to get "psy.wav" while (unbeknownst to me) my internet was spotty.</span>
<span id="cb98-238"><a href="#cb98-238"></a><span class="ss">- </span>I got a file named "psy.wav" that was of size <span class="in">`0`</span></span>
<span id="cb98-239"><a href="#cb98-239"></a><span class="ss">- </span>Unsurprisingly, opening it with SciPy led to an error.</span>
<span id="cb98-240"><a href="#cb98-240"></a><span class="ss">- </span>This happens all the time!</span>
<span id="cb98-241"><a href="#cb98-241"></a></span>
<span id="cb98-242"><a href="#cb98-242"></a><span class="fu">## Data</span></span>
<span id="cb98-243"><a href="#cb98-243"></a></span>
<span id="cb98-244"><a href="#cb98-244"></a><span class="ss">- </span>Back to our .wav file.</span>
<span id="cb98-245"><a href="#cb98-245"></a><span class="ss">- </span>Let's look at that data!</span>
<span id="cb98-248"><a href="#cb98-248"></a><span class="in">```{python}</span></span>
<span id="cb98-249"><a href="#cb98-249"></a>data[:<span class="dv">10</span>]</span>
<span id="cb98-250"><a href="#cb98-250"></a><span class="in">```</span></span>
<span id="cb98-251"><a href="#cb98-251"></a></span>
<span id="cb98-252"><a href="#cb98-252"></a><span class="fu">## Rate</span></span>
<span id="cb98-253"><a href="#cb98-253"></a></span>
<span id="cb98-256"><a href="#cb98-256"></a><span class="in">```{python}</span></span>
<span id="cb98-257"><a href="#cb98-257"></a>rate</span>
<span id="cb98-258"><a href="#cb98-258"></a><span class="in">```</span></span>
<span id="cb98-259"><a href="#cb98-259"></a></span>
<span id="cb98-260"><a href="#cb98-260"></a><span class="ss">- </span>You may have listened to the file (or not).</span>
<span id="cb98-261"><a href="#cb98-261"></a><span class="ss">- </span>Audio doesn't come in for about 4 seconds.</span>
<span id="cb98-262"><a href="#cb98-262"></a><span class="ss">- </span>The song ends and there's a kind of "outro".</span>
<span id="cb98-263"><a href="#cb98-263"></a><span class="ss">- </span>We can see these on the plot.</span>
<span id="cb98-264"><a href="#cb98-264"></a><span class="ss">- </span>But that examples the zeros.</span>
<span id="cb98-265"><a href="#cb98-265"></a></span>
<span id="cb98-266"><a href="#cb98-266"></a><span class="fu">## Plot</span></span>
<span id="cb98-267"><a href="#cb98-267"></a></span>
<span id="cb98-270"><a href="#cb98-270"></a><span class="in">```{python}</span></span>
<span id="cb98-271"><a href="#cb98-271"></a>plt.plot(data)</span>
<span id="cb98-272"><a href="#cb98-272"></a><span class="in">```</span></span>
<span id="cb98-273"><a href="#cb98-273"></a></span>
<span id="cb98-274"><a href="#cb98-274"></a><span class="fu">## Back to Data</span></span>
<span id="cb98-275"><a href="#cb98-275"></a></span>
<span id="cb98-276"><a href="#cb98-276"></a><span class="ss">- </span>Given the rate, we can look at values ever <span class="in">`rate`</span> amount of time.</span>
<span id="cb98-277"><a href="#cb98-277"></a><span class="ss">- </span>I bet it's seconds, so we'll see 3 or 4 zero-only then some non-zero.</span>
<span id="cb98-280"><a href="#cb98-280"></a><span class="in">```{python}</span></span>
<span id="cb98-281"><a href="#cb98-281"></a>data[:rate<span class="op">*</span><span class="dv">10</span>:rate]</span>
<span id="cb98-282"><a href="#cb98-282"></a><span class="in">```</span></span>
<span id="cb98-283"><a href="#cb98-283"></a></span>
<span id="cb98-284"><a href="#cb98-284"></a><span class="fu">## Why pairs?</span></span>
<span id="cb98-285"><a href="#cb98-285"></a></span>
<span id="cb98-286"><a href="#cb98-286"></a><span class="ss">- </span>Those two values may look initially suspicious, then I remembered.</span>
<span id="cb98-287"><a href="#cb98-287"></a><span class="ss">- </span>Many mammals, including some assistant professors of computer science, have two ears!</span>
<span id="cb98-288"><a href="#cb98-288"></a><span class="ss">- </span>This is a stereo file - the pairs are for each of two speakers.</span>
<span id="cb98-289"><a href="#cb98-289"></a></span>
<span id="cb98-290"><a href="#cb98-290"></a><span class="fu">## Test it</span></span>
<span id="cb98-291"><a href="#cb98-291"></a></span>
<span id="cb98-292"><a href="#cb98-292"></a><span class="ss">- </span>Don't believe me?</span>
<span id="cb98-293"><a href="#cb98-293"></a><span class="ss">- </span>Let's split into a "left" and "right" file.</span>
<span id="cb98-294"><a href="#cb98-294"></a><span class="ss">- </span>We needn't necessarily get the labels right, but these are simply NumPy operations.</span>
<span id="cb98-295"><a href="#cb98-295"></a><span class="ss">- </span>Then listen!</span>
<span id="cb98-296"><a href="#cb98-296"></a></span>
<span id="cb98-297"><a href="#cb98-297"></a><span class="fu">## Transpose</span></span>
<span id="cb98-298"><a href="#cb98-298"></a></span>
<span id="cb98-299"><a href="#cb98-299"></a><span class="ss">- </span>Remember <span class="in">`.transpose`</span>?</span>
<span id="cb98-300"><a href="#cb98-300"></a><span class="ss">- </span>It will take an array of pairs and make a pair of arrays.</span>
<span id="cb98-303"><a href="#cb98-303"></a><span class="in">```{python}</span></span>
<span id="cb98-304"><a href="#cb98-304"></a>tpose <span class="op">=</span> data.transpose()</span>
<span id="cb98-305"><a href="#cb98-305"></a>tpose[<span class="dv">0</span>][:rate<span class="op">*</span><span class="dv">10</span>:rate]</span>
<span id="cb98-306"><a href="#cb98-306"></a><span class="in">```</span></span>
<span id="cb98-307"><a href="#cb98-307"></a></span>
<span id="cb98-308"><a href="#cb98-308"></a><span class="fu">## Split</span></span>
<span id="cb98-309"><a href="#cb98-309"></a></span>
<span id="cb98-310"><a href="#cb98-310"></a><span class="ss">- </span>I will arbitrarily call one "left" and one "rite" (not "right" because we don't know if we're right).</span>
<span id="cb98-313"><a href="#cb98-313"></a><span class="in">```{python}</span></span>
<span id="cb98-314"><a href="#cb98-314"></a>left <span class="op">=</span> tpose[<span class="dv">0</span>]</span>
<span id="cb98-315"><a href="#cb98-315"></a>rite <span class="op">=</span> tpose[<span class="dv">1</span>]</span>
<span id="cb98-316"><a href="#cb98-316"></a><span class="in">```</span></span>
<span id="cb98-317"><a href="#cb98-317"></a></span>
<span id="cb98-318"><a href="#cb98-318"></a><span class="fu">## Zeros</span></span>
<span id="cb98-319"><a href="#cb98-319"></a></span>
<span id="cb98-320"><a href="#cb98-320"></a><span class="ss">- </span>We'll also make a zero-only array of the same length.</span>
<span id="cb98-323"><a href="#cb98-323"></a><span class="in">```{python}</span></span>
<span id="cb98-324"><a href="#cb98-324"></a><span class="co"># We note the "dtype" was "int16" so we do the same.</span></span>
<span id="cb98-325"><a href="#cb98-325"></a><span class="co"># We do have to be clear it's NumPy int16 though!</span></span>
<span id="cb98-326"><a href="#cb98-326"></a>zero <span class="op">=</span> np.zeros(<span class="bu">len</span>(left),dtype<span class="op">=</span>np.int16)</span>
<span id="cb98-327"><a href="#cb98-327"></a><span class="in">```</span></span>
<span id="cb98-328"><a href="#cb98-328"></a></span>
<span id="cb98-329"><a href="#cb98-329"></a><span class="fu">## Combine</span></span>
<span id="cb98-330"><a href="#cb98-330"></a></span>
<span id="cb98-331"><a href="#cb98-331"></a><span class="ss">- </span>We can make left-only and rite-only arrays via:</span>
<span id="cb98-332"><a href="#cb98-332"></a><span class="ss">  - </span>Combine</span>
<span id="cb98-333"><a href="#cb98-333"></a><span class="ss">  - </span>Transpose</span>
<span id="cb98-334"><a href="#cb98-334"></a></span>
<span id="cb98-335"><a href="#cb98-335"></a>:::: {.columns}</span>
<span id="cb98-336"><a href="#cb98-336"></a></span>
<span id="cb98-337"><a href="#cb98-337"></a>::: {.column width="50%"}</span>
<span id="cb98-338"><a href="#cb98-338"></a></span>
<span id="cb98-339"><a href="#cb98-339"></a></span>
<span id="cb98-342"><a href="#cb98-342"></a><span class="in">```{python}</span></span>
<span id="cb98-343"><a href="#cb98-343"></a>left_only <span class="op">=</span> np.array([left,zero]).transpose()</span>
<span id="cb98-344"><a href="#cb98-344"></a>left_only[:rate<span class="op">*</span><span class="dv">10</span>:rate]</span>
<span id="cb98-345"><a href="#cb98-345"></a><span class="in">```</span></span>
<span id="cb98-346"><a href="#cb98-346"></a></span>
<span id="cb98-347"><a href="#cb98-347"></a></span>
<span id="cb98-348"><a href="#cb98-348"></a>:::</span>
<span id="cb98-349"><a href="#cb98-349"></a></span>
<span id="cb98-350"><a href="#cb98-350"></a>::: {.column width="50%"}</span>
<span id="cb98-351"><a href="#cb98-351"></a></span>
<span id="cb98-354"><a href="#cb98-354"></a><span class="in">```{python}</span></span>
<span id="cb98-355"><a href="#cb98-355"></a>rite_only <span class="op">=</span> np.array([zero,rite]).transpose()</span>
<span id="cb98-356"><a href="#cb98-356"></a>rite_only[:rate<span class="op">*</span><span class="dv">10</span>:rate]</span>
<span id="cb98-357"><a href="#cb98-357"></a><span class="in">```</span></span>
<span id="cb98-358"><a href="#cb98-358"></a></span>
<span id="cb98-359"><a href="#cb98-359"></a>:::</span>
<span id="cb98-360"><a href="#cb98-360"></a></span>
<span id="cb98-361"><a href="#cb98-361"></a>::::</span>
<span id="cb98-362"><a href="#cb98-362"></a></span>
<span id="cb98-363"><a href="#cb98-363"></a></span>
<span id="cb98-364"><a href="#cb98-364"></a><span class="fu">## Save</span></span>
<span id="cb98-365"><a href="#cb98-365"></a></span>
<span id="cb98-366"><a href="#cb98-366"></a><span class="ss">- </span>Let's write/save both then give 'um a listen.</span>
<span id="cb98-367"><a href="#cb98-367"></a></span>
<span id="cb98-368"><a href="#cb98-368"></a>:::: {.columns}</span>
<span id="cb98-369"><a href="#cb98-369"></a></span>
<span id="cb98-370"><a href="#cb98-370"></a>::: {.column width="50%"}</span>
<span id="cb98-371"><a href="#cb98-371"></a></span>
<span id="cb98-372"><a href="#cb98-372"></a></span>
<span id="cb98-375"><a href="#cb98-375"></a><span class="in">```{python}</span></span>
<span id="cb98-376"><a href="#cb98-376"></a>scipy.io.wavfile.write(<span class="st">"left.wav"</span>, rate, left_only)</span>
<span id="cb98-377"><a href="#cb98-377"></a><span class="in">```</span></span>
<span id="cb98-378"><a href="#cb98-378"></a></span>
<span id="cb98-379"><a href="#cb98-379"></a></span>
<span id="cb98-380"><a href="#cb98-380"></a>:::</span>
<span id="cb98-381"><a href="#cb98-381"></a></span>
<span id="cb98-382"><a href="#cb98-382"></a>::: {.column width="50%"}</span>
<span id="cb98-383"><a href="#cb98-383"></a></span>
<span id="cb98-386"><a href="#cb98-386"></a><span class="in">```{python}</span></span>
<span id="cb98-387"><a href="#cb98-387"></a>scipy.io.wavfile.write(<span class="st">"rite.wav"</span>, rate, rite_only)</span>
<span id="cb98-388"><a href="#cb98-388"></a><span class="in">```</span></span>
<span id="cb98-389"><a href="#cb98-389"></a></span>
<span id="cb98-390"><a href="#cb98-390"></a>:::</span>
<span id="cb98-391"><a href="#cb98-391"></a></span>
<span id="cb98-392"><a href="#cb98-392"></a>::::</span>
<span id="cb98-393"><a href="#cb98-393"></a></span>
<span id="cb98-394"><a href="#cb98-394"></a><span class="fu">## Listen </span></span>
<span id="cb98-395"><a href="#cb98-395"></a></span>
<span id="cb98-396"><a href="#cb98-396"></a><span class="ss">- </span>Let's write/save both then give 'um a listen.</span>
<span id="cb98-397"><a href="#cb98-397"></a></span>
<span id="cb98-398"><a href="#cb98-398"></a>:::: {.columns}</span>
<span id="cb98-399"><a href="#cb98-399"></a></span>
<span id="cb98-400"><a href="#cb98-400"></a>::: {.column width="50%"}</span>
<span id="cb98-401"><a href="#cb98-401"></a></span>
<span id="cb98-402"><a href="#cb98-402"></a></span>
<span id="cb98-403"><a href="#cb98-403"></a></span>
<span id="cb98-404"><a href="#cb98-404"></a>&lt;audio controls src="src/left.wav" type="audio/wav"&gt;&lt;/audio&gt; </span>
<span id="cb98-405"><a href="#cb98-405"></a></span>
<span id="cb98-406"><a href="#cb98-406"></a>:::</span>
<span id="cb98-407"><a href="#cb98-407"></a></span>
<span id="cb98-408"><a href="#cb98-408"></a>::: {.column width="50%"}</span>
<span id="cb98-409"><a href="#cb98-409"></a></span>
<span id="cb98-410"><a href="#cb98-410"></a></span>
<span id="cb98-411"><a href="#cb98-411"></a>&lt;audio controls src="src/rite.wav" type="audio/wav"&gt;&lt;/audio&gt; </span>
<span id="cb98-412"><a href="#cb98-412"></a></span>
<span id="cb98-413"><a href="#cb98-413"></a>:::</span>
<span id="cb98-414"><a href="#cb98-414"></a></span>
<span id="cb98-415"><a href="#cb98-415"></a>::::</span>
<span id="cb98-416"><a href="#cb98-416"></a></span>
<span id="cb98-417"><a href="#cb98-417"></a><span class="fu"># Noise</span></span>
<span id="cb98-418"><a href="#cb98-418"></a></span>
<span id="cb98-419"><a href="#cb98-419"></a><span class="fu">## Noise Reduction</span></span>
<span id="cb98-420"><a href="#cb98-420"></a></span>
<span id="cb98-421"><a href="#cb98-421"></a><span class="ss">- </span>In a way, all sound is noise.</span>
<span id="cb98-422"><a href="#cb98-422"></a><span class="ss">- </span>Let's try and isolate the vocals and music, regarding the other variously as noise at various points.</span>
<span id="cb98-423"><a href="#cb98-423"></a><span class="ss">- </span>First identify where vocals come in.</span>
<span id="cb98-424"><a href="#cb98-424"></a><span class="ss">- </span>To me, 0:04 to 0:09 seems instrumental.</span>
<span id="cb98-425"><a href="#cb98-425"></a></span>
<span id="cb98-426"><a href="#cb98-426"></a><span class="fu">## View it</span></span>
<span id="cb98-427"><a href="#cb98-427"></a></span>
<span id="cb98-428"><a href="#cb98-428"></a><span class="ss">- </span>Look for patterns</span>
<span id="cb98-429"><a href="#cb98-429"></a></span>
<span id="cb98-432"><a href="#cb98-432"></a><span class="in">```{python}</span></span>
<span id="cb98-433"><a href="#cb98-433"></a>snip <span class="op">=</span> left[<span class="dv">4</span><span class="op">*</span>rate:<span class="dv">10</span><span class="op">*</span>rate]</span>
<span id="cb98-434"><a href="#cb98-434"></a>plt.plot(snip)</span>
<span id="cb98-435"><a href="#cb98-435"></a><span class="in">```</span></span>
<span id="cb98-436"><a href="#cb98-436"></a></span>
<span id="cb98-437"><a href="#cb98-437"></a><span class="fu">## Repeats?</span></span>
<span id="cb98-438"><a href="#cb98-438"></a></span>
<span id="cb98-439"><a href="#cb98-439"></a><span class="ss">- </span>Looks like volume cuts low on a repeated pattern.</span>
<span id="cb98-440"><a href="#cb98-440"></a><span class="ss">- </span>Maybe we can isolate that pattern.</span>
<span id="cb98-441"><a href="#cb98-441"></a><span class="ss">- </span>Let's:</span>
<span id="cb98-442"><a href="#cb98-442"></a><span class="ss">    - </span>Pick a range</span>
<span id="cb98-443"><a href="#cb98-443"></a><span class="ss">    - </span>Find a minimal value</span>
<span id="cb98-444"><a href="#cb98-444"></a><span class="ss">    - </span>Find where that value occurs.</span>
<span id="cb98-447"><a href="#cb98-447"></a><span class="in">```{python}</span></span>
<span id="cb98-448"><a href="#cb98-448"></a>low_val <span class="op">=</span> <span class="bu">min</span>(snip)</span>
<span id="cb98-449"><a href="#cb98-449"></a>low_val</span>
<span id="cb98-450"><a href="#cb98-450"></a><span class="in">```</span></span>
<span id="cb98-451"><a href="#cb98-451"></a></span>
<span id="cb98-452"><a href="#cb98-452"></a><span class="fu">## Whoops!</span></span>
<span id="cb98-453"><a href="#cb98-453"></a></span>
<span id="cb98-454"><a href="#cb98-454"></a><span class="ss">- </span>Oh we need to use absolute value.</span>
<span id="cb98-455"><a href="#cb98-455"></a><span class="ss">- </span>No worries!</span>
<span id="cb98-458"><a href="#cb98-458"></a><span class="in">```{python}</span></span>
<span id="cb98-459"><a href="#cb98-459"></a>low_val <span class="op">=</span> <span class="bu">min</span>(np.absolute(snip))</span>
<span id="cb98-460"><a href="#cb98-460"></a>low_val</span>
<span id="cb98-461"><a href="#cb98-461"></a><span class="in">```</span></span>
<span id="cb98-462"><a href="#cb98-462"></a></span>
<span id="cb98-463"><a href="#cb98-463"></a><span class="fu"># Where?</span></span>
<span id="cb98-464"><a href="#cb98-464"></a></span>
<span id="cb98-465"><a href="#cb98-465"></a><span class="ss">- </span>Use <span class="in">`np.where`</span> to find where the low values occur.</span>
<span id="cb98-466"><a href="#cb98-466"></a><span class="ss">    - </span>We used with <span class="co">[</span><span class="ot">**pandas**</span><span class="co">](06_pandas.qmd#metallic)</span></span>
<span id="cb98-469"><a href="#cb98-469"></a><span class="in">```{python}</span></span>
<span id="cb98-470"><a href="#cb98-470"></a>lows <span class="op">=</span> np.where(snip <span class="op">==</span> <span class="dv">0</span>)</span>
<span id="cb98-471"><a href="#cb98-471"></a>lows</span>
<span id="cb98-472"><a href="#cb98-472"></a><span class="in">```</span></span>
<span id="cb98-473"><a href="#cb98-473"></a></span>
<span id="cb98-474"><a href="#cb98-474"></a><span class="fu">## Patterns</span></span>
<span id="cb98-475"><a href="#cb98-475"></a></span>
<span id="cb98-476"><a href="#cb98-476"></a><span class="ss">- </span>Maybe there's something repeating on a periodicity of like... 65k?</span>
<span id="cb98-477"><a href="#cb98-477"></a></span>
<span id="cb98-480"><a href="#cb98-480"></a><span class="in">```{python}</span></span>
<span id="cb98-481"><a href="#cb98-481"></a><span class="co"># We note that the result was enclosed in () so we get the [0] of it.</span></span>
<span id="cb98-482"><a href="#cb98-482"></a>lows <span class="op">=</span> lows[<span class="dv">0</span>]</span>
<span id="cb98-483"><a href="#cb98-483"></a><span class="co"># Then proceed</span></span>
<span id="cb98-484"><a href="#cb98-484"></a>lows <span class="op">=</span> lows[np.where(lows <span class="op">&gt;</span> <span class="dv">500</span>)]</span>
<span id="cb98-485"><a href="#cb98-485"></a>lows</span>
<span id="cb98-486"><a href="#cb98-486"></a><span class="in">```</span></span>
<span id="cb98-487"><a href="#cb98-487"></a></span>
<span id="cb98-488"><a href="#cb98-488"></a><span class="fu">## Visualize</span></span>
<span id="cb98-489"><a href="#cb98-489"></a></span>
<span id="cb98-490"><a href="#cb98-490"></a><span class="ss">- </span>Let's just plot the place the minimum occurs.</span>
<span id="cb98-493"><a href="#cb98-493"></a><span class="in">```{python}</span></span>
<span id="cb98-494"><a href="#cb98-494"></a>_ <span class="op">=</span> plt.hist(lows)</span>
<span id="cb98-495"><a href="#cb98-495"></a><span class="in">```</span></span>
<span id="cb98-496"><a href="#cb98-496"></a></span>
<span id="cb98-497"><a href="#cb98-497"></a><span class="fu">## More Bins</span></span>
<span id="cb98-498"><a href="#cb98-498"></a></span>
<span id="cb98-499"><a href="#cb98-499"></a><span class="ss">- </span>Hard to see, we increase the "bin" count.</span>
<span id="cb98-502"><a href="#cb98-502"></a><span class="in">```{python}</span></span>
<span id="cb98-503"><a href="#cb98-503"></a>_ <span class="op">=</span> plt.hist(lows, <span class="dv">100</span>)</span>
<span id="cb98-504"><a href="#cb98-504"></a><span class="in">```</span></span>
<span id="cb98-505"><a href="#cb98-505"></a></span>
<span id="cb98-506"><a href="#cb98-506"></a><span class="fu">## A Pattern?</span></span>
<span id="cb98-507"><a href="#cb98-507"></a></span>
<span id="cb98-510"><a href="#cb98-510"></a><span class="in">```{python}</span></span>
<span id="cb98-511"><a href="#cb98-511"></a>_ <span class="op">=</span> plt.hist(np.where(left <span class="op">==</span> <span class="dv">0</span>))</span>
<span id="cb98-512"><a href="#cb98-512"></a><span class="in">```</span></span>
<span id="cb98-513"><a href="#cb98-513"></a></span>
<span id="cb98-514"><a href="#cb98-514"></a><span class="ss">- </span>Only before vocals enter?</span>
<span id="cb98-515"><a href="#cb98-515"></a></span>
<span id="cb98-516"><a href="#cb98-516"></a><span class="fu">## Isolate</span></span>
<span id="cb98-517"><a href="#cb98-517"></a></span>
<span id="cb98-518"><a href="#cb98-518"></a><span class="ss">- </span>Let's see if we can isolate a motif.</span>
<span id="cb98-519"><a href="#cb98-519"></a><span class="ss">- </span>We'll take the first zero past.</span>
<span id="cb98-520"><a href="#cb98-520"></a><span class="ss">- </span>I hear about two repeats on this portion, so we'll take a zero in the middle.</span>
<span id="cb98-523"><a href="#cb98-523"></a><span class="in">```{python}</span></span>
<span id="cb98-524"><a href="#cb98-524"></a>np.where(snip <span class="op">==</span> <span class="dv">0</span>)</span>
<span id="cb98-525"><a href="#cb98-525"></a><span class="in">```</span></span>
<span id="cb98-526"><a href="#cb98-526"></a></span>
<span id="cb98-527"><a href="#cb98-527"></a><span class="fu">## Motif</span></span>
<span id="cb98-528"><a href="#cb98-528"></a></span>
<span id="cb98-531"><a href="#cb98-531"></a><span class="in">```{python}</span></span>
<span id="cb98-532"><a href="#cb98-532"></a>stereo <span class="op">=</span> np.array([snip,snip]).transpose()</span>
<span id="cb98-533"><a href="#cb98-533"></a>motif <span class="op">=</span> stereo[<span class="dv">13580</span>:<span class="dv">131204</span>]</span>
<span id="cb98-534"><a href="#cb98-534"></a>scipy.io.wavfile.write(<span class="st">"motif.wav"</span>, rate, motif)</span>
<span id="cb98-535"><a href="#cb98-535"></a><span class="co"># os.system("open motif.wav") # After import, if you have VLC, on MacOS</span></span>
<span id="cb98-536"><a href="#cb98-536"></a><span class="in">```</span></span>
<span id="cb98-537"><a href="#cb98-537"></a></span>
<span id="cb98-538"><a href="#cb98-538"></a>&lt;audio controls src="src/motif.wav" type="audio/wav"&gt;&lt;/audio&gt; </span>
<span id="cb98-539"><a href="#cb98-539"></a></span>
<span id="cb98-542"><a href="#cb98-542"></a><span class="in">```{python}</span></span>
<span id="cb98-543"><a href="#cb98-543"></a>other <span class="op">=</span> stereo[<span class="dv">13580</span>:<span class="dv">271632</span>]</span>
<span id="cb98-544"><a href="#cb98-544"></a>scipy.io.wavfile.write(<span class="st">"other.wav"</span>, rate, other)</span>
<span id="cb98-545"><a href="#cb98-545"></a><span class="in">```</span></span>
<span id="cb98-546"><a href="#cb98-546"></a></span>
<span id="cb98-547"><a href="#cb98-547"></a>&lt;audio controls src="src/motif.wav" type="audio/wav"&gt;&lt;/audio&gt; </span>
<span id="cb98-548"><a href="#cb98-548"></a></span>
<span id="cb98-551"><a href="#cb98-551"></a><span class="in">```{python}</span></span>
<span id="cb98-552"><a href="#cb98-552"></a>scipy.io.wavfile.write(<span class="st">"motifs.wav"</span>, rate, np.concat([motif,motif,motif]))</span>
<span id="cb98-553"><a href="#cb98-553"></a>scipy.io.wavfile.write(<span class="st">"others.wav"</span>, rate, np.concat([other,other,other]))</span>
<span id="cb98-554"><a href="#cb98-554"></a><span class="in">```</span></span>
<span id="cb98-555"><a href="#cb98-555"></a></span>
<span id="cb98-556"><a href="#cb98-556"></a>&lt;audio controls src="src/motifs.wav" type="audio/wav"&gt;&lt;/audio&gt; </span>
<span id="cb98-557"><a href="#cb98-557"></a></span>
<span id="cb98-558"><a href="#cb98-558"></a>&lt;audio controls src="src/others.wav" type="audio/wav"&gt;&lt;/audio&gt; </span>
<span id="cb98-559"><a href="#cb98-559"></a></span>
<span id="cb98-560"><a href="#cb98-560"></a><span class="ss">- </span>You can go become a dj, or...</span>
<span id="cb98-561"><a href="#cb98-561"></a></span>
<span id="cb98-562"><a href="#cb98-562"></a><span class="fu">## FFT</span></span>
<span id="cb98-563"><a href="#cb98-563"></a></span>
<span id="cb98-564"><a href="#cb98-564"></a><span class="ss">- </span>The actual correct way to do this is with a SciPy FFT:</span>
<span id="cb98-565"><a href="#cb98-565"></a><span class="ss">    - </span><span class="co">[</span><span class="ot">Fast Fourier Transform</span><span class="co">](https://docs.scipy.org/doc/scipy/tutorial/fft.html)</span></span>
<span id="cb98-566"><a href="#cb98-566"></a><span class="ss">- </span>And with a NumPy stride:</span>
<span id="cb98-567"><a href="#cb98-567"></a><span class="ss">    - </span><span class="co">[</span><span class="ot">Stride Tricks</span><span class="co">](https://numpy.org/devdocs/reference/generated/numpy.lib.stride_tricks.html)</span></span>
<span id="cb98-568"><a href="#cb98-568"></a><span class="ss">- </span>Which is probably a bit much for now.</span>
<span id="cb98-569"><a href="#cb98-569"></a></span>
<span id="cb98-570"><a href="#cb98-570"></a><span class="fu"># Stats</span></span>
<span id="cb98-571"><a href="#cb98-571"></a></span>
<span id="cb98-572"><a href="#cb98-572"></a><span class="fu">## Regression</span></span>
<span id="cb98-573"><a href="#cb98-573"></a></span>
<span id="cb98-574"><a href="#cb98-574"></a><span class="ss">- </span>One of the most used computation techniques is regression.</span>
<span id="cb98-575"><a href="#cb98-575"></a><span class="ss">- </span>It is used throughout the sciences, but most commonly in econometrics.</span>
<span id="cb98-576"><a href="#cb98-576"></a><span class="ss">- </span>In my my undergraduate economics class, I had a homework assignment to "prove" that raising minimum wage increases unemployment.</span>
<span id="cb98-577"><a href="#cb98-577"></a><span class="ss">    - </span>It doesn't, but that isn't relevant here.</span>
<span id="cb98-578"><a href="#cb98-578"></a></span>
<span id="cb98-579"><a href="#cb98-579"></a><span class="fu">## The Data</span></span>
<span id="cb98-580"><a href="#cb98-580"></a></span>
<span id="cb98-581"><a href="#cb98-581"></a><span class="ss">- </span>I usually get economic data from the "St. Louis Fed" which has a data portal called "FRED".</span>
<span id="cb98-582"><a href="#cb98-582"></a><span class="ss">  - </span>Minimum wage <span class="co">[</span><span class="ot">FEDMINNFRWG</span><span class="co">](https://fred.stlouisfed.org/series/FEDMINNFRWG)</span></span>
<span id="cb98-583"><a href="#cb98-583"></a><span class="ss">  - </span>Unemployment rage <span class="co">[</span><span class="ot">UNRATE</span><span class="co">](https://fred.stlouisfed.org/series/UNRATE)</span></span>
<span id="cb98-584"><a href="#cb98-584"></a><span class="ss">  - </span>Inflation <span class="co">[</span><span class="ot">CPIAUCSL</span><span class="co">](https://fred.stlouisfed.org/series/CPIAUCSL)</span></span>
<span id="cb98-585"><a href="#cb98-585"></a></span>
<span id="cb98-586"><a href="#cb98-586"></a><span class="fu">## curl</span></span>
<span id="cb98-587"><a href="#cb98-587"></a></span>
<span id="cb98-588"><a href="#cb98-588"></a><span class="ss">- </span>It is actually possible to <span class="in">`curl`</span> these but you probably have to navigate the websites to find the urls regardless.</span>
<span id="cb98-589"><a href="#cb98-589"></a><span class="ss">- </span>I retrieved these manually on MS Windows on 31 May 2025 at 7:33 PM PT.</span>
<span id="cb98-590"><a href="#cb98-590"></a><span class="in">```{.bash code-line-numbers="false"}</span></span>
<span id="cb98-591"><a href="#cb98-591"></a><span class="in">curl https://github.com/cd-public/scicom/raw/refs/heads/main/qmd/src/FEMINNFRWG.csv -o FEDMINNFRWG.csv</span></span>
<span id="cb98-592"><a href="#cb98-592"></a><span class="in">curl https://github.com/cd-public/scicom/raw/refs/heads/main/qmd/src/UNRATE.csv-o UNRATE.csv</span></span>
<span id="cb98-593"><a href="#cb98-593"></a><span class="in">curl https://github.com/cd-public/scicom/raw/refs/heads/main/qmd/src/CPIAUCSL.csv -o CPIAUCSL.csv</span></span>
<span id="cb98-594"><a href="#cb98-594"></a><span class="in">```</span></span>
<span id="cb98-595"><a href="#cb98-595"></a></span>
<span id="cb98-596"><a href="#cb98-596"></a><span class="fu">## Within Python</span></span>
<span id="cb98-597"><a href="#cb98-597"></a></span>
<span id="cb98-598"><a href="#cb98-598"></a><span class="ss">- </span>You can of course also get these with out leaving Python.</span>
<span id="cb98-599"><a href="#cb98-599"></a><span class="ss">- </span>Given some url with Python </span>
<span id="cb98-600"><a href="#cb98-600"></a><span class="ss">  - </span><span class="in">`url = "https://..."`</span></span>
<span id="cb98-601"><a href="#cb98-601"></a><span class="ss">- </span>You can of course also:</span>
<span id="cb98-602"><a href="#cb98-602"></a><span class="ss">  - </span>**pandas** <span class="in">`pd.read_csv(url)`</span></span>
<span id="cb98-603"><a href="#cb98-603"></a><span class="ss">  - </span>"os" <span class="in">`os.system("curl " + url + " -o name.csv")`</span></span>
<span id="cb98-604"><a href="#cb98-604"></a></span>
<span id="cb98-605"><a href="#cb98-605"></a><span class="fu">## How I did it</span></span>
<span id="cb98-606"><a href="#cb98-606"></a></span>
<span id="cb98-609"><a href="#cb98-609"></a><span class="in">```{python}</span></span>
<span id="cb98-610"><a href="#cb98-610"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb98-611"><a href="#cb98-611"></a></span>
<span id="cb98-612"><a href="#cb98-612"></a>minwage <span class="op">=</span> pd.read_csv(<span class="st">"https://github.com/cd-public/scicom/raw/refs/heads/main/qmd/src/FEDMINNFRWG.csv"</span>)</span>
<span id="cb98-613"><a href="#cb98-613"></a>unemploy <span class="op">=</span> pd.read_csv(<span class="st">"https://github.com/cd-public/scicom/raw/refs/heads/main/qmd/src/UNRATE.csv"</span>)</span>
<span id="cb98-614"><a href="#cb98-614"></a>inflate <span class="op">=</span> pd.read_csv(<span class="st">"https://github.com/cd-public/scicom/raw/refs/heads/main/qmd/src/CPIAUCSL.csv"</span>)</span>
<span id="cb98-615"><a href="#cb98-615"></a>inflate</span>
<span id="cb98-616"><a href="#cb98-616"></a><span class="in">```</span></span>
<span id="cb98-617"><a href="#cb98-617"></a></span>
<span id="cb98-618"><a href="#cb98-618"></a><span class="fu">## Check Columns</span></span>
<span id="cb98-619"><a href="#cb98-619"></a></span>
<span id="cb98-622"><a href="#cb98-622"></a><span class="in">```{python}</span></span>
<span id="cb98-623"><a href="#cb98-623"></a>minwage.columns</span>
<span id="cb98-624"><a href="#cb98-624"></a><span class="in">```</span></span>
<span id="cb98-627"><a href="#cb98-627"></a><span class="in">```{python}</span></span>
<span id="cb98-628"><a href="#cb98-628"></a>unemploy.columns</span>
<span id="cb98-629"><a href="#cb98-629"></a><span class="in">```</span></span>
<span id="cb98-632"><a href="#cb98-632"></a><span class="in">```{python}</span></span>
<span id="cb98-633"><a href="#cb98-633"></a>inflate.columns</span>
<span id="cb98-634"><a href="#cb98-634"></a><span class="in">```</span></span>
<span id="cb98-635"><a href="#cb98-635"></a></span>
<span id="cb98-636"><a href="#cb98-636"></a><span class="fu">## Merge</span></span>
<span id="cb98-637"><a href="#cb98-637"></a></span>
<span id="cb98-638"><a href="#cb98-638"></a><span class="ss">- </span>This is suitable for a merge.</span>
<span id="cb98-639"><a href="#cb98-639"></a><span class="ss">- </span>Alternatively, set date as index then join.</span>
<span id="cb98-642"><a href="#cb98-642"></a><span class="in">```{python}</span></span>
<span id="cb98-643"><a href="#cb98-643"></a>df <span class="op">=</span> minwage.merge(unemploy).merge(inflate)</span>
<span id="cb98-644"><a href="#cb98-644"></a>df <span class="op">=</span> df.drop(columns<span class="op">=</span>[<span class="st">"observation_date"</span>])</span>
<span id="cb98-645"><a href="#cb98-645"></a>df[:<span class="dv">3</span>]</span>
<span id="cb98-646"><a href="#cb98-646"></a><span class="in">```</span></span>
<span id="cb98-647"><a href="#cb98-647"></a></span>
<span id="cb98-648"><a href="#cb98-648"></a><span class="fu">## Adjustments</span></span>
<span id="cb98-649"><a href="#cb98-649"></a></span>
<span id="cb98-650"><a href="#cb98-650"></a><span class="ss">- </span>Unemployment rate is rate.</span>
<span id="cb98-651"><a href="#cb98-651"></a><span class="ss">- </span>Minimum wage is a nominal value (e.g. it's units are ill-defined).</span>
<span id="cb98-652"><a href="#cb98-652"></a><span class="ss">- </span>Inflation is an index of wage units.</span>
<span id="cb98-653"><a href="#cb98-653"></a><span class="ss">- </span>We can divide wage by inflation to get a "real wage".</span>
<span id="cb98-656"><a href="#cb98-656"></a><span class="in">```{python}</span></span>
<span id="cb98-657"><a href="#cb98-657"></a><span class="co"># I made so many types here.</span></span>
<span id="cb98-658"><a href="#cb98-658"></a><span class="co"># In a pinch use df[df.columns[0]]</span></span>
<span id="cb98-659"><a href="#cb98-659"></a>df[<span class="st">"REAL"</span>] <span class="op">=</span> df[<span class="st">"FEDMINNFRWG"</span>] <span class="op">/</span> df[<span class="st">"CPIAUCSL"</span>]</span>
<span id="cb98-660"><a href="#cb98-660"></a><span class="in">```</span></span>
<span id="cb98-661"><a href="#cb98-661"></a></span>
<span id="cb98-662"><a href="#cb98-662"></a><span class="fu">## Percent Change</span></span>
<span id="cb98-663"><a href="#cb98-663"></a></span>
<span id="cb98-664"><a href="#cb98-664"></a><span class="ss">- </span>We measure percent change in real wages.</span>
<span id="cb98-665"><a href="#cb98-665"></a><span class="ss">    - </span>We use **pandas** <span class="in">`.pct_change()`</span></span>
<span id="cb98-666"><a href="#cb98-666"></a><span class="ss">        - </span>It's recommend by SciPy</span>
<span id="cb98-667"><a href="#cb98-667"></a><span class="ss">    - </span>We drop the *row* <span class="in">`0`</span> which has no percent change.</span>
<span id="cb98-668"><a href="#cb98-668"></a><span class="ss">        - </span>Drop rows by index, vs <span class="in">`column=&lt;name&gt;`</span></span>
<span id="cb98-669"><a href="#cb98-669"></a><span class="ss">    - </span>We drop an undefined ("NaN") values</span>
<span id="cb98-672"><a href="#cb98-672"></a><span class="in">```{python}</span></span>
<span id="cb98-673"><a href="#cb98-673"></a>df[<span class="st">"REALPCT"</span>] <span class="op">=</span> df[<span class="st">"REAL"</span>].pct_change()</span>
<span id="cb98-674"><a href="#cb98-674"></a>df.drop(<span class="dv">0</span>)</span>
<span id="cb98-675"><a href="#cb98-675"></a>df <span class="op">=</span> df.dropna()</span>
<span id="cb98-676"><a href="#cb98-676"></a><span class="in">```</span></span>
<span id="cb98-677"><a href="#cb98-677"></a></span>
<span id="cb98-678"><a href="#cb98-678"></a><span class="fu">## Unemployment</span></span>
<span id="cb98-679"><a href="#cb98-679"></a></span>
<span id="cb98-680"><a href="#cb98-680"></a><span class="ss">- </span>Oh we should probably take a percentage change in unemployment as well.</span>
<span id="cb98-683"><a href="#cb98-683"></a><span class="in">```{python}</span></span>
<span id="cb98-684"><a href="#cb98-684"></a>df[<span class="st">"UNRATE"</span>] <span class="op">=</span> df[<span class="st">"UNRATE"</span>].pct_change()</span>
<span id="cb98-685"><a href="#cb98-685"></a><span class="in">```</span></span>
<span id="cb98-686"><a href="#cb98-686"></a></span>
<span id="cb98-687"><a href="#cb98-687"></a><span class="fu">## Look at it</span></span>
<span id="cb98-688"><a href="#cb98-688"></a></span>
<span id="cb98-691"><a href="#cb98-691"></a><span class="in">```{python}</span></span>
<span id="cb98-692"><a href="#cb98-692"></a>plt.xlabel(<span class="st">"REALPCT"</span>)</span>
<span id="cb98-693"><a href="#cb98-693"></a>plt.ylabel(<span class="st">"UNRATE"</span>)</span>
<span id="cb98-694"><a href="#cb98-694"></a>_ <span class="op">=</span> plt.scatter(df[<span class="st">"REALPCT"</span>],df[<span class="st">"UNRATE"</span>])</span>
<span id="cb98-695"><a href="#cb98-695"></a><span class="in">```</span></span>
<span id="cb98-696"><a href="#cb98-696"></a></span>
<span id="cb98-697"><a href="#cb98-697"></a><span class="fu">## Linear Regression</span></span>
<span id="cb98-698"><a href="#cb98-698"></a></span>
<span id="cb98-699"><a href="#cb98-699"></a><span class="ss">- </span>The standard measure of statistical significance.</span>
<span id="cb98-700"><a href="#cb98-700"></a><span class="ss">- </span>We are assuming linearity, but it is already a comparison between rates.</span>
<span id="cb98-701"><a href="#cb98-701"></a><span class="ss">- </span>For more, study statistics!</span>
<span id="cb98-704"><a href="#cb98-704"></a><span class="in">```{python}</span></span>
<span id="cb98-705"><a href="#cb98-705"></a><span class="im">from</span> scipy <span class="im">import</span> stats</span>
<span id="cb98-706"><a href="#cb98-706"></a><span class="in">```</span></span>
<span id="cb98-707"><a href="#cb98-707"></a></span>
<span id="cb98-708"><a href="#cb98-708"></a><span class="fu">## `linregress`</span></span>
<span id="cb98-709"><a href="#cb98-709"></a></span>
<span id="cb98-712"><a href="#cb98-712"></a><span class="in">```{python}</span></span>
<span id="cb98-713"><a href="#cb98-713"></a>res <span class="op">=</span> stats.linregress(df[<span class="st">"REALPCT"</span>],df[<span class="st">"UNRATE"</span>])</span>
<span id="cb98-714"><a href="#cb98-714"></a><span class="bu">print</span>(res)</span>
<span id="cb98-715"><a href="#cb98-715"></a><span class="in">```</span></span>
<span id="cb98-716"><a href="#cb98-716"></a></span>
<span id="cb98-717"><a href="#cb98-717"></a>:::{.hidden}</span>
<span id="cb98-718"><a href="#cb98-718"></a><span class="fu">## Credit</span></span>
<span id="cb98-719"><a href="#cb98-719"></a></span>
<span id="cb98-720"><a href="#cb98-720"></a><span class="ss">- </span>The remainder is adapted from the <span class="co">[</span><span class="ot">`scipy.stats.linregress` example</span><span class="co">](https://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.linregress.html#scipy.stats.linregress)</span>.</span>
<span id="cb98-721"><a href="#cb98-721"></a></span>
<span id="cb98-722"><a href="#cb98-722"></a><span class="fu">## View</span></span>
<span id="cb98-723"><a href="#cb98-723"></a></span>
<span id="cb98-726"><a href="#cb98-726"></a><span class="in">```{python}</span></span>
<span id="cb98-727"><a href="#cb98-727"></a>plt.scatter(df[<span class="st">"REALPCT"</span>],df[<span class="st">"UNRATE"</span>])</span>
<span id="cb98-728"><a href="#cb98-728"></a>x <span class="op">=</span> np.linspace(df[<span class="st">"REALPCT"</span>].<span class="bu">min</span>(), df[<span class="st">"REALPCT"</span>].<span class="bu">max</span>())</span>
<span id="cb98-729"><a href="#cb98-729"></a>_ <span class="op">=</span> plt.plot(x, res.intercept <span class="op">+</span> res.slope<span class="op">*</span>x)</span>
<span id="cb98-730"><a href="#cb98-730"></a><span class="in">```</span></span>
<span id="cb98-731"><a href="#cb98-731"></a></span>
<span id="cb98-732"><a href="#cb98-732"></a><span class="fu">## Confidence Interval</span></span>
<span id="cb98-733"><a href="#cb98-733"></a></span>
<span id="cb98-734"><a href="#cb98-734"></a><span class="ss">- </span>"Two-sided inverse Students t-distribution"</span>
<span id="cb98-735"><a href="#cb98-735"></a></span>
<span id="cb98-738"><a href="#cb98-738"></a><span class="in">```{python}</span></span>
<span id="cb98-739"><a href="#cb98-739"></a><span class="co"># p - probability, df - degrees of freedom</span></span>
<span id="cb98-740"><a href="#cb98-740"></a><span class="kw">def</span> tinv(p, df): </span>
<span id="cb98-741"><a href="#cb98-741"></a>    <span class="cf">return</span> <span class="bu">abs</span>(stats.t.ppf(p<span class="op">/</span><span class="dv">2</span>, df))</span>
<span id="cb98-742"><a href="#cb98-742"></a><span class="in">```</span></span>
<span id="cb98-743"><a href="#cb98-743"></a></span>
<span id="cb98-744"><a href="#cb98-744"></a><span class="fu">## Results</span></span>
<span id="cb98-745"><a href="#cb98-745"></a></span>
<span id="cb98-748"><a href="#cb98-748"></a><span class="in">```{python}</span></span>
<span id="cb98-749"><a href="#cb98-749"></a>ts <span class="op">=</span> tinv(<span class="fl">0.05</span>, <span class="bu">len</span>(x)<span class="op">-</span><span class="dv">2</span>)</span>
<span id="cb98-750"><a href="#cb98-750"></a><span class="bu">print</span>(<span class="ss">f"slope (95%): </span><span class="sc">{</span>res<span class="sc">.</span>slope<span class="sc">:.6f}</span><span class="ss"> +/- </span><span class="sc">{</span>ts<span class="op">*</span>res<span class="sc">.</span>stderr<span class="sc">:.6f}</span><span class="ss">"</span>)</span>
<span id="cb98-751"><a href="#cb98-751"></a><span class="bu">print</span>(<span class="ss">f"intercept (95%): </span><span class="sc">{</span>res<span class="sc">.</span>intercept<span class="sc">:.6f}</span><span class="ss">"</span></span>
<span id="cb98-752"><a href="#cb98-752"></a>      <span class="ss">f" +/- </span><span class="sc">{</span>ts<span class="op">*</span>res<span class="sc">.</span>intercept_stderr<span class="sc">:.6f}</span><span class="ss">"</span>)</span>
<span id="cb98-753"><a href="#cb98-753"></a><span class="in">```</span></span>
<span id="cb98-754"><a href="#cb98-754"></a></span>
<span id="cb98-755"><a href="#cb98-755"></a>:::</span>
<span id="cb98-756"><a href="#cb98-756"></a></span>
<span id="cb98-757"><a href="#cb98-757"></a><span class="fu">## Tada!</span></span>
<span id="cb98-758"><a href="#cb98-758"></a></span>
<span id="cb98-759"><a href="#cb98-759"></a><span class="ss">- </span>Raising minimum wage doesn't predictable impact unemployment.</span>
<span id="cb98-760"><a href="#cb98-760"></a></span>
<span id="cb98-761"><a href="#cb98-761"></a><span class="fu"># Exercise</span></span>
<span id="cb98-762"><a href="#cb98-762"></a></span>
<span id="cb98-763"><a href="#cb98-763"></a><span class="fu">## Technetium</span></span>
<span id="cb98-764"><a href="#cb98-764"></a></span>
<span id="cb98-765"><a href="#cb98-765"></a><span class="ss">- </span>We recall the periodic table data</span>
<span id="cb98-768"><a href="#cb98-768"></a><span class="in">```{python}</span></span>
<span id="cb98-769"><a href="#cb98-769"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"https://gist.githubusercontent.com/GoodmanSciences/c2dd862cd38f21b0ad36b8f96b4bf1ee/raw/1d92663004489a5b6926e944c1b3d9ec5c40900e/Periodic%2520Table</span><span class="sc">%2520o</span><span class="st">f</span><span class="sc">%2520E</span><span class="st">lements.csv"</span>)</span>
<span id="cb98-770"><a href="#cb98-770"></a>df[::<span class="dv">30</span>]</span>
<span id="cb98-771"><a href="#cb98-771"></a><span class="in">```</span></span>
<span id="cb98-772"><a href="#cb98-772"></a></span>
<span id="cb98-773"><a href="#cb98-773"></a><span class="fu">## Interpolation</span></span>
<span id="cb98-774"><a href="#cb98-774"></a></span>
<span id="cb98-775"><a href="#cb98-775"></a><span class="ss">- </span>When first setting out the table, a number of elements had not yet been "observed"</span>
<span id="cb98-776"><a href="#cb98-776"></a><span class="ss">    - </span>That is, no one determined their chemical properties while away they were an element.</span>
<span id="cb98-777"><a href="#cb98-777"></a><span class="ss">- </span>Some *certainly* were never observed, namely technetium (Tc, 43) which does not exist in nature.</span>
<span id="cb98-778"><a href="#cb98-778"></a><span class="ss">- </span>However, the layout of the table allowed scientists to predict properties of technetium </span>
<span id="cb98-779"><a href="#cb98-779"></a></span>
<span id="cb98-780"><a href="#cb98-780"></a><span class="fu">## Extract</span></span>
<span id="cb98-781"><a href="#cb98-781"></a></span>
<span id="cb98-782"><a href="#cb98-782"></a><span class="ss">- </span>We will:</span>
<span id="cb98-783"><a href="#cb98-783"></a><span class="ss">    - </span>Set aside technetium in a variable to check our predictions against.</span>
<span id="cb98-784"><a href="#cb98-784"></a><span class="ss">    - </span>Remove the "transuranic" elements which were also not yet observed.</span>
<span id="cb98-787"><a href="#cb98-787"></a><span class="in">```{python}</span></span>
<span id="cb98-788"><a href="#cb98-788"></a>df <span class="op">=</span> df.iloc[:<span class="dv">91</span>]</span>
<span id="cb98-789"><a href="#cb98-789"></a>Tc <span class="op">=</span> df.iloc[<span class="dv">42</span>]</span>
<span id="cb98-790"><a href="#cb98-790"></a>df <span class="op">=</span> df.drop(<span class="dv">42</span>)</span>
<span id="cb98-791"><a href="#cb98-791"></a>Tc</span>
<span id="cb98-792"><a href="#cb98-792"></a><span class="in">```</span></span>
<span id="cb98-793"><a href="#cb98-793"></a></span>
<span id="cb98-794"><a href="#cb98-794"></a><span class="fu">## Import</span></span>
<span id="cb98-795"><a href="#cb98-795"></a></span>
<span id="cb98-796"><a href="#cb98-796"></a><span class="ss">- </span>To save some typing, we'll import it directly.</span>
<span id="cb98-799"><a href="#cb98-799"></a><span class="in">```{python}</span></span>
<span id="cb98-800"><a href="#cb98-800"></a><span class="im">from</span> scipy.interpolate <span class="im">import</span> LinearNDInterpolator</span>
<span id="cb98-801"><a href="#cb98-801"></a><span class="in">```</span></span>
<span id="cb98-802"><a href="#cb98-802"></a></span>
<span id="cb98-803"><a href="#cb98-803"></a><span class="fu">## Data</span></span>
<span id="cb98-804"><a href="#cb98-804"></a></span>
<span id="cb98-805"><a href="#cb98-805"></a><span class="ss">- </span>We recall electronegativity.</span>
<span id="cb98-806"><a href="#cb98-806"></a></span>
<span id="cb98-809"><a href="#cb98-809"></a><span class="in">```{python}</span></span>
<span id="cb98-810"><a href="#cb98-810"></a><span class="co">#| code-fold: true</span></span>
<span id="cb98-811"><a href="#cb98-811"></a><span class="co"># Plot</span></span>
<span id="cb98-812"><a href="#cb98-812"></a>plt.scatter(</span>
<span id="cb98-813"><a href="#cb98-813"></a>    x<span class="op">=</span>df[<span class="st">"Group"</span>],</span>
<span id="cb98-814"><a href="#cb98-814"></a>    y<span class="op">=</span>df[<span class="st">"Period"</span>],</span>
<span id="cb98-815"><a href="#cb98-815"></a>    c<span class="op">=</span>df[<span class="st">"Electronegativity"</span>]</span>
<span id="cb98-816"><a href="#cb98-816"></a>)</span>
<span id="cb98-817"><a href="#cb98-817"></a>plt.gca().invert_yaxis()</span>
<span id="cb98-818"><a href="#cb98-818"></a><span class="co"># Label</span></span>
<span id="cb98-819"><a href="#cb98-819"></a>plt.title(<span class="st">"Electronegativity"</span>)</span>
<span id="cb98-820"><a href="#cb98-820"></a>plt.xlabel(<span class="st">"Group"</span>)</span>
<span id="cb98-821"><a href="#cb98-821"></a>plt.ylabel(<span class="st">"Period"</span>)</span>
<span id="cb98-822"><a href="#cb98-822"></a>_ <span class="op">=</span> plt.colorbar()</span>
<span id="cb98-823"><a href="#cb98-823"></a><span class="in">```</span></span>
<span id="cb98-824"><a href="#cb98-824"></a></span>
<span id="cb98-825"><a href="#cb98-825"></a><span class="fu">## Reference</span></span>
<span id="cb98-826"><a href="#cb98-826"></a></span>
<span id="cb98-827"><a href="#cb98-827"></a><span class="ss">- </span>The documentation we're following is <span class="co">[</span><span class="ot">here</span><span class="co">](https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.LinearNDInterpolator.html)</span></span>
<span id="cb98-828"><a href="#cb98-828"></a> </span>
<span id="cb98-831"><a href="#cb98-831"></a><span class="in">```{python}</span></span>
<span id="cb98-832"><a href="#cb98-832"></a><span class="co">#| code-fold: true</span></span>
<span id="cb98-833"><a href="#cb98-833"></a><span class="im">from</span> scipy.interpolate <span class="im">import</span> LinearNDInterpolator</span>
<span id="cb98-834"><a href="#cb98-834"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb98-835"><a href="#cb98-835"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb98-836"><a href="#cb98-836"></a>rng <span class="op">=</span> np.random.default_rng()</span>
<span id="cb98-837"><a href="#cb98-837"></a>x <span class="op">=</span> rng.random(<span class="dv">10</span>) <span class="op">-</span> <span class="fl">0.5</span></span>
<span id="cb98-838"><a href="#cb98-838"></a>y <span class="op">=</span> rng.random(<span class="dv">10</span>) <span class="op">-</span> <span class="fl">0.5</span></span>
<span id="cb98-839"><a href="#cb98-839"></a>z <span class="op">=</span> np.hypot(x, y)</span>
<span id="cb98-840"><a href="#cb98-840"></a>X <span class="op">=</span> np.linspace(<span class="bu">min</span>(x), <span class="bu">max</span>(x))</span>
<span id="cb98-841"><a href="#cb98-841"></a>Y <span class="op">=</span> np.linspace(<span class="bu">min</span>(y), <span class="bu">max</span>(y))</span>
<span id="cb98-842"><a href="#cb98-842"></a>X, Y <span class="op">=</span> np.meshgrid(X, Y)  <span class="co"># 2D grid for interpolation</span></span>
<span id="cb98-843"><a href="#cb98-843"></a>interp <span class="op">=</span> LinearNDInterpolator(<span class="bu">list</span>(<span class="bu">zip</span>(x, y)), z)</span>
<span id="cb98-844"><a href="#cb98-844"></a>Z <span class="op">=</span> interp(X, Y)</span>
<span id="cb98-845"><a href="#cb98-845"></a>plt.pcolormesh(X, Y, Z, shading<span class="op">=</span><span class="st">'auto'</span>)</span>
<span id="cb98-846"><a href="#cb98-846"></a>plt.plot(x, y, <span class="st">"ok"</span>, label<span class="op">=</span><span class="st">"input point"</span>)</span>
<span id="cb98-847"><a href="#cb98-847"></a>plt.legend()</span>
<span id="cb98-848"><a href="#cb98-848"></a>plt.colorbar()</span>
<span id="cb98-849"><a href="#cb98-849"></a>plt.axis(<span class="st">"equal"</span>)</span>
<span id="cb98-850"><a href="#cb98-850"></a>plt.show()</span>
<span id="cb98-851"><a href="#cb98-851"></a><span class="in">```</span></span>
<span id="cb98-852"><a href="#cb98-852"></a></span>
<span id="cb98-853"><a href="#cb98-853"></a><span class="fu">## Working df</span></span>
<span id="cb98-854"><a href="#cb98-854"></a></span>
<span id="cb98-855"><a href="#cb98-855"></a><span class="ss">- </span>We need a <span class="in">`df`</span> to work with.</span>
<span id="cb98-856"><a href="#cb98-856"></a><span class="ss">- </span>We need only Group, Period, Electronegativity</span>
<span id="cb98-857"><a href="#cb98-857"></a><span class="ss">- </span>We *must not* have any invalid entries.</span>
<span id="cb98-858"><a href="#cb98-858"></a><span class="ss">- </span>We modify <span class="in">`df`</span> to have only these 3 values, then <span class="in">`.dropna()`</span></span>
<span id="cb98-861"><a href="#cb98-861"></a><span class="in">```{python}</span></span>
<span id="cb98-862"><a href="#cb98-862"></a>df <span class="op">=</span> df[[<span class="st">"Group"</span>, <span class="st">"Period"</span>, <span class="st">"Electronegativity"</span>]]</span>
<span id="cb98-863"><a href="#cb98-863"></a>df <span class="op">=</span> df.dropna()</span>
<span id="cb98-864"><a href="#cb98-864"></a><span class="in">```</span></span>
<span id="cb98-865"><a href="#cb98-865"></a></span>
<span id="cb98-866"><a href="#cb98-866"></a></span>
<span id="cb98-867"><a href="#cb98-867"></a><span class="fu">## X </span></span>
<span id="cb98-868"><a href="#cb98-868"></a></span>
<span id="cb98-869"><a href="#cb98-869"></a><span class="ss">- </span>We will:</span>
<span id="cb98-870"><a href="#cb98-870"></a><span class="ss">    - </span>Determine the input x values.</span>
<span id="cb98-871"><a href="#cb98-871"></a><span class="ss">    - </span>We call this <span class="in">`X`</span> (capitalized) to denote it is a vector or array.</span>
<span id="cb98-872"><a href="#cb98-872"></a><span class="ss">- </span>We used "Group" for x.</span>
<span id="cb98-875"><a href="#cb98-875"></a><span class="in">```{python}</span></span>
<span id="cb98-876"><a href="#cb98-876"></a>X <span class="op">=</span> df[<span class="st">"Group"</span>]</span>
<span id="cb98-877"><a href="#cb98-877"></a>X[::<span class="dv">20</span>]</span>
<span id="cb98-878"><a href="#cb98-878"></a><span class="in">```</span></span>
<span id="cb98-879"><a href="#cb98-879"></a></span>
<span id="cb98-880"><a href="#cb98-880"></a><span class="fu">## Y </span></span>
<span id="cb98-881"><a href="#cb98-881"></a></span>
<span id="cb98-882"><a href="#cb98-882"></a><span class="ss">- </span>We will:</span>
<span id="cb98-883"><a href="#cb98-883"></a><span class="ss">    - </span>Determine the input x values.</span>
<span id="cb98-884"><a href="#cb98-884"></a><span class="ss">    - </span>We call this <span class="in">`Y`</span> (capitalized) to denote it is a vector or array.</span>
<span id="cb98-885"><a href="#cb98-885"></a><span class="ss">- </span>We used "Period" for y.</span>
<span id="cb98-888"><a href="#cb98-888"></a><span class="in">```{python}</span></span>
<span id="cb98-889"><a href="#cb98-889"></a>Y <span class="op">=</span> df[<span class="st">"Period"</span>]</span>
<span id="cb98-890"><a href="#cb98-890"></a>Y[::<span class="dv">20</span>]</span>
<span id="cb98-891"><a href="#cb98-891"></a><span class="in">```</span></span>
<span id="cb98-892"><a href="#cb98-892"></a></span>
<span id="cb98-893"><a href="#cb98-893"></a></span>
<span id="cb98-894"><a href="#cb98-894"></a><span class="fu">## 2D</span></span>
<span id="cb98-895"><a href="#cb98-895"></a></span>
<span id="cb98-896"><a href="#cb98-896"></a><span class="ss">- </span>We will:</span>
<span id="cb98-897"><a href="#cb98-897"></a><span class="ss">    - </span>Create the 2D space given <span class="in">`X`</span> and <span class="in">`Y`</span></span>
<span id="cb98-898"><a href="#cb98-898"></a><span class="ss">    - </span>This is a "column stack"</span>
<span id="cb98-901"><a href="#cb98-901"></a><span class="in">```{python}</span></span>
<span id="cb98-902"><a href="#cb98-902"></a>arr2d <span class="op">=</span> np.column_stack((X,Y))</span>
<span id="cb98-903"><a href="#cb98-903"></a>arr2d[::<span class="dv">20</span>]</span>
<span id="cb98-904"><a href="#cb98-904"></a><span class="in">```</span></span>
<span id="cb98-905"><a href="#cb98-905"></a></span>
<span id="cb98-906"><a href="#cb98-906"></a></span>
<span id="cb98-907"><a href="#cb98-907"></a><span class="fu">## Z</span></span>
<span id="cb98-908"><a href="#cb98-908"></a></span>
<span id="cb98-909"><a href="#cb98-909"></a><span class="ss">- </span>We will:</span>
<span id="cb98-910"><a href="#cb98-910"></a><span class="ss">    - </span>Provide known output values as <span class="in">`Z`</span></span>
<span id="cb98-913"><a href="#cb98-913"></a><span class="in">```{python}</span></span>
<span id="cb98-914"><a href="#cb98-914"></a>Z <span class="op">=</span> df[<span class="st">"Electronegativity"</span>]</span>
<span id="cb98-915"><a href="#cb98-915"></a>Z</span>
<span id="cb98-916"><a href="#cb98-916"></a><span class="in">```</span></span>
<span id="cb98-917"><a href="#cb98-917"></a></span>
<span id="cb98-918"><a href="#cb98-918"></a><span class="fu">## SciPy</span></span>
<span id="cb98-919"><a href="#cb98-919"></a></span>
<span id="cb98-920"><a href="#cb98-920"></a><span class="ss">- </span>Back to SciPy!</span>
<span id="cb98-921"><a href="#cb98-921"></a><span class="ss">    - </span>Use <span class="in">`LinearNDInterpolar`</span></span>
<span id="cb98-922"><a href="#cb98-922"></a><span class="ss">- </span>It basically makes a function that theoretically described electronegativity.</span>
<span id="cb98-923"><a href="#cb98-923"></a></span>
<span id="cb98-924"><a href="#cb98-924"></a></span>
<span id="cb98-925"><a href="#cb98-925"></a></span>
<span id="cb98-926"><a href="#cb98-926"></a><span class="fu">## Stop!</span></span>
<span id="cb98-927"><a href="#cb98-927"></a></span>
<span id="cb98-928"><a href="#cb98-928"></a></span>
<span id="cb98-929"><a href="#cb98-929"></a>::: {.callout-note}</span>
<span id="cb98-930"><a href="#cb98-930"></a></span>
<span id="cb98-931"><a href="#cb98-931"></a><span class="ss">- </span>We are about to, essentially, conduct an experiment!</span>
<span id="cb98-932"><a href="#cb98-932"></a><span class="ss">- </span>We should make a hypothesis first, then test it.</span>
<span id="cb98-933"><a href="#cb98-933"></a><span class="ss">- </span>First, naively predict Tc's electronegativity, and write down your guess!</span>
<span id="cb98-934"><a href="#cb98-934"></a></span>
<span id="cb98-935"><a href="#cb98-935"></a>:::</span>
<span id="cb98-936"><a href="#cb98-936"></a></span>
<span id="cb98-937"><a href="#cb98-937"></a><span class="ss">- </span>The next slides have my guess, but you should make your own guess first!</span>
<span id="cb98-938"><a href="#cb98-938"></a></span>
<span id="cb98-939"><a href="#cb98-939"></a></span>
<span id="cb98-940"><a href="#cb98-940"></a><span class="fu">## My Guess</span></span>
<span id="cb98-941"><a href="#cb98-941"></a></span>
<span id="cb98-942"><a href="#cb98-942"></a><span class="ss">- </span>I took the electronegativity of Tc's neighbors vertically and horizontally.</span>
<span id="cb98-945"><a href="#cb98-945"></a><span class="in">```{python}</span></span>
<span id="cb98-946"><a href="#cb98-946"></a>Tc</span>
<span id="cb98-947"><a href="#cb98-947"></a><span class="in">```</span></span>
<span id="cb98-948"><a href="#cb98-948"></a></span>
<span id="cb98-949"><a href="#cb98-949"></a><span class="fu">## One Way</span></span>
<span id="cb98-950"><a href="#cb98-950"></a></span>
<span id="cb98-951"><a href="#cb98-951"></a><span class="ss">- </span>Tc is group 7 and period 5, so, perhaps...</span>
<span id="cb98-954"><a href="#cb98-954"></a><span class="in">```{python}</span></span>
<span id="cb98-955"><a href="#cb98-955"></a><span class="co"># DataFrame "vertical horizontal neighbors"</span></span>
<span id="cb98-956"><a href="#cb98-956"></a>vh <span class="op">=</span> df[df[<span class="st">"Group"</span>] <span class="op">&gt;=</span> <span class="dv">6</span>]</span>
<span id="cb98-957"><a href="#cb98-957"></a>vh <span class="op">=</span> vh[vh[<span class="st">"Group"</span>] <span class="op">&lt;=</span> <span class="dv">8</span>]</span>
<span id="cb98-958"><a href="#cb98-958"></a>vh <span class="op">=</span> vh[vh[<span class="st">"Period"</span>] <span class="op">&gt;=</span> <span class="dv">4</span>]</span>
<span id="cb98-959"><a href="#cb98-959"></a>vh <span class="op">=</span> vh[vh[<span class="st">"Period"</span>] <span class="op">&lt;=</span> <span class="dv">6</span>]</span>
<span id="cb98-960"><a href="#cb98-960"></a>vh</span>
<span id="cb98-961"><a href="#cb98-961"></a><span class="in">```</span></span>
<span id="cb98-962"><a href="#cb98-962"></a></span>
<span id="cb98-963"><a href="#cb98-963"></a><span class="fu">## Aside: Boolean Index</span></span>
<span id="cb98-964"><a href="#cb98-964"></a></span>
<span id="cb98-965"><a href="#cb98-965"></a><span class="ss">- </span>The previous example was not graceful.</span>
<span id="cb98-966"><a href="#cb98-966"></a><span class="ss">- </span>We can use <span class="co">[</span><span class="ot">Boolean Indexing</span><span class="co">](https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html)</span></span>
<span id="cb98-967"><a href="#cb98-967"></a><span class="ss">- </span>The range detection method used earlier in <span class="in">`piecewise.py`</span> doesn't work on arrays unfortunately.</span>
<span id="cb98-968"><a href="#cb98-968"></a><span class="ss">- </span>But <span class="in">`(array &lt; value) &amp; (array &gt; value)`</span> works.</span>
<span id="cb98-969"><a href="#cb98-969"></a></span>
<span id="cb98-970"><a href="#cb98-970"></a><span class="fu">## Aside: Example</span></span>
<span id="cb98-971"><a href="#cb98-971"></a></span>
<span id="cb98-974"><a href="#cb98-974"></a><span class="in">```{python}</span></span>
<span id="cb98-975"><a href="#cb98-975"></a>vh <span class="op">=</span> df[(df[<span class="st">"Group"</span>] <span class="op">&gt;=</span> <span class="dv">6</span>) <span class="op">&amp;</span> (df[<span class="st">"Group"</span>] <span class="op">&lt;=</span> <span class="dv">8</span>) <span class="op">&amp;</span> (df[<span class="st">"Period"</span>] <span class="op">&gt;=</span> <span class="dv">4</span>) <span class="op">&amp;</span> (df[<span class="st">"Period"</span>] <span class="op">&lt;=</span> <span class="dv">6</span>)]</span>
<span id="cb98-976"><a href="#cb98-976"></a>vh</span>
<span id="cb98-977"><a href="#cb98-977"></a><span class="in">```</span></span>
<span id="cb98-978"><a href="#cb98-978"></a></span>
<span id="cb98-979"><a href="#cb98-979"></a><span class="fu">## Aside: Immediate Neighbor</span></span>
<span id="cb98-980"><a href="#cb98-980"></a></span>
<span id="cb98-981"><a href="#cb98-981"></a><span class="ss">- </span>It actually probably makes more sense to take</span>
<span id="cb98-982"><a href="#cb98-982"></a><span class="ss">    - </span>The sum, of</span>
<span id="cb98-983"><a href="#cb98-983"></a><span class="ss">    - </span>The absolute values, of</span>
<span id="cb98-984"><a href="#cb98-984"></a><span class="ss">    - </span>The differences, between</span>
<span id="cb98-985"><a href="#cb98-985"></a><span class="ss">        - </span>Tc's group and period, and</span>
<span id="cb98-986"><a href="#cb98-986"></a><span class="ss">        - </span>The tested row's group and period.</span>
<span id="cb98-987"><a href="#cb98-987"></a></span>
<span id="cb98-988"><a href="#cb98-988"></a><span class="fu">## Immediate Example</span></span>
<span id="cb98-989"><a href="#cb98-989"></a></span>
<span id="cb98-992"><a href="#cb98-992"></a><span class="in">```{python}</span></span>
<span id="cb98-993"><a href="#cb98-993"></a>close <span class="op">=</span> df[(<span class="bu">abs</span>(df[<span class="st">"Group"</span>] <span class="op">-</span> <span class="dv">7</span>) <span class="op">+</span> <span class="bu">abs</span>(df[<span class="st">"Period"</span>] <span class="op">-</span> <span class="dv">5</span>)) <span class="op">&lt;</span> <span class="dv">2</span>]</span>
<span id="cb98-994"><a href="#cb98-994"></a>close</span>
<span id="cb98-995"><a href="#cb98-995"></a><span class="in">```</span></span>
<span id="cb98-996"><a href="#cb98-996"></a></span>
<span id="cb98-997"><a href="#cb98-997"></a><span class="fu">## My Estimate:</span></span>
<span id="cb98-998"><a href="#cb98-998"></a></span>
<span id="cb98-999"><a href="#cb98-999"></a><span class="ss">- </span>After picking what I thought was things near Tc that should cancel out each other's distance, I calculate their mean.</span>
<span id="cb98-1002"><a href="#cb98-1002"></a><span class="in">```{python}</span></span>
<span id="cb98-1003"><a href="#cb98-1003"></a>my_pred <span class="op">=</span> close[<span class="st">"Electronegativity"</span>].mean()</span>
<span id="cb98-1004"><a href="#cb98-1004"></a>my_pred</span>
<span id="cb98-1005"><a href="#cb98-1005"></a><span class="in">```</span></span>
<span id="cb98-1006"><a href="#cb98-1006"></a><span class="ss">- </span>This is my naive prediction.</span>
<span id="cb98-1007"><a href="#cb98-1007"></a><span class="ss">- </span>Now I interpolate.</span>
<span id="cb98-1008"><a href="#cb98-1008"></a></span>
<span id="cb98-1009"><a href="#cb98-1009"></a><span class="fu">## Interpolate</span></span>
<span id="cb98-1010"><a href="#cb98-1010"></a></span>
<span id="cb98-1011"><a href="#cb98-1011"></a><span class="ss">- </span><span class="in">`LinearNDInterpolator`</span> takes an array of known inputs and an array of known outputs and returns a function that it thinks describes the relationship.</span>
<span id="cb98-1012"><a href="#cb98-1012"></a><span class="ss">- </span>"Thinks" being a vague term here to convey a sense of learning or prediction or estimation.</span>
<span id="cb98-1015"><a href="#cb98-1015"></a><span class="in">```{python}</span></span>
<span id="cb98-1016"><a href="#cb98-1016"></a>f <span class="op">=</span> LinearNDInterpolator(arr2d, Z)</span>
<span id="cb98-1017"><a href="#cb98-1017"></a>scipy_pred <span class="op">=</span> f(<span class="dv">7</span>,<span class="dv">5</span>)</span>
<span id="cb98-1018"><a href="#cb98-1018"></a>[scipy_pred, my_pred, Tc[<span class="st">"Electronegativity"</span>]]</span>
<span id="cb98-1019"><a href="#cb98-1019"></a><span class="in">```</span></span>
<span id="cb98-1020"><a href="#cb98-1020"></a></span>
<span id="cb98-1021"><a href="#cb98-1021"></a><span class="fu">## Exercise</span></span>
<span id="cb98-1022"><a href="#cb98-1022"></a></span>
<span id="cb98-1023"><a href="#cb98-1023"></a><span class="ss">- </span>Predict using your own methods the density of Tc.</span>
<span id="cb98-1024"><a href="#cb98-1024"></a><span class="ss">- </span>Interpolate using SciPy the density of Tc.</span>
<span id="cb98-1025"><a href="#cb98-1025"></a></span>
<span id="cb98-1026"><a href="#cb98-1026"></a><span class="fu">## Solution</span></span>
<span id="cb98-1027"><a href="#cb98-1027"></a></span>
<span id="cb98-1030"><a href="#cb98-1030"></a><span class="in">```{python}</span></span>
<span id="cb98-1031"><a href="#cb98-1031"></a><span class="co">#| code-fold: true</span></span>
<span id="cb98-1032"><a href="#cb98-1032"></a><span class="co">#| output: false</span></span>
<span id="cb98-1033"><a href="#cb98-1033"></a>df <span class="op">=</span> pd.read_csv(<span class="st">"https://gist.githubusercontent.com/GoodmanSciences/c2dd862cd38f21b0ad36b8f96b4bf1ee/raw/1d92663004489a5b6926e944c1b3d9ec5c40900e/Periodic%2520Table</span><span class="sc">%2520o</span><span class="st">f</span><span class="sc">%2520E</span><span class="st">lements.csv"</span>)</span>
<span id="cb98-1034"><a href="#cb98-1034"></a>df.drop(<span class="dv">42</span>)</span>
<span id="cb98-1035"><a href="#cb98-1035"></a>df <span class="op">=</span> df[[<span class="st">"Group"</span>, <span class="st">"Period"</span>, <span class="st">"Density"</span>]]</span>
<span id="cb98-1036"><a href="#cb98-1036"></a>df <span class="op">=</span> df.dropna()</span>
<span id="cb98-1037"><a href="#cb98-1037"></a>f <span class="op">=</span> LinearNDInterpolator(np.column_stack((df[<span class="st">"Group"</span>],df[<span class="st">"Period"</span>])), df[<span class="st">"Density"</span>])</span>
<span id="cb98-1038"><a href="#cb98-1038"></a>me <span class="op">=</span> df[(<span class="bu">abs</span>(df[<span class="st">"Group"</span>] <span class="op">-</span> <span class="dv">7</span>) <span class="op">+</span> <span class="bu">abs</span>(df[<span class="st">"Period"</span>] <span class="op">-</span> <span class="dv">5</span>)) <span class="op">&lt;</span> <span class="dv">2</span>][<span class="st">"Density"</span>].mean()</span>
<span id="cb98-1039"><a href="#cb98-1039"></a>[f(<span class="dv">7</span>,<span class="dv">5</span>), me, Tc[<span class="st">"Density"</span>]]</span>
<span id="cb98-1040"><a href="#cb98-1040"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>